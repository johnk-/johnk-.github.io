<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Big Alien Proposal ðŸ›¸ &quot;/REFINEMENTS&quot; Run Functions - #4 by hostilefork - Datatypes - AltRebol</title>
    <meta name="description" content="UPDATE...This was tried out, and while interesting things were learned it ultimately didn&amp;#39;t &amp;quot;feel right&amp;quot; (in particular the competition of /slash for refinement and /slash: for function definition was more annoying than&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1905.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Big Alien Proposal :flying_saucer: &quot;/REFINEMENTS&quot; Run Functions&#39;" href="../1905.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/big-alien-proposal-refinements-run-functions/1905/4" />
<meta name="twitter:url" content="https://forum.rebol.info/t/big-alien-proposal-refinements-run-functions/1905/4" />
<meta property="og:title" content="Big Alien Proposal ðŸ›¸ &quot;/REFINEMENTS&quot; Run Functions" />
<meta name="twitter:title" content="Big Alien Proposal ðŸ›¸ &quot;/REFINEMENTS&quot; Run Functions" />
<meta property="og:description" content="It&#39;s not &quot;oh no, terrible idea&quot;...so I&#39;ll take it.  ðŸ™‚   I have thought about how this would affect teaching the language.  If you think of it like learning there are &quot;normal&quot; parameters, and then learning &quot;quoted&quot; parameters is part of the whole power to make things bend.... then you might imagine a certain style of teaching where people think for a while that things like APPEND are somehow &quot;keywords&quot; and then they have to use slashes for their &quot;functions&quot;.  But then...you reveal....." />
<meta name="twitter:description" content="It&#39;s not &quot;oh no, terrible idea&quot;...so I&#39;ll take it.  ðŸ™‚   I have thought about how this would affect teaching the language.  If you think of it like learning there are &quot;normal&quot; parameters, and then learning &quot;quoted&quot; parameters is part of the whole power to make things bend.... then you might imagine a certain style of teaching where people think for a while that things like APPEND are somehow &quot;keywords&quot; and then they have to use slashes for their &quot;functions&quot;.  But then...you reveal....." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Datatypes" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2022-07-30T01:54:33+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1905.html">Big Alien Proposal ðŸ›¸ &quot;/REFINEMENTS&quot; Run Functions</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/development/datatypes.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Big Alien Proposal :flying_saucer: &quot;/REFINEMENTS&quot; Run Functions'>
        <meta itemprop='articleSection' content='Datatypes'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-29T08:34:04Z' class='post-time'>
                    July 29, 2022,  8:34am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-05T04:29:40Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <blockquote>
<p><strong>UPDATE</strong>...This was tried out, and while interesting things were learned it ultimately didn't "feel right" <em>(in particular the competition of <code>/slash</code> for refinement and <code>/slash:</code> for function definition was more annoying than anticipated, and SET-PATH!s introduce a lot of complexity in places it wasn't needed.)</em>  See further down the thread.  It's informing new designs being tried out.</p>
</blockquote>
<hr>
<p>So far, <strong><code>/leading</code></strong> <strong><code>/slash</code></strong> <strong><code>/notation</code></strong> has just been evaluator inert, lining up with Rebol2 and Red and R3-Alpha:</p>
<pre><code>redbol&gt;&gt; /foo
== /foo
</code></pre>
<p>That inertness doesn't seem to get leveraged much.  And in Ren-C it's a particularly weak choice, since the evaluator has generic quoting to get you the literal result:</p>
<pre><code>ren-c&gt;&gt; '/foo
== /foo
</code></pre>
<p>Also, leading slash is an actual PATH!...encompassing arbitrary patterns like <strong><code>/lib.append/dup/part</code></strong>.  So I've always been wondering if there was some interesting evaluator behavior for it, like...</p>
<ul>
<li>
<p>...asking to pick from "global scope": if your function has an argument called ALL then /ALL might get you the definition outside your function?  (Something like <strong><code>::foo</code></strong> in C++)</p>
</li>
<li>
<p>...maybe a shorthand for <strong><code>self/foo</code></strong> for picking members out of objects inside of methods?</p>
</li>
</ul>
<p>Yet nothing has ever really stuck.  But <a class="mention" href="https://forum.rebol.info/u/ingohohmann">@IngoHohmann</a> pointed out that there's a basic thing that leading slashes might do for us which may have been overlooked...</p>
<p>...<em>simply running functions</em>.</p>
<h2>"But WORD!s Run Functions, Why Should /FOO Do That?"</h2>
<p>There are many reasons, but the biggest one is...</p>
<hr>
<p><strong>I feel pretty much 100% certain it is time that we switched to a world <em>where not all WORD!s holding ACTION!s will run them.</em></strong></p>
<hr>
<p>It's too cumbersome when writing generic code to worry that a value you got "from somewhere" and put into a SET-WORD! has to be handled with special operators:</p>
<pre><code> &gt;&gt; var: select obj 'item
 &gt;&gt; if integer? var [print "INT"]
 Muhaha the next thing at your callsite was [print "INT"]  ; eek, VAR was action

 &gt;&gt; var: first block
 &gt;&gt; if integer? var [print "INT"]
 HAH! Did you think blocks were safe?  Not at all: [print "INT"]  ; in blocks too!
</code></pre>
<p><img src="../../../images/emoji/twitter/man_facepalming.png%3Fv=9" title=":man_facepalming:" class="emoji only-emoji" alt=":man_facepalming:"></p>
<p>Whether you think of it in terms of "security"--or simply bugs and chaos--this <em>persistent tax</em> on Redbol code authors has lacked a palatable solution.  Putting a GET-XXX! on every access is ugly, and easy to forget.  What we've ended up with is a mishmash...where people are constantly forced to choose between deciding if the brokenness is likely enough to cause a problem that it's worth it to make the code ugly.</p>
<p>(When code ages, it's like it develops some sort of pox--as leading colons are added on an ad-hoc basis, then no one really knows if they're safe to remove.)</p>
<p><strong>I propose that only specially marked assignments would <em>automatically</em> run a function through a word reference, requiring a ^META access to get the action value literally.</strong></p>
<pre><code>&gt;&gt; /foo: func [x] [print ["X is" x]]

&gt;&gt; foo 10
X is 10

&gt;&gt; ^foo
== #[action! {foo} [x]]
</code></pre>
<p><strong>If a function is assigned through a plain SET-WORD!, then that would be inert by default...but able to take advantage of this new leading-slash execution.</strong></p>
<pre><code>&gt;&gt; foo: func [x] [print ["X is" x]]

&gt;&gt; foo
== #[action! {foo} [x]]

&gt;&gt; /foo 10
X is 10
</code></pre>
<h2>Compliance Isn't Actually That Ugly!</h2>
<p>If you look at the definition of an object, then annotating the member functions isn't really so bad:</p>
<pre><code>obj: make object! [
    data: 1
    /accessor: does [return data + 1]
]
</code></pre>
<p>This also gives us some extra ammo: <strong>it can explain why we would use OBJ/ACCESSOR to invoke the function, and why OBJ.ACCESSOR can act as an error</strong>.</p>
<p>That can clean up examples like this:</p>
<pre><code> &gt;&gt; error: trap [...]
 &gt;&gt; if integer? error.arg1 [print "INT"]
 You forgot to worry about TUPLE! too! [print "INT"]  ; aaaargh...
</code></pre>
<p>All we have to do is say that TUPLE! accesses like that can't run methods.  It would have to be <strong><code>error/arg1</code></strong> to run it... which would also confirm that it was actually defined as a method.  (Otherwise you'd run it with <strong><code>/error.arg1</code></strong> if it was just a random non-method field that happened to be a function.)</p>
<p>This would be a systemic solution to historical annoyances.</p>
<h2>It Can Be A Nice Dialecting Pattern</h2>
<p><strong>It's useful in dialects where plain WORD! references are taken for another meaning.</strong>  For instance, UPARSE by default assumes a word means a combinator, so if you want to run a function that uses parse rules to gather its arguments you need something else:</p>
<pre><code>&gt;&gt; parse [1] [/negate integer!]
== -1

&gt;&gt; parse [1 2] [/add integer! integer!]
== 3
</code></pre>
<p>Initially I tried this with terminal slashes, as <strong><code>negate/</code></strong> and <strong><code>add/</code></strong>, but that doesn't look as good (and separates the functions from their arguments).</p>
<h2>What Do We Lose?</h2>
<p>Because I was trying to think of a meaningful evaluator behavior for leading-slash values, I didn't do much with them.  But eventually I decided to use them in New Apply:</p>
<p><a href="../../apply-ii-the-revenge/1834.html" class="inline-onebox">APPLY II: The Revenge!</a></p>
<p>They're nice because they break up the space:</p>
<pre><code>&gt;&gt; apply :append [[a b c] [d e] /dup 2]
== [a b c [d e] [d e]]
</code></pre>
<p>But SET-WORD! is reasonable at this, and commas can make it more visually separate if needed:</p>
<pre><code>&gt;&gt; apply :append [[a b c] [d e] dup: 2]
== [a b c [d e] [d e]]

&gt;&gt; apply :append [[a b c] [d e], dup: 2]
== [a b c [d e] [d e]]
</code></pre>
<p>Of course whatever we put here is being overloaded.  If you want a SET-WORD! for assignment purposes, you'd have to put it in a group:</p>
<pre><code>&gt;&gt; apply :append [(abc: [a b c]) [d e], dup: 2]
== [a b c [d e] [d e]]

&gt;&gt; abc
== [a b c]
</code></pre>
<p>So we could think of this similarly.  If you wanted to use a refinement-style path here, you just do it in a group:</p>
<pre><code>&gt;&gt; apply :append [(/reverse [a b c]) [d e], /dup 2]
== [c b a [d e] [d e]]
</code></pre>
<p><strong>APPLY is a dialect, and there are always going to be some tradeoffs made.</strong>   There's only so many parts.</p>
<p><strong>It's probably best to leave APPLY as it is.</strong>  I don't think we're going to be in the midst of some epidemic where suddenly every function invocation is done through a leading slash and it's going to be  contentious.  There will also be ways of running a function through REEVAL or maybe a dedicated RUN function that won't use the slash...</p>
<p>So nothing needs to be lost, really.</p>
<h2>The Big Win is that the <em>Obvious</em> Code is the <em>Correct</em> Code</h2>
<p>I've done some tentative implementation on all this, and all together, it seems pretty solid</p>
<p>Really all you're doing is paying the cost of an extra (easy-to-type) character to say that a word is intended to execute a function without needing to explicitly be told to.</p>
<p>There will be ways to subvert it, as of course you could do this:</p>
<pre><code>&gt;&gt; /func: enfix lambda [left [set-word!] spec body] [
       do compose [/(as word! left): lib/func (spec) (body)]
   ]

&gt;&gt; cheat: func [] [print "Breakin the law, breakin the law..."]

&gt;&gt; cheat
Breakin the law, breakin the law...
</code></pre>
<p>But we wouldn't make you do it that laboriously, if you're making something where words need to be associated with functions that run automatically.  And Redbol would do it through some evaluator parameterization as opposed to a mechanism like that.</p>
<p>However, the general expectation would be that most people would embrace the slash, as a useful piece of information...that makes everything work more coherently.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../weird-word-s-allow-but-escape-them/1560/3.html">Weird WORD!s - Allow, But Escape Them?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/BlackATTR'><span itemprop='name'>BlackATTR</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-30T00:35:39Z' class='post-time'>
                    July 30, 2022, 12:35am
                  </time>
                  <meta itemprop='dateModified' content='2022-07-30T00:35:39Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Looks awesome to me. I appreciate the leveraging of prior art and making it consistent throughout the design.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../../u/Brett.html'><span itemprop='name'>Brett</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-30T01:00:21Z' class='post-time'>
                    July 30, 2022,  1:00am
                  </time>
                  <meta itemprop='dateModified' content='2022-07-30T01:00:21Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Agreed there is a persistent tax on code.</p>
<p>I think a great new perspective and I like that, makes you think and dream.</p>
<p>I wonder if the proposal just shifts the problem so you will still have it, just in a different way. If it reduces the burden then that's good.</p>
<p>The slash becomes a marker for type I guess but not always. Perhaps a beginner will pre-slash all words wherever they want to call a function - I wonder what that would look like.</p>
<p>Obvious code is the correct code is definitely a big win.</p>
<p>In thinking how the utility of leading slashes may have been overlooked for other usage I wondered if it could relate to binding "this word searches for it's binding...somewhere else..." - but I've got nothing useful to say on that.. <img src="../../../images/emoji/twitter/upside_down_face.png%3Fv=9" title=":upside_down_face:" class="emoji" alt=":upside_down_face:"></p>
<p>Thinking how the proposal associates type, my next vague idea was whether words could use a dictionary that specifies expectations more globally that the code to which the dictionary relates is prepared for functions or not. Again I've got nothing useful to say on that further <img src="../../../images/emoji/twitter/smirk.png%3Fv=9" title=":smirk:" class="emoji" alt=":smirk:"></p>
<p>Ignoring my vague notions, I think it's a potentially very worthwhile idea.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-30T01:54:33Z' class='post-time'>
                    July 30, 2022,  1:54am
                  </time>
                  <meta itemprop='dateModified' content='2022-07-30T02:01:18Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>Ignoring my vague notions, I think it's a potentially very worthwhile idea.</p>
</blockquote>
</aside>
<p>It's not "oh no, terrible idea"...so I'll take it.  <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
<aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>Perhaps a beginner will pre-slash all words wherever they want to call a function - I wonder what that would look like.</p>
</blockquote>
</aside>
<p>I have thought about how this would affect teaching the language.</p>
<p>If you think of it like learning there are "normal" parameters, and then learning "quoted" parameters is part of the whole <em>power to make things bend</em>.... then you might imagine a certain style of teaching where people think for a while that things like APPEND are somehow "keywords" and then they have to use slashes for their "functions".</p>
<p>But then...you reveal... that <strong><code>/FOO:</code></strong> is the magic "keyword-making tool", and they see it as a <em>choice</em>.</p>
<p>Perhaps people would start thinking of these as being in different categories--and using a mix of both.  (<em>"I use FOO: for functions, and /FOO: for keywords"</em>)  But that starts to make you wonder about what to do when they slip up... and what they thought was going to act as a keyword falls through the cracks as a discarded value.</p>
<p><em>(I've written a bit of theory on how we might do a better job of <a href="../../safety-concept-error-on-discarded-plain-block/1305.html">"noticing discarded values"</a>, and there actually are probably a few new tools for us here... but... nothing imminent.)</em></p>
<p>Anyway... who knows.  Maybe this idea of "there are functions you call with a notation, and there are keywords" isn't such a bad idea.  It's how other languages work.  <img src="../../../images/emoji/twitter/man_shrugging.png%3Fv=9" title=":man_shrugging:" class="emoji" alt=":man_shrugging:">   Perhaps some users would find comfort in drawing a distinction about which words they "activated".</p>
<aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>I wonder if the proposal just shifts the problem so you will still have it, just in a different way.</p>
</blockquote>
</aside>
<p>Ultimately Redbols have brought in the dangerous opportunity that any word you are looking at can be redefined, and might call a function.</p>
<p>Yet we have to write code, and meta-code, and meta-meta-code, etc. in such an environment.</p>
<p>So I would say your intuition is correct--this is like <a href="https://en.wikipedia.org/wiki/Noise_shaping">noise shaping</a> in engineering--where you try to push the system-intrinsic noise into places it won't matter (like moving sound noise power to where the human ear won't pick it up).  <em>We cannot remove the complexity, only push it other places.</em></p>
<p>But I feel that this pushes the concerns up the spectrum to the meta and meta-meta code, which already had to be careful anyway.  And I don't think any of that code gets <em>too much</em> more complex...just a bit different.</p>
<aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>Obvious code is the correct code is definitely a big win.</p>
</blockquote>
</aside>
<p>I think it will give people a better grounding to be able to use the language enough to even <em>care</em> about what's in play at the meta and meta-meta levels...!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-30T16:54:54Z' class='post-time'>
                    July 30, 2022,  4:54pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-30T16:54:54Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A post was merged into an existing topic: <a href="../../its-time-to-join-together/1030/2.html">It's Time To JOIN Together</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-30T17:22:06Z' class='post-time'>
                    July 30, 2022,  5:22pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-30T18:14:36Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>...maybe a shorthand for <strong><code>self/foo</code></strong> for picking members out of objects inside of methods?</p>
</blockquote>
</aside>
<p>One piece of feedback that came back to me was that this feature (picking out of "self") sounded compelling.</p>
<p>And I notice that if we decided that <strong><code>.data</code></strong> was a way of picking a data element out of a "current" object, that we'd need <strong><code>/accessor</code></strong> for running methods out of the "current" object.  <img src="../../../images/emoji/twitter/neutral_face.png%3Fv=9" title=":neutral_face:" class="emoji" alt=":neutral_face:"></p>
<p>Hmmm.</p>
<p>That still fits in with the idea of <strong><code>/foo:</code></strong> for making word-active functions, so it doesn't undermine that part.  And it still fits in with <strong><code>/foo</code></strong> running functions, too.  It's just potentially contentious with "run this function with plain binding"--whatever plain binding is.  <img src="../../../images/emoji/twitter/roll_eyes.png%3Fv=9" title=":roll_eyes:" class="emoji" alt=":roll_eyes:"></p>
<p>Anyway...there is still terminal slash.  And of course we could make RUN for invoking inert functions.</p>
<pre><code>&gt;&gt; foo: func [x] [print ["X is" x]]

&gt;&gt; foo
== #[action! {foo} [x]]

&gt;&gt; foo/ 10
X is 10

&gt;&gt; run foo 10
X is 10
</code></pre>
<p>If we believe leading slash needs to be preserved for such purposes, they might be common enough to warrant using SET-WORD! in APPLY.</p>
<p>One brainstorm thought would be that if you're not in an object, then <strong><code>/foo</code></strong> gets you the function "as imported in the current module".  And then you could use a number of slashes to escape that, like inside an object you would say <strong><code>//foo</code></strong> or <strong><code>..foo</code></strong> to back out.  This depends very much on the binding model to say you have that available, and likely wreaks havoc on composed code.</p>
<p>Anyway, the way to get a stronger position is to keep looking at things from lots of angles.  So keep thinking!</p>
<p>I'm going ahead with the <strong><code>/foo:</code></strong> for word-activated functions regardless, as that holds whether /foo is reserved for running methods out of self or not.  There's a lot to get worked out--in particular this is creating the first big rift in Redbol emulation, so parameterized evaluators have to get worked on.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../../u/iceflow19.html'><span itemprop='name'>iceflow19</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-01T05:45:54Z' class='post-time'>
                    August 1, 2022,  5:45am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-01T17:09:39Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I always felt like there was an elegant symmetry to:</p>
<pre><code>:word  =&gt; get
 word  =&gt; evaluate
 word: =&gt; set 
</code></pre>
<p>The evaluation of a primitive being itself and the evaluation of an action being it's result. Unless I'm forgetting fringe cases, wouldn't this in practice make word! and get-word! effectively the same at that point? I mean if this is where we are at then why not go full Leeroy Jenkins on it and force all value accesses through get-word! and restrict word!s only to evaluating actions. Of course I could just be brain farting at 2 in the morning.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-01T18:35:41Z' class='post-time'>
                    August 1, 2022,  6:35pm
                  </time>
                  <meta itemprop='dateModified' content='2023-06-24T10:32:58Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="iceflow19" data-post="7" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forum.rebol.info/iceflow19/40/332_2.png" class="avatar"> iceflow19:</div>
<blockquote>
<p>why not go full Leeroy Jenkins on it and force all value accesses through get-word! and restrict word!s only to evaluating actions</p>
</blockquote>
</aside>
<p>It's worth asking, but... the entire purpose of the language is to sort of be able to "animate" declarative data so that it executes, usually with an English-like aesthetic.</p>
<p><strong><code>:xxx</code></strong> isn't a particularly natural thing to see or type--we don't put colons before things in writing.  It would make things much uglier.</p>
<aside class="quote no-group" data-username="iceflow19" data-post="7" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forum.rebol.info/iceflow19/40/332_2.png" class="avatar"> iceflow19:</div>
<blockquote>
<p>I always felt like there was an elegant symmetry</p>
</blockquote>
</aside>
<p>More a gimmick... and the 90% similiarity between WORD! and GET-WORD! mean it's not that useful.  The difference is mostly just there to bite people who are trying to write generic code when they forget.</p>
<p>There's a lot more elegance with simply WORD! for getting, and SET-WORD! for setting.  And if there's some reason WORD! wasn't good enough for getting, then the value is probably "ornery" in some way...so when you fetch it, then ideally it should go through a transformation that makes it less ornery.</p>
<p>This is why there are ^META words...</p>
<pre><code>&gt;&gt; x: 10

&gt;&gt; ^x
== '10   ; quoted 10
</code></pre>
<p>The added quote level defuses things at "quote level -1", which are called isotopes.  These are the things with "odd" behaviors (like unset variables, definitional errors, running actions).  The ^META step means they are easier to work with and pipe around...because they have been reified as plain items at quote level 0 (so they can be put in blocks and are otherwise normal).  Then you "unmeta" them to return them to the form that's "too hot to get".</p>
<p>But this is for when code <em>needs</em> to be sophisticated...and my aim is to empower that sophisticated code.  So if someone would say "I'm not that worried about things like picking a function out of a block, because I never put functions in blocks"... they need to think about what life is like for the people writing libraries.  If good generic libraries aren't pleasant and fluid to write--with that property of <em>correct by default</em> that I mention... the end users won't have a very interesting ecology to write code in.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-01T22:37:24Z' class='post-time'>
                    August 1, 2022, 10:37pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-01T22:37:24Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>And I notice that if we decided that <strong><code>.data</code></strong> was a way of picking a data element out of a "current" object, that we'd need <strong><code>/accessor</code></strong> for running methods out of the "current" object. <img src="../../../images/emoji/twitter/neutral_face.png%3Fv=9" title=":neutral_face:" class="emoji" alt=":neutral_face:"></p>
</blockquote>
</aside>
<p>The appealing thing here is the idea that inside a method implementation for an object, you could have another method in that object with a name like "append", and then <strong><code>/append</code></strong> would be assumed to mean <strong><code>self/append</code></strong> while plain <strong>append</strong> could be left to its global meaning.</p>
<p>Or... we could say the self form is <strong><code>./append</code></strong> - which would be kind of like how file paths work in Linux.  When you just say plain <strong>append</strong> it uses the "active environment" (e.g. search paths) to determine the meaning.  The <strong><code>./</code></strong> prefix says you want to be running things out of the current location.</p>
<p>That would leave <strong><code>/append</code></strong> free to be talking about the same word as <strong><code>append</code></strong>, just asking to invoke it.</p>
<p><em>Remember this is all highly speculative, and based on binding ideas that may be contradictory to whatever model is found to eventually make sense.</em></p>
<p><a class="mention" href="../../../u/iceflow19.html">@iceflow19</a> - you might want to look at:</p>
<p><a href="../../rebol-and-scopes-well-why-not/1751.html" class="inline-onebox">Rebol And Scopes: Well, Why Not?</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/johnk'><span itemprop='name'>johnk</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-03T03:31:19Z' class='post-time'>
                    August 3, 2022,  3:31am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-03T03:31:19Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I can see the benefits of this proposal especially from a security point of view. If we are thinking of using <code>RUN</code> then I am not convinced that <code>/</code> <em>sounds</em> like a run symbol.<br>
<code>&gt;</code> is an extra key press, but it looks much more like a run action to me. We may have to consider a different prompt symbol.</p>
<pre><code class="lang-auto">&gt;&gt; &gt;foo 10
X is 10
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-03T03:53:31Z' class='post-time'>
                    August 3, 2022,  3:53am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-03T03:53:31Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="johnk" data-post="10" data-topic="1905">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/johnk/40/229_2.png" class="avatar"> johnk:</div>
<blockquote>
<p>I am not convinced that <code>/</code> <em>sounds</em> like a run symbol.</p>
</blockquote>
</aside>
<p>A fair thought...I'd say if there's anything so far bothering me with the prototype is that refinements are slashy, and the conflation starts making me think that those should be executable actions.</p>
<p>But how would we be representing these things?</p>
<pre><code>obj&gt;accessor
obj&gt;accessor/refinement
obj.subobj&gt;accessor/refinement
obj.data
</code></pre>
<p>This involves coming up with ways to wedge that <code>&gt;</code> (or whatever) into the existing reasonably-well-thought-out-and-working TUPLE! and PATH! mechanics.  What structure would these things be building?</p>
<p>There might be a RUN-WORD! like <strong><code>&gt;foo</code></strong>, and perhaps we could make an argument that RUN-WORD!s are allowed in PATH!s (at the head only, maybe?) and get something like:</p>
<pre><code>obj.&gt;accessor/refinement
</code></pre>
<p>But... the thing that the slash idea has going for it is just that it seemed fine to say that <strong>obj/accessor</strong> ran a method before.  And a plain word could run an action as well.  So when you tie that together with the idea of <strong>obj.data</strong> for picking a field, it makes the slash seem like an acceptable "method" indicator.  <em>A global slash is just a method on the global context or module itself.</em></p>
<p>Appreciate the thought, good to keep the ideas coming...</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1905.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-04T08:48:05Z' class='post-time'>
                    August 4, 2022,  8:48am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-04T08:48:05Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I managed to get a booting system where you have to use <strong><code>/foo:</code></strong> assignments to get functions to execute when dispatched by WORD!.</p>
<h2>TL;DR - I don't think I like it...BUT...</h2>
<p>It's valuable exploration, to look at the options and think about alternative designs.</p>
<h2>It Exercises Having FUNC <em>Not</em> Return ACTION! Isotopes</h2>
<p>Having "ACTION!s at quote level -1"... that cannot be put in blocks, and can represent a non-literal sort of usage of actions... is <em>very new</em>.  Like a-couple-weeks-ago new.</p>
<p>And in the first cut at implementing them, consider what would need to be true for this to work as expected:</p>
<pre><code>foo: func [x] [print [x]]
</code></pre>
<p>In this world, for the word FOO to run the function, that meant the return product of FUNC would have to be a function isotope.</p>
<p><em>That got ugly.</em>  The whole idea of isotopes is that most routines don't touch them, and error when they encounter them.  But this meant every generator (FUNC, LAMBDA, -&gt;, ADAPT, SPECIALIZE, CHAIN, ENCLOSE...) had to make isotopes.  And everything that processed or composed functions in any way had to either take isotopes or force you to ^META your generated functions.</p>
<p>I tried throwing in random decaying from isotopes to normal actions, but it felt uncomfortable.</p>
<p>That's because I imagined no one would want to write the "clean" answer:</p>
<pre><code>foo: unmeta func [x] [print [x]]
</code></pre>
<p>And probably wouldn't be much better with a specialized native like RUNS that only isotopified actions (in the spirit of how SPREAD only isotopifies blocks):</p>
<pre><code>foo: runs func [x] [print [x]]
</code></pre>
<p>I suggested even stealing something light like arrow:</p>
<pre><code>foo: -&gt; func [x] [print [x]]
</code></pre>
<p>But the search for minimal also dovetailed with the desire for <strong>lib/append</strong> to reasonably imply <strong>/append</strong> was a function.   So that's part of what birthed the <em>comparatively</em>-palatable idea of slipping it into the assignment with a single easy-to-type character:</p>
<pre><code>/foo: func [x] [print [x]]
</code></pre>
<p>So it's good to try that out.  Not having weird decay operations everywhere feels more stable.</p>
<p>But...</p>
<h2>Incongruity With Refinements Feels Worse Than I Thought</h2>
<p>We've already discussed the overlap with APPLY, where nice happy things were being overloaded, like:</p>
<pre><code> apply ^append [series value /dup 3]
</code></pre>
<p>But here, take a look at trying to move the CASE refinement name out of the way so that CASE the function can be used inside a function:</p>
<pre><code>/alter: func [
    return: [logic!]
    series [any-series! port! bitset!] {(modified)}
    value
    /case "Case-sensitive comparison"
][
    case_ALTER: case
    /case: ^lib.case
    ...
]
</code></pre>
<p>I'm not bothered by the <em>number</em> of slashes.  I'm bothered by them meaning such unrelated things, yet being used so close to each other in such a core construct.  The arrow proposal or even RUNS is less problematic:</p>
<pre><code>alter: -&gt; func [
    return: [logic!]
    series [any-series! port! bitset!] {(modified)}
    value
    /case "Case-sensitive comparison"
][
    case_ALTER: case
    case: runs ^lib.case
    ...
]
</code></pre>
<h2>Other Than That, Slash Kinda Helped Code Readability</h2>
<p>If you ignore the refinement debacle, there are some perks.  If we tie together slashiness with "runs a function", then I've already pointed out how this feels pretty natural:</p>
<pre><code>obj: make object! [
    data: 1
    /accessor: does [return data + 1]
]
</code></pre>
<p>But additionally, there are lots of "function generators" out there, with even more in the future.  If you see something that says:</p>
<pre><code>something: make-processor alpha beta gamma
</code></pre>
<p>Knowing if that SOMETHING is a function or not is a fairly important thing.  It means you have to think about how you handle it carefully, even if just passing it around to somewhere else.  So if you see:</p>
<pre><code>/something: make-processor alpha beta gamma
</code></pre>
<p>You have to know the function-or-not at the callsite.  Given that you have to know it when you reference it, then it seems to make some sense to declare it.</p>
<p>But I feel uneasy about treading on refinement's turf.  And among things in Rebol that seem actually kind of decent, the refinements in function specs actually do feel kind of "good".</p>
<h2>Forgetting The Slash Was Certainly Annoying</h2>
<p>We don't have any new-users who are only habituated to a world where you have to put in the slash.  So there's just going to be people who are used to not needing it, forgetting it.</p>
<p>This does bring about a shift from the <em>"over-execution"</em> of functions when you forget a GET-WORD!, to an <em>"under-execution"</em> of functions when you forget a slash.</p>
<p>There may be safety mechanisms to notice during a DO if you have a completely unused value midstream in an evaluation, where you'd have to ELIDE it if you really "meant to do that".</p>
<pre><code>&gt;&gt; foo: func [x] [print ["Not word-active, value is" x]]

&gt;&gt; do [foo 10]
** Error: Unused word-fetch in evaluator FOO, use ELIDE if purposeful

&gt;&gt; do [elide foo 10]
== 10  ; used, because it's the result
</code></pre>
<p>But such mechanisms wouldn't apply to REDUCE, which doesn't know whether you're going to wind up using the result or not:</p>
<pre><code>&gt;&gt; reduce [foo 10]
== [#[action! {foo} [x]] 10]
</code></pre>
<p>On the plus side, it's easier to see what's going wrong there when you look at the reduced block.</p>
<h3>What About An "I Meant To Do That" For Non-Slash FUNC Assigns?</h3>
<p>One vague idea I had was that if the return type of something is <em>only</em> ACTION!, then that might be taken to mean the likelihood you want to assign it to something active is higher than usual.  (If something can return ANY-VALUE! then you almost certainly want the thing it's assigned to being inert, because a slash assign would be an error if it was anything other than an ACTION!.)</p>
<p>So you could prove you-meant-to-do-that with any function that returned something other than just ACTION!:</p>
<pre><code>&gt;&gt; foo: does [print "Hello"]
** Error: DOES only returns ACTION!, use /FOO or pass through something else

&gt;&gt; foo: all [does [print "Hello"]]  ; something generic that returns ANY-VALUE!
== #[action! []]

&gt;&gt; foo: inert does [print "Hello"]  ; maybe something specific for the purpose
== #[action! []]
</code></pre>
<p>It's a bit weird to get the evaluator involved with such heuristics.  But practically speaking, it seems this would take care of most of the problem cases...and would help call out the oddity to readers.</p>
<p>The specialized construct should probably be enfix, quote the left hand side, and make sure the left hand side was <em>not</em> a slashed item.</p>
<pre><code>&gt;&gt; /foo: inert does [print "Hello"]
** Error: INERT used with /FOO: on left hand side, wouldn't be inert
</code></pre>
<h2>"What About Backwards: SET-WORD!s Make Isotope By Default?"</h2>
<p>I observed you could actually do this the other way, e.g. assignments of ACTION! to word are assumed to convert to isotopes unless you suppress it.  Maybe you suppress with something along the lines of <strong><code>.foo</code></strong></p>
<pre><code>&gt;&gt; block: reduce [does [print "Boo!"]]

&gt;&gt; block.1  ; tuple access is inert
== #[action! []]

&gt;&gt; foo: block.1  ; imagine assignment isotopifies
== #[action! []]  ; isotope

&gt;&gt; if action? foo [print "It's an action."]
Boo!
** Error: ...

&gt;&gt; .foo: block.1
&gt;&gt; if action? foo [print "It's an action."]
It's an action.
</code></pre>
<p>There is a compatibility advantage there... but it feels wrong... like... LIT-WORD!-decay-wrong.  <img src="../../../images/emoji/twitter/grimacing.png%3Fv=9" title=":grimacing:" class="emoji" alt=":grimacing:"></p>
<p>This has the same kind of problem as with the GET-WORD!s.  You'd find some people saying "oh, it'll never be an ACTION!..."--maybe right or wrong--and not using the dotted form.  Then other people would put dots in front of absolutely every assignment, just to be safe.  It's a lighter pox because it's only on the declarations, but still very much a pox.</p>
<p>What the slashing has going for it is that it has a clarifying effect--you know more about the source by seeing the slash there...and you don't get that "I know what it is" benefit from these dots.</p>
<p>But having to work with SET-PATH!s definitely introduced grating bits.  Anything that searched for SET-WORD! (like MAKE OBJECT! in the block you pass it) had to search for things that were <em>SET-WORD-LIKE</em>.  Some already shaky things got shakier.</p>
<h2>Any Synthesis Of Ideas Here That's Not Terrible?</h2>
<p><strong>It should be remembered that isotopic actions are new, and their potential benefits are not completely understood yet.</strong></p>
<p>We've seen great benefit from the isotopic blocks, <a href="../../the-long-awaited-death-of-only/1607.html">resolving the /ONLY debacle</a>.  And there are ideas behind isotopic actions and typesets and such, for solving similar problems of wanting non-literal-value semantics.</p>
<p><em>The part I liked about this prototype</em> was making things like FUNC and SPECIALIZE and ADAPT and everything else just return regular ACTION!.  It felt cleaner to shift this burden of things becoming isotopic onto the caller, because otherwise the burden was on decaying isotopic actions to regular actions.  That burden showed up when fulfilling action parameters, or inside COMPOSE or REDUCE, etc.</p>
<p>But looking at the two strategies side-by-side, I have to say that it's probably better to lean into the "generator functions" producing isotopes, and work from there.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
