<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Different Environment Lookup for WORD! vs. SET-WORD! - Binding - AltRebol</title>
    <meta name="description" content="In thinking about whether or not there&amp;#39;s something intrinsically necessary about a per-block (or per-group) differentiation of word-binding, I thought of a case where I&amp;#39;d used this. 
In SPECIALIZE, it only binds the SET&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2115.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Different Environment Lookup for WORD! vs. SET-WORD!&#39;" href="2115.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/different-environment-lookup-for-word-vs-set-word/2115" />
<meta name="twitter:url" content="https://forum.rebol.info/t/different-environment-lookup-for-word-vs-set-word/2115" />
<meta property="og:title" content="Different Environment Lookup for WORD! vs. SET-WORD!" />
<meta name="twitter:title" content="Different Environment Lookup for WORD! vs. SET-WORD!" />
<meta property="og:description" content="In thinking about whether or not there&#39;s something intrinsically necessary about a per-block (or per-group) differentiation of word-binding, I thought of a case where I&#39;d used this.  In SPECIALIZE, it only binds the SET-WORD!s to the frame you are specializing.  Regular words (and anything else, refinements, etc.) are left bound as they were:  &gt;&gt; value: [d e]  &gt;&gt; apde: specialize :append [        value: value  ; SET-WORD! is bound to specialization&#39;s frame    ]  &gt;&gt; apde [a b c] == [a b c [d e]]..." />
<meta name="twitter:description" content="In thinking about whether or not there&#39;s something intrinsically necessary about a per-block (or per-group) differentiation of word-binding, I thought of a case where I&#39;d used this.  In SPECIALIZE, it only binds the SET-WORD!s to the frame you are specializing.  Regular words (and anything else, refinements, etc.) are left bound as they were:  &gt;&gt; value: [d e]  &gt;&gt; apde: specialize :append [        value: value  ; SET-WORD! is bound to specialization&#39;s frame    ]  &gt;&gt; apde [a b c] == [a b c [d e]]..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />
<meta property="article:published_time" content="2023-11-11T23:02:07+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2115.html">Different Environment Lookup for WORD! vs. SET-WORD!</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Different Environment Lookup for WORD! vs. SET-WORD!'>
      <link itemprop='url' href='2115.html'>
      <meta itemprop='datePublished' content='2023-11-11T23:02:07Z'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2115.html">


              <span class="crawler-post-infos">
                  <time  datetime='2023-11-11T23:02:07Z' class='post-time'>
                    November 11, 2023, 11:02pm
                  </time>
                  <meta itemprop='dateModified' content='2023-11-11T23:07:56Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"><a href="../rebol-and-scopes-well-why-not/1751/1.html">Rebol And Scopes: Well, Why Not?</a></div>
<blockquote>
<p>people might say that the Xs and Ys can all resolve to something different.</p>
<pre><code>&gt;&gt; print [x x x y y y]
10 20 "foo" 30 40 "bar"
</code></pre>
<p>I find it personally frustrating when this is pronounced with glee<br>
(...)<br>
If you received a BLOCK! and wanted to go through and say that every SET-WORD! that starts with a vowel is going to be bound to some new object, but others will be left as-is, you can do that.</p>
</blockquote>
</aside>
<p>In thinking about whether or not there's something intrinsically necessary about a per-block (or per-group) differentiation of word-binding, I thought of a case where I'd used this.</p>
<p>In SPECIALIZE, it only binds the SET-WORD!s to the frame you are specializing.  Regular words (and anything else, refinements, etc.) are left bound as they were:</p>
<pre><code>&gt;&gt; value: [d e]

&gt;&gt; apde: specialize :append [
       value: value  ; SET-WORD! is bound to specialization's frame
   ]

&gt;&gt; apde [a b c]
== [a b c [d e]]
</code></pre>
<p>This saves you from the COMPOSE step you'd need otherwise, which is what you have to do with objects:</p>
<pre><code>&gt;&gt; value: [d e]

&gt;&gt; obj: make object! [value: value]
** Script Error: value is ~ isotope

&gt;&gt; obj: make object! compose [value: (value)]
== make object! [
    value: [d e]
]
</code></pre>
<p><strong>I'm not sure it's a critical feature to preserve.</strong>  If it turned out some alternative conception of binding wouldn't permit the inconsistency... and that conception offered some great advantage... I'd be willing to lose it.  There are legitimate arguments against doing such trickery behind people's backs, maybe the COMPOSE helps you keep it straight:</p>
<pre><code>&gt;&gt; value: [d e]

&gt;&gt; ap5: specialize :append [
       value: 5
       assert [value = 5]  ; assertion failure, but I just set it!
   ]
</code></pre>
<p>But I wanted to catalog it as a case of "arbitrary binding logic" that's in place at present.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../rebol-and-scopes-well-why-not/1751/6.html">Rebol And Scopes: Well, Why Not?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-13T01:37:51Z' class='post-time'>
                    January 13, 2024,  1:37am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-13T01:37:51Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="2115">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p><strong>I'm not sure it's a critical feature to preserve.</strong> If it turned out some alternative conception of binding wouldn't permit the inconsistency... and that conception offered some great advantage... I'd be willing to lose it.</p>
</blockquote>
</aside>
<p>The way this feature is accomplished today isn't by deep-walking the block and binding SET-WORD!s and WORD!s differently.  It's with a specifier "instruction" that is put in the chain that says <em>"propagate a binding, but only for SET-WORD!s"</em>.  It propagates down through the evaluator as each block is extracted.</p>
<p>There's no user exposure of that feature... it's something that only SPECIALIZE (and the esoteric APPLIQUE) can do at the moment.</p>
<p><a class="mention" href="https://forum.rebol.info/u/bradrn">@bradrn</a> has stated aspirations to make environments/specifiers "first class values", so instructions like this for hole-punching, or narrowing the categories of words...would make those values weirder.</p>
<p>I've thought to conceptualize "coalesced binding" (now manifest as IN) as basically just a function: I give you something that may or may not be bound already with some shape of that binding, you give me a newly shaped thing.  This newly shaped thing is a "binding machine" that needs to know how to do two things:</p>
<ol>
<li>
<p>coalesce with another environment</p>
</li>
<li>
<p>turn a value into something that can be looked up with GET and assigned with SET, or leave it alone</p>
</li>
</ol>
<p>We'll be discussing this more... but it's within the realm of possibility to say that the ultimate desired implementation will be able to target discerned binding in the vein of this "SET-WORD!-only" rule.</p>
<p>Regardless, the mechanism from today should keep working when I take a second shot at "pure virtual binding" using the new perspectives <a class="mention" href="https://forum.rebol.info/u/bradrn">@bradrn</a> and I have been hammering out.  <em>(The trick will be rewriting all the usermode dialects to use IN everywhere...correctly.)</em></p>
<h2><a name="p-6964-but-just-because-we-can-do-this-should-specialize-do-it-1" class="anchor" href="2115.html#p-6964-but-just-because-we-can-do-this-should-specialize-do-it-1"></a>But Just Because We Can Do This, Should SPECIALIZE Do It?</h2>
<p>I wanted to break this out into a separate topic to specifically discuss the question of if this is a good idea or not.</p>
<p>I've pointed out something that doesn't have such a good look:</p>
<pre><code>&gt;&gt; value: [d e]

&gt;&gt; ap5: specialize :append [
       value: 5
       assert [value = 5]  ; assertion failure, but I just set it!
   ]
</code></pre>
<p>We're embracing the idea that in a pinch, you can go to the level of binding things explicitly wherever you want to, but should basic constructs avoid being this weird?</p>
<p>There are places in other languages where kind of parallel things are seen as advantageous:</p>
<pre><code> struct Foo {
     int x;
     Foo (int x) : x {x} {
         // x {x} initializes member x with constructor's argument
     }
 };
</code></pre>
<p>I'm kind of ambivalent about it in SPECIALIZE.  It's sneaky.  But when I think about striking it, I think about how annoying the need for a COMPOSE is.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-dialects-need-from-binding/2111/9.html">What Dialects Need From Binding</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-13T01:59:38Z' class='post-time'>
                    January 13, 2024,  1:59am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-13T02:14:52Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>One thing youâ€™ve glossed overâ€¦ at least in my presentation, individual words can still receive bindings! (Even though theyâ€™re unbound by default.) So itâ€™s still possible to traverse over the BLOCK binding all the SET-WORD!s as you go. It <em>would</em> require a traverse, but itâ€™s possible if this is really something worth preserving.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-dialects-need-from-binding/2111/9.html">What Dialects Need From Binding</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-13T02:13:44Z' class='post-time'>
                    January 13, 2024,  2:13am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-13T02:13:44Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>2 posts were merged into an existing topic: <a href="../what-dialects-need-from-binding/2111/9.html">What Dialects Need From Binding</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
