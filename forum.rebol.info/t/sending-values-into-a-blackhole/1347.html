<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sending Values into a BLACKHOLE! - Feature Discover - AltRebol</title>
    <meta name="description" content="Multiple return values have an interesting angle to them: the more values you request... the functionality you ask for might wind up being different. 
Consider TRANSCODE.  If you don&amp;#39;t use multi-returns...or just ask for&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../sending-values-into-space/1347.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Sending Values into a BLACKHOLE!&#39;" href="1347.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/sending-values-into-a-blackhole/1347" />
<meta name="twitter:url" content="https://forum.rebol.info/t/sending-values-into-a-blackhole/1347" />
<meta property="og:title" content="Sending Values into a BLACKHOLE!" />
<meta name="twitter:title" content="Sending Values into a BLACKHOLE!" />
<meta property="og:description" content="Multiple return values have an interesting angle to them: the more values you request... the functionality you ask for might wind up being different.  Consider TRANSCODE.  If you don&#39;t use multi-returns...or just ask for one return...you get the whole thing transcoded as a block:  &gt;&gt; transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; plain behavior == [&lt;abc&gt; &lt;def&gt;]  &gt;&gt; block: transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; set-word! (follows usual rules) == [&lt;abc&gt; &lt;def&gt;]  &gt;&gt; [block]: transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; same behavior as `block:`, en..." />
<meta name="twitter:description" content="Multiple return values have an interesting angle to them: the more values you request... the functionality you ask for might wind up being different.  Consider TRANSCODE.  If you don&#39;t use multi-returns...or just ask for one return...you get the whole thing transcoded as a block:  &gt;&gt; transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; plain behavior == [&lt;abc&gt; &lt;def&gt;]  &gt;&gt; block: transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; set-word! (follows usual rules) == [&lt;abc&gt; &lt;def&gt;]  &gt;&gt; [block]: transcode &quot;&lt;abc&gt; &lt;def&gt;&quot;  ; same behavior as `block:`, en..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2020-09-26T20:19:21+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../sending-values-into-space/1347.html">Sending Values into a BLACKHOLE!</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/usage/7" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/usage/feature-discover.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Feature Discover</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../sending-values-into-space/1347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-09-26T20:19:21Z'>
              <time itemprop='dateModified' datetime='2020-10-10T19:08:09Z' class='post-time'>
                October 10, 2020,  7:08pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Multiple return values have an interesting angle to them: <strong>the more values you request... the functionality you ask for might wind up being different</strong>.</p>
<p>Consider TRANSCODE.  If you don't use multi-returns...or just ask for one return...you get the whole thing transcoded as a block:</p>
<pre><code>&gt;&gt; transcode "&lt;abc&gt; &lt;def&gt;"  ; plain behavior
== [&lt;abc&gt; &lt;def&gt;]

&gt;&gt; block: transcode "&lt;abc&gt; &lt;def&gt;"  ; set-word! (follows usual rules)
== [&lt;abc&gt; &lt;def&gt;]

&gt;&gt; [block]: transcode "&lt;abc&gt; &lt;def&gt;"  ; same behavior as `block:`, enforced
== [&lt;abc&gt; &lt;def&gt;]
</code></pre>
<p>But if you supply it with a parameter in the second slot, it assumes you want /NEXT and will set that argument to the next position.</p>
<pre><code>&gt;&gt; [value pos]: transcode "&lt;abc&gt; &lt;def&gt;"
== &lt;abc&gt;

&gt;&gt; pos
== " &lt;def&gt;"

&gt;&gt; value
== &lt;abc&gt;
</code></pre>
<p>BLANK! gives you the ability to opt out of slots in the multiple return values that you don't want.  But opting out doesn't just keep you from having to name a variable, it also <em>un-requests the behavior</em>...</p>
<pre><code>&gt;&gt; [value _]: transcode "&lt;abc&gt; &lt;def&gt;"
== [&lt;abc&gt; &lt;def&gt;]  ; not a /NEXT, it was "revoked"
</code></pre>
<p>What if you want to request the behavior, but not have to bother with creating a variable to store it in?  Well now that we are thinking <strong>#</strong> will be a shorthand for the immutable and not-appendable-to-strings "codepoint 0", it's a perfect choice:</p>
<pre><code>&gt;&gt; [value #]: transcode "&lt;abc&gt; &lt;def&gt;"
== &lt;abc&gt;  ; only the /NEXT item
</code></pre>
<p>The value was requested but disappeared...into a black hole.  In fact, BLACKHOLE! is now a datatype you can put in a spec to mean "empty issue that is precisely <code>#</code>.  It's not validated yet (it's a synonym for ISSUE!...we'll need type constraints before it can work).  But it can help keep track of places that use this idea.  For instance, SET:</p>
<pre><code>&gt;&gt; set # 10
== 10
</code></pre>
<p>The truthiness of # helps write code that distinguishes the wish to opt-out of a behavior from the wish to opt-out of getting its result.  Having SET error on blank helps you avoid calculations that may be unnecessary...so it works out perfectly:</p>
<pre><code> do-something: func [
     in
     /out [blank! word! path! blackhole!]
     &lt;local&gt; result
 ][
     process foo
      if bar [  ; unlike BLANK!, empty issue is truthy so branch runs
         result: process/more foo
         set bar result  ; blackhole SET is no-op (BLANK! would error)
      ]
 ]
</code></pre>
<p><em>Elegante.</em></p>
        </div>

        <meta itemprop='headline' content='Sending Values into a BLACKHOLE!'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../there-came-an-echo/1722/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/there-came-an-echo/1722/4'>
                      <span itemprop='name'>There Came an ECHO</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../should-refinement-arguments-be-refinement-if-used/735/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/should-refinement-arguments-be-refinement-if-used/735/4'>
                      <span itemprop='name'>Should refinement arguments be REFINEMENT! if used?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../the-parse-of-progress/1349.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/the-parse-of-progress/1349'>
                      <span itemprop='name'>The PARSE of /PROGRESS</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../sending-values-into-space/1347.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-04-09T14:46:37Z'>
              <time itemprop='dateModified' datetime='2022-05-18T17:51:09Z' class='post-time'>
                May 18, 2022,  5:51pm
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>With BLACKHOLE! and Isotopes, we have a new excellent choice for opting out of mutating operations...!</strong></p>
<p>Historically, BrianH and others (including me) believed that mutating operations should not let you "opt out" of the target for the mutation.  There was too much potential for confusion if you wrote <strong>append block [1 2 3]</strong> and it silently didn't append, because block was a NONE!.</p>
<p>So we have this:</p>
<pre><code>r3-alpha&gt;&gt; block: none
r3-alpha&gt;&gt; append block [1 2 3]
** Script error: append does not allow none! for its series argument

red&gt;&gt; block: none
red&gt;&gt; append block [1 2 3]
*** Script Error: append does not allow none! for its series argument
</code></pre>
<p>Operations without side effects were deemed to be harmless by comparison:</p>
<pre><code>r3-alpha&gt;&gt; block: none
r3-alpha&gt;&gt; select block 'a
== none

red&gt;&gt; block: none
red&gt;&gt; select block 'a
== none
</code></pre>
<p>But even that had a kind of nasty property.  You could write a long chain of non-mutating operations, and at the end of the pipe you could get a NONE! without knowing where in that pipe the error occurred.  <em>(All of this compounded on the fact that a NONE! could have even literally been something that was selected, so your opt-out value could have been an actual selection result!)</em>  <a href="../null-blank-void-history-under-scrutiny/1249.html"><strong>This gave rise to Ren-C's BLANK!-in, NULL out philosophy.</strong></a></p>
<h2>New Option: <strong>BLACKHOLE! in, Isotope Out</strong>
</h2>
<p>I've already shown how useful BLACKHOLE! is with "opted-in" multiple returns and SET.  But now, I've made it possible to give blackholes as the input series for operations like APPEND:</p>
<pre><code>&gt;&gt; append # [a b c]
== ~blackhole~  ; isotope
</code></pre>
<p>This keeps you from having to write annoying patterns like:</p>
<pre><code>if not blank? my-series [
    append my-series [a b c]
]
</code></pre>
<p>The reason it's different is because blackholes are a very conscious way of opting-in to something without saying where you want the content to go.  <em>And they're truthy</em>, so they are a more natural fit for control flow...as opposed to blanks.</p>
<pre><code>if my-series [  ; can be a series or blackhole
     append my-series calculation  ; want calculation even if not the append
]
</code></pre>
<p>By comparison, blanks and nulls are sort of "unintentional"...they are very close to being an uninitialized state (or at least a state that is set without thinking too much about it).</p>
<h2>Interim Syntax paralleling <code>&lt;blank&gt;</code>
</h2>
<p>If you want a function that does BLACKHOLE!-in-Isotope-Out, just label the argument with <code>&lt;blackhole&gt;</code>.</p>
<pre><code>&gt;&gt; add-period: func [x [&lt;blackhole&gt; text!]] [
      print "Running ADD-PERIOD"
      append x "."
  ]

&gt;&gt; add-period "Hello World"
Running ADD-PERIOD
== "Hello World."

&gt;&gt; add-period # 
== ~blackhole~  ; isotope
</code></pre>
<p>So note that although the APPEND would have opted out here, the entire function is skipped if you pass a <code>#</code> to the <code>&lt;blackhole&gt;</code> argument.  (APPEND itself uses this same annotation.)</p>
<p>As for whether ~blackhole~ isotopes should casually decay back into # the way ~null~ isotopes decay into NULL... I don't know.  I'm trying it out to see how I like it!</p>
        </div>

        <meta itemprop='headline' content='Sending Values into a BLACKHOLE!'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
