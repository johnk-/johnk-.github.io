<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Hex-Valued Integer Literals: Likely Not In Ren-C - Datatypes - AltRebol</title>
    <meta name="description" content="On an old Trello there was a card about standardizing the differences between R3-Alpha and Red...and a checklist with only one item: 

Hex-valued literal notation (Rebol has none, Red used to use FFh, FFFFh, FFFFFFFFh), &amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1815.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Hex-Valued Integer Literals: Likely Not In Ren-C&#39;" href="1815.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/hex-valued-integer-literals-likely-not-in-ren-c/1815" />
<meta name="twitter:url" content="https://forum.rebol.info/t/hex-valued-integer-literals-likely-not-in-ren-c/1815" />
<meta property="og:title" content="Hex-Valued Integer Literals: Likely Not In Ren-C" />
<meta name="twitter:title" content="Hex-Valued Integer Literals: Likely Not In Ren-C" />
<meta property="og:description" content="On an old Trello there was a card about standardizing the differences between R3-Alpha and Red...and a checklist with only one item:   Hex-valued literal notation (Rebol has none, Red used to use FFh, FFFFh, FFFFFFFFh), now using 0#FF   The motivation was for purposes of Red/System, mostly.  In Ren-C this doesn&#39;t seem like a priority.  It has ISSUE! (TOKEN!) as a read-only data type that fits in a cell.  Hence a systems-oriented dialect already has an efficient way to represent these values.  Fo..." />
<meta name="twitter:description" content="On an old Trello there was a card about standardizing the differences between R3-Alpha and Red...and a checklist with only one item:   Hex-valued literal notation (Rebol has none, Red used to use FFh, FFFFh, FFFFFFFFh), now using 0#FF   The motivation was for purposes of Red/System, mostly.  In Ren-C this doesn&#39;t seem like a priority.  It has ISSUE! (TOKEN!) as a read-only data type that fits in a cell.  Hence a systems-oriented dialect already has an efficient way to represent these values.  Fo..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2022-05-14T04:35:56+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1815.html">Hex-Valued Integer Literals: Likely Not In Ren-C</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/datatypes.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1815.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-05-14T04:35:56Z'>
              <time itemprop='dateModified' datetime='2022-05-14T04:36:59Z' class='post-time'>
                May 14, 2022,  4:36am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>On an old Trello there was a card about standardizing the differences between R3-Alpha and Red...and a checklist with only one item:</p>
<blockquote>
<p>Hex-valued literal notation (Rebol has none, Red used to use FFh, FFFFh, FFFFFFFFh), now using 0#FF</p>
</blockquote>
<p>The motivation was for purposes of Red/System, mostly.</p>
<p>In Ren-C this doesn't seem like a priority.  It has ISSUE! (TOKEN!) as a read-only data type that fits in a cell.  Hence a systems-oriented dialect already has an efficient way to represent these values.</p>
<p>For instance: it's not a big deal if your assembler says <strong>[mov ax, <span class="hashtag">#FE</span>]</strong> in its source... if it's generating machine code.</p>
<p>Of course, an ISSUE! in it isn't the same from a metaprogramming sense as a slot with an INTEGER! in it.  So you don't get the automatic advantage of <em>every</em> dialect that has INTEGER! support for a given slot working with a hex notation.  But isn't that what COMPOSE is for...?</p>
<pre><code>my-dialect [something-or-another 255]

my-dialect compose [whatever (debin [BE +] #FF)]
</code></pre>
<p><strong>Having more than one representation for the same type is generally bad, anyway.</strong>  Let's look at what Red does here:</p>
<pre><code>red&gt;&gt; FFh
== 255

red&gt;&gt; F0h + 0Fh
== 255
</code></pre>
<p>If it was so important that it had to be encoded in source, why is it thrown away immediately?</p>
<p>It's something about Red worth knowing exists, but off the radar for implementing, methinks.</p>
        </div>

        <meta itemprop='headline' content='Hex-Valued Integer Literals: Likely Not In Ren-C'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1815.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-03T00:42:06Z'>
              <time itemprop='dateModified' datetime='2022-07-03T00:42:15Z' class='post-time'>
                July 3, 2022, 12:42am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1815">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>If it was so important that it had to be encoded in source, why is it thrown away immediately?</p>
</blockquote>
</aside>
<p>On this point, there's an option in Rebol to natively format binaries as base64 or base16 or base2:</p>
<pre><code>&gt;&gt; system/options/binary-base: 64
== 64

&gt;&gt; #{DECAFBAD}
== 64#{3sr7rQ==}

&gt;&gt; system/options/binary-base: 2  
== 2

&gt;&gt; #{DECAFBAD}                   
== 2#{11011110110010101111101110101101}
</code></pre>
<p>This also requires making the scanner be able to LOAD such binaries.  Of course, those scan rules have to be able to recognize invalid ones:</p>
<pre><code>&gt;&gt; 2#{1101}
** Syntax error: invalid "binary" -- "2#{1101}"
</code></pre>
<p><strong>Having the system.options.binary-base setting seems random and bad.</strong></p>
<p>Who unilaterally would want all binaries they see or form in the system to be output as Base64 or Base2?  If you want those notations you are likely in a special context to ask for them.</p>
<p><strong>Concerning the LOADer with it then seems weird, too.</strong></p>
<p>The same basic arguments would apply that I say elsewhere.  By default:</p>
<pre><code>&gt;&gt; 2#{11010110}
== #{D6}

&gt;&gt; append #{DECAFBAD} 2#{11010110}
== #{DECAFBADD6}
</code></pre>
<p><em>"If it was so important that it had to be encoded in source, why is it thrown away immediately?"</em></p>
<p><strong>I think this is best done by letting people who want this convert it themselves.</strong></p>
<p>If you want to design a format to say how to decode it, that's what dialecting is for.  Imagine that we are in the world where ${...} is used for BINARY! and #{...} is a TOKEN! e.g. a read-only TEXT! (with small series optimizations making character and short string storage very efficient)</p>
<pre><code>my-data: [
    &lt;hex&gt; #{DECAFBAD}
    &lt;binary&gt; #{1100}  ; don't even have to enforce byte boundarie
    &lt;octal&gt; #{01234567}
    &lt;base64&gt; #{3sr7rQ==}
]
</code></pre>
<p>You're a step away from having those as BINARY!, but you need routines to turn text encodings into BINARY! anyway.</p>
<p><strong>One Feature Exception</strong></p>
<p>The one place this makes a noticeable difference is when someone has a big base64 payload blob they want to embed in their script.  They end up paying for a large in-memory TOKEN!/TEXT! they don't want...when what they really want is only its converted form.</p>
<p>I'm not terribly concerned about this cost.  I'm more concerned that you can do it at all, and if you can then I guess I'd have to hear the masses clamoring as their top priority that it be faster-on-load as their biggest problem.</p>
<p>But... you could imagine this being abstracted more powerfully with some kind of "single-file-encap" tool, that let you throw attachments onto a script at the end.  so you could say <code>system.script.attachments.name</code> and it would have already done all the unzipping and decompression for you.  That would be cleaner and could be made faster.</p>
<p><strong>To sum up: Base64 is certainly important functionality to encode and decode, but I'd rather see us focus on making it easy and pleasant to use that decoder on strings than complicate the scanner and console with these settings.</strong></p>
        </div>

        <meta itemprop='headline' content='Hex-Valued Integer Literals: Likely Not In Ren-C'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
