<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser - Web - AltRebol</title>
    <meta name="description" content="There is a quite active Dear ImGui immediate mode GUI library running on Emscript: WebGui. 
Dear ImGui provides just about any widget one might wish for. 
Wasm WebGui demo runs at 60 FPS. 
My roadmap is to embed Ren-C an&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2053.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser&#39;" href="2053.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/building-c-gui-code-that-calls-ren-c-wasm-and-runs-in-browser/2053" />
<meta name="twitter:url" content="https://forum.rebol.info/t/building-c-gui-code-that-calls-ren-c-wasm-and-runs-in-browser/2053" />
<meta property="og:title" content="Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser" />
<meta name="twitter:title" content="Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser" />
<meta property="og:description" content="There is a quite active Dear ImGui immediate mode GUI library running on Emscript: WebGui.  Dear ImGui provides just about any widget one might wish for.  Wasm WebGui demo runs at 60 FPS.  My roadmap is to embed Ren-C and bind the ImGui functions I need. I already have a skeleton parser that converts text into ImGUI function calls.  The code allows creating / modifying windows along with a few widgets at runtime.  Dear ImGUI uses a minimal C++ set and remains class and standard container free.  T..." />
<meta name="twitter:description" content="There is a quite active Dear ImGui immediate mode GUI library running on Emscript: WebGui.  Dear ImGui provides just about any widget one might wish for.  Wasm WebGui demo runs at 60 FPS.  My roadmap is to embed Ren-C and bind the ImGui functions I need. I already have a skeleton parser that converts text into ImGUI function calls.  The code allows creating / modifying windows along with a few widgets at runtime.  Dear ImGUI uses a minimal C++ set and remains class and standard container free.  T..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Web" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ‚ù§" />
<meta property="article:published_time" content="2023-10-18T01:41:17+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2053.html">Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/web/5" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/web/5" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Web</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Building C++ GUI Code that Calls Ren-C Wasm and Runs in Browser'>
      <link itemprop='url' href='2053.html'>
      <meta itemprop='datePublished' content='2023-10-18T01:41:17Z'>
        <meta itemprop='articleSection' content='Web'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2053.html">


              <span class="crawler-post-infos">
                  <time  datetime='2023-10-18T01:41:17Z' class='post-time'>
                    October 18, 2023,  1:41am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T02:11:22Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>There is a quite active <a href="https://github.com/ocornut/imgui" rel="noopener nofollow ugc">Dear ImGui immediate mode GUI library</a> running on Emscript: <a href="https://github.com/jnmaloney/WebGui" rel="noopener nofollow ugc">WebGui</a>.</p>
<p>Dear ImGui provides just about any widget one might wish for.</p>
<p><a href="https://jnmaloney.github.io/WebGui/imgui.html" rel="noopener nofollow ugc">Wasm WebGui demo</a> runs at 60 FPS.</p>
<p>My roadmap is to embed Ren-C and bind the ImGui functions I need. I already have a skeleton parser that converts text into ImGUI function calls.</p>
<p>The code allows creating / modifying windows along with a few widgets at runtime.</p>
<p><a href="https://github.com/ocornut/imgui/discussions/3890" rel="noopener nofollow ugc">Dear ImGUI uses a minimal C++ set</a> and remains class and standard container free.</p>
<p>The only piece I'd be missing is the RPL interpreter if I am comprehending Ren-C feature set.</p>
<p>I'd also like to be able to grant filesystem access for the Wasm web instance using WASI API.  Here's an example where WASI is already implements accessing an OS directory from a Web instance:</p>
<p><a href="https://www.perplexity.ai/search/C-example-of-4jA7fNiiQSWtKthpleu2pQ?s=c" rel="noopener nofollow ugc">https://www.perplexity.ai/search/C-example-of-4jA7fNiiQSWtKthpleu2pQ?s=c</a></p>
<p>The use case can be distributing a chat GUI application launched through a browser running from the Internet using <a href="https://gist.github.com/nus/564e9e57e4c107faa1a45b8332c265b9" rel="noopener nofollow ugc">emscripten WebSocket support</a> or even full TCP UDP connections.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../ren-c-is-now-on-the-clouds-with-wasi/1854/13.html">Ren-C is Now on the Clouds ‚òÅÔ∏è with WASI</a>
                        <meta itemprop='position' content='7'>
                      </div>
                </div>
          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T02:38:46Z' class='post-time'>
                    October 18, 2023,  2:38am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T02:52:36Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="OneArb" data-post="1" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>My roadmap is to embed Ren-C and bind the ImGui functions I need. I already have a skeleton parser that converts text into ImGUI function calls.<br>
...<br>
The only piece I'd be missing is the RPL interpreter...</p>
</blockquote>
</aside>
<p>If your use case is in a browser, then you want to leverage the ReplPad.</p>
<p>You could simply put the GUI in its own dockable window tab--which could sometimes be full screen, and sometimes share the screen with a Repl.  See how the <a href="../visual-parse-on-the-web-has-arrived/1837.html">code editor widget was implemented</a>.  Instead of a code editor, imagine a graphics window there.</p>
<p>Unfortunately there's <a href="https://github.com/ocornut/imgui/issues/4623">no way in ImGui itself to embed an iframe</a>.  So the Repl would have to be side by side or flipped to via a tab.</p>
<aside class="quote no-group quote-modified" data-username="OneArb" data-post="1" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>...if I am comprehending Ren-C feature set.</p>
</blockquote>
</aside>
<p>I believe what you want here isn't WASI.  You want a WebAssembly <a href="https://livebook.manning.com/book/webassembly-in-action/chapter-7/">"side module"</a> written in C/C++ that the ReplPad can load into a tab (or allow to take over the whole screen)... and share the interpreter state between that side module and the ReplPad.</p>
<p>If this were done correctly, the ReplPad's Wasm could export the Ren-C API directly to the side module, so you could call into the interpreter without needing to use Emscripten facilities to jump out to JavaScript just to call the JS wrappers to call back into the Wasm interpreter again.  Doing it incorrectly and calling JavaScript as a middleman could be a good first test.</p>
<aside class="quote no-group" data-username="OneArb" data-post="1" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>The use case can be distributing a chat GUI application launched through a browser running from the Internet using <a href="https://gist.github.com/nus/564e9e57e4c107faa1a45b8332c265b9">emscripten WebSocket support</a> or even full TCP UDP connections.</p>
</blockquote>
</aside>
<p>You're better off in your C code using calls to Rebol for networking, and let the ReplPad's implementation of reading URLs and such (that go through JavaScript) do the work...rather than use Emscripten's janky layer that does the same thing but piped through weird and brittle emulations of Posix stuff.</p>
<p>(No offense to Emscripten intended--it's hard work done to provide for those who need it.  But if you're taking a Rebol interpreter for granted and have access to the API that's already implementing natives in JavaScript, that's preferable to use.)</p>
<aside class="quote no-group" data-username="OneArb" data-post="1" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>Dear ImGui provides just about any widget one might wish for.</p>
</blockquote>
</aside>
<p>It does seem to have an active community.  But my personal opinion is that Dear ImGui is very ugly, compared to e.g. <a href="https://floooh.github.io/oryol-samples/wasm/TurboBadgerDemo.html">TurboBadger</a>.</p>
<p>And for that matter, I think modern CSS/HTML is pretty well tailored to the domain of UI layout with buttons and such.  Reinventing it without any truly fundamental great ideas seems like wasted effort to me.  So I'd think that you're better off just learning a bit of JavaScript and picking some JS UI framework.  That's what Brian Otto did, if you missed this talk:</p>
<div class="youtube-onebox lazy-video-container" data-video-id="mjVtXfdTZIQ" data-video-title="Building Rebol Web Apps" data-video-start-time="" data-provider-name="youtube">
  <a href="https://www.youtube.com/watch?v=mjVtXfdTZIQ" target="_blank" class="video-thumbnail" rel="noopener">
    <img class="youtube-thumbnail" src="https://img.youtube.com/vi/mjVtXfdTZIQ/maxresdefault.jpg" title="Building Rebol Web Apps" width="690" height="388">
  </a>
</div>

<p>However... I do think there are some applications for C++ GUI code that doesn't really overlap what browsers are designed to natively do reasonably well.  So putting a Dear ImGui window in a tab and having it be able to make calls into the interpreter wouldn't be a bad thing to be <em>able</em> to do.</p>
<p>The trick though is that aspect of getting it to be able to make plain C calls into the libRebol API.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T02:45:11Z' class='post-time'>
                    October 18, 2023,  2:45am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T02:45:11Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Unfortunately there's <a href="https://github.com/ocornut/imgui/issues/4623" rel="noopener nofollow ugc">no way in ImGui itself to embed an iframe</a>. So the Repl would have to be side by side or flipped to via a tab.</p>
</blockquote>
</aside>
<p>By embedding I mean a direct call to the Ren-C API rather than running a Wasm instance within Dear ImGui.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T02:50:20Z' class='post-time'>
                    October 18, 2023,  2:50am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T02:50:20Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="OneArb" data-post="4" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>By embedding I mean a direct call to the Ren-C API</p>
</blockquote>
</aside>
<p>By "embedding" in that sentence I was talking about having a widget inside of ImGui that shows HTML, and hence could have an IFRAME for the ReplPad.</p>
<p>Directly calling the Ren-C API from an ImGui-based Wasm blob loaded by ReplPad would require linking up symbols to the APIs of the already running instance in the browser.  The link I provided about side modules suggests how this might be done.  (I've seen Blazor do it, with lots of little wasm components that are able to talk to each other.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T03:00:02Z' class='post-time'>
                    October 18, 2023,  3:00am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T03:00:02Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I believe what you want here isn't WASI. You want a WebAssembly <a href="https://livebook.manning.com/book/webassembly-in-action/chapter-7/" rel="noopener nofollow ugc">"side module"</a> written in C/C++ that the ReplPad can load into a tab (or allow to take over the whole screen)... and share the interpreter state between that side module and the ReplPad.</p>
</blockquote>
</aside>
<p>I do indeed want to use Emscripten Dear ImGUI as the overall application container.</p>
<p>This buys cross OS cross hardware portability.</p>
<p>Besides the same code can be used to compile platform specific executables as well.</p>
<p>It also seems to me the friction-less approach to bring graphics to Ren-C.</p>
<p>OS file access is a lower priority as long as there is a way to backup the virtual file system.</p>
<p>As far as the Ren-C Repl, I presume there is a C version which accesses some sort of graphics library, or is it text only, that I can get to work within an ImGUI window.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T03:14:58Z' class='post-time'>
                    October 18, 2023,  3:14am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T03:14:58Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>lots of little wasm components that are able to talk to each other</p>
</blockquote>
</aside>
<p>It might make sense to provide the full WASI API to the emscirpten GUI instance.</p>
<p>This could be the equivalent to running a Wasm file server.</p>
<p>It could be possible for ReplPad to push code to the GUI instance, for debugging purpose for instance.</p>
<p>Due to how extensive and how fast Dear ImGUI window API is, my first thought was to centralize within the GUI.</p>
<p>It's easy to break ImGUI by pushing unlabelled widgets, but the bindings can take care of that.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T03:32:37Z' class='post-time'>
                    October 18, 2023,  3:32am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T03:53:02Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="OneArb" data-post="6" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>As far as the Ren-C Repl, I presume there is a C version which accesses some sort of graphics library, or is it text only, that I can get to work within an ImGUI window.</p>
</blockquote>
</aside>
<p>To reuse the <a href="https://github.com/metaeducation/ren-c/blob/master/extensions/console/ext-console-init.reb">console module</a> you have to provide it with a few functions like WRITE-STDOUT and READ-STDIN...connected with some kind of text widget.</p>
<p>Things like command history have to be part of your READ-STDIN implementation.  The ReplPad and native executables thus have different history code--nothing is currently shared there.</p>
<p>But your real headaches are going to come from things like Ctrl-C cancellation and coordinating the event loop to yield while waiting for input so graphics messages can be processed.  The ReplPad is proof this can be done (it uses escape instead of Ctrl-C) but it's far from easy to get right.</p>
<aside class="quote no-group" data-username="OneArb" data-post="6" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>I do indeed want to use Emscripten Dear ImGUI as the overall application container.</p>
<p>This buys cross OS cross hardware portability.</p>
</blockquote>
</aside>
<p>If you're saying you're trying to build r3-with-imgui.wasm for a browser, or flip a switch and build native desktop EXEs with Dear ImGui, then all you really want is to link with Ren-C as a C library.  You don't need any webassembly for the native executables, and really there's no WASI in this picture at all.  (The browsers don't provide WASI so emscripten speaks directly to JavaScript, and you don't need WASI for the native exes).</p>
<p>But if you <a href="https://github.com/metaeducation/ren-c/tree/master/src/main">look at main.c</a> you can see what it takes to start up an interpreter instance.  Imagine redoing that with ImGui.  <strong>It may not seem that hard, but just not even considering WebAssembly at all, I will promise you that getting a console working in a GUI window with a textedit in it would be a pretty big undertaking.</strong>  I suggest trying something like that before making too much of a bigger plan, if this is the direction you favor vs. my advice...</p>
<p><em>(Notice how Red--even when it's completely focused on the sole task of providing GUI, with full access to the OS APIs--after all these years can't let you type in the GUI console while a view window is up.  :-/)</em></p>
<p>Maybe I'm wrong, but I'm fairly confident Emscripten's Posix emulation is not good enough to support libuv.  So you'd be stuck doing your own implementations of things like READ on a URL or a FILE!.  I've put forward the idea of just a basic I/O extension, and BASIC-READ and BASIC-WRITE are sort of a pointer into how that might be done.</p>
<p>It's much more advisable to just target the browser as your "OS independence" for a GUI app, and leverage all the painstaking work that has gone into ReplPad (not just the console experience itself, but all the bridging to JavaScript to get features like READ of URL! and such).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T05:01:45Z' class='post-time'>
                    October 18, 2023,  5:01am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T05:09:13Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="8" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>(Notice how Red--even when it's completely focused on the sole task of providing GUI, with full access to the OS APIs--after all these years can't let you type in the GUI console while a view window is up. :-/)</p>
</blockquote>
</aside>
<p>As mentioned earlier, I already have that part working in ImGUI.</p>
<p>In immediate mode graphics all widgets are pushed as vertices to the graphics card and rendered.</p>
<p>My editable text window contains my widget token loaded from a text file and the new window including the widgets is updated each frame all within a single application.</p>
<p>When I add or modify a token, in the text window, it displays in the target window or windows within a single frame.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/OneArb.html'><span itemprop='name'>OneArb</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T05:03:09Z' class='post-time'>
                    October 18, 2023,  5:03am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T05:03:09Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="8" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>if you <a href="https://github.com/metaeducation/ren-c/tree/master/src/main" rel="noopener nofollow ugc">look at main.c</a> you can see what it takes to start up an interpreter instance</p>
</blockquote>
</aside>
<p>I'll take a look at main.c</p>
<p>It makes sense to try to get rebValue() to work first<br>
before attempting to embed the interpreter.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-18T05:05:06Z' class='post-time'>
                    October 18, 2023,  5:05am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-18T05:05:06Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="OneArb" data-post="10" data-topic="2053">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/onearb/48/356_2.png" class="avatar"> OneArb:</div>
<blockquote>
<p>It makes sense to try to get rebValue() to work first<br>
before attempting to embed the interpreter.</p>
</blockquote>
</aside>
<p>If rebValue() works, you have embedded the interpreter, because it uses the interpreter.</p>
<p>See %a-lib.c for API implementation notes:</p>
<p><a href="https://github.com/metaeducation/ren-c/blob/master/src/core/a-lib.c" class="inline-onebox">ren-c/src/core/a-lib.c at master ¬∑ metaeducation/ren-c ¬∑ GitHub</a></p>
<p>If you mean "embedding the Repl / Console" then yes, being able to build an EXE which calls rebValue is how you get the ball rolling.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
