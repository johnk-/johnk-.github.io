<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Very Creaky (but still interesting) Debug Step *DEMO* - #2 by hostilefork - Debugger - AltRebol</title>
    <meta name="description" content="Though there&amp;#39;s been no published news about the debugger in well over a year, I&amp;#39;ve tried to bear in mind the concerns that a debugger would have. 
Stopping everything to work on the debugger for a few months isn&amp;#39;t really&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1154.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Very Creaky (but still interesting) Debug Step *DEMO*&#39;" href="../1154.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/very-creaky-but-still-interesting-debug-step-demo/1154/2" />
<meta name="twitter:url" content="https://forum.rebol.info/t/very-creaky-but-still-interesting-debug-step-demo/1154/2" />
<meta property="og:title" content="Very Creaky (but still interesting) Debug Step *DEMO*" />
<meta name="twitter:title" content="Very Creaky (but still interesting) Debug Step *DEMO*" />
<meta property="og:description" content="In 2019, I made a small debugging demo:   The &quot;bad&quot; (actually good) news is that those sticks and glue are all gone.  Switching to stackless removed the hooks for writing code that intercepted the evaluator.   The &quot;good&quot; (no, actually good) news is that I&#39;ve accomplished this using modern methods:  ReplPad Visual PARSE Debugger  The methods that accomplish this are legitimate, and not likely to be overturned in the design.  However, they aren&#39;t part of a generalized notion of debugging.  This de..." />
<meta name="twitter:description" content="In 2019, I made a small debugging demo:   The &quot;bad&quot; (actually good) news is that those sticks and glue are all gone.  Switching to stackless removed the hooks for writing code that intercepted the evaluator.   The &quot;good&quot; (no, actually good) news is that I&#39;ve accomplished this using modern methods:  ReplPad Visual PARSE Debugger  The methods that accomplish this are legitimate, and not likely to be overturned in the design.  However, they aren&#39;t part of a generalized notion of debugging.  This de..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Debugger" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2023-11-22T00:01:44+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1154.html">Very Creaky (but still interesting) Debug Step *DEMO*</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/debugger/34" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/debugger/34" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Debugger</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Very Creaky (but still interesting) Debug Step *DEMO*'>
      <link itemprop='url' href='../1154.html'>
      <meta itemprop='datePublished' content='2019-05-02T06:19:13Z'>
        <meta itemprop='articleSection' content='Debugger'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' href='https://forum.rebol.info/u/hostilefork'>
          </span>
        <meta itemprop='text' content='Though there&amp;#39;s been no published news about the debugger in well over a year, I&amp;#39;ve tried to bear in mind the concerns that a debugger would have. 
Stopping everything to work on the debugger for a few months isn&amp;#39;t really&amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-11-22T00:01:44Z' class='post-time'>
                    November 22, 2023, 12:01am
                  </time>
                  <meta itemprop='dateModified' content='2023-11-22T00:01:44Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>In 2019, I made a small debugging demo:</p>
<aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1154">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>So the last few days I've frittered around with a very-buggy-proof-of-concept for single-stepping.<br>
...<br>
It's important to emphasize <strong>this is still sticks and glue at this point</strong>.</p>
</blockquote>
</aside>
<p>The "bad" (actually good) news is that those sticks and glue are all gone.  <a href="../../stackless-is-here-today-now/1844.html">Switching to stackless</a> removed the hooks for writing code that intercepted the evaluator.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1154">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Something I really wanted to see was the debugger generalizing to parse.</p>
</blockquote>
</aside>
<p>The "good" (no, actually good) news is that I've accomplished this using modern methods:</p>
<p><a href="../../replpad-visual-parse-debugger/2063.html" class="inline-onebox">ReplPad Visual PARSE Debugger</a></p>
<p>The methods that accomplish this are legitimate, and not likely to be overturned in the design.</p>
<p>However, they aren't part of a <em>generalized</em> notion of debugging.  This debugger is tailored to PARSE, and parse only.</p>
<p>Not only that...it works only on a <em>single parse call</em>.  You make a specific call to parse parameterized with a hook, e.g. PARSE-DEBUG.  Only that call should be hooked.  So if the debugger uses PARSE in its own implementation (which it does) it needs to use the non-DEBUG form to do so, otherwise it would break the in-progress debug session by interfering with its interface.</p>
<h2><a name="p-6731-could-the-evaluator-use-the-same-methodology-1" class="anchor" href="2.html#p-6731-could-the-evaluator-use-the-same-methodology-1"></a>Could The Evaluator Use The Same Methodology?</h2>
<p>PARSE-DEBUG is based on the idea of hooking a frame... using ENCLOSE.  All parser combinators are ENCLOSE'd when they are built, with the ability to be hooked.</p>
<p>I've discussed the idea of the main evaluation process being driven by EVALUATORs, much like PARSE uses COMBINATORs.  So you'd have a SET-WORD! evaluator function that took the SET-WORD! it was invoked with, and a variadic feed of code coming after it.</p>
<p>Under this idea, you could actually create something like REDBOL-DO, which had a different EVALUATOR for PATH! to do variable picking (while Ren-C's default evaluator would do variables with TUPLE!).</p>
<p>I think it could work.  But it does mean that variadics are needed by the language, because the FRAME! built for evaluators can't see to the end of how much that evaluator is going to consume.  (I'd been mulling over killing variadics as a "it's too much" feature now and again, but this kind of proves that's a bad idea...and they actually just need to be fixed up to be less of a mess.)</p>
<p>It would be a pretty gnarly performance penalty to turn every SET-WORD! or GET-TUPLE! into a function call.  But I have an inkling on how to make it cheaper.  As it happens, there's a stack frame already for the right hand side of the evaluation... and what this could do would be to morph that stack frame on-demand so it looked like a function call...but only when the debugger looked at it.  It just might work.</p>
<h2><a name="p-6731-could-parse-debug-and-evaluator-debug-unify-2" class="anchor" href="2.html#p-6731-could-parse-debug-and-evaluator-debug-unify-2"></a>Could PARSE-Debug and EVALUATOR-Debug Unify?</h2>
<p>You run into some interesting questions in terms of whether you want to debug the combinators of a PARSE, or if you want to debug the evaluator implementing parse.  Or if there's some way of switching modes.</p>
<p>Being able to switch modes on a whim would be something like being able to switch into an assembly view of an already-running C function in a C debugger.</p>
<p>Right now the PARSE debug demo is dependent on the hooked parse building up and tearing down its own stack level list in the combinator hook.  That's already a problem, because it means that you can't trigger a breakpoint at an arbitrary point in the parse...because it only maintained this level list if it was tracing.</p>
<p>So the unified model would depend on some way to enumerate the stack API, and be able to make decisions about who to ask about rendering a stack level.  Because a combinator is both an evaluator level and a parse level.</p>
<h2><a name="p-6731-prototyping-eval-debugging-in-replpad-is-probably-best-3" class="anchor" href="2.html#p-6731-prototyping-eval-debugging-in-replpad-is-probably-best-3"></a>Prototyping EVAL Debugging in ReplPad is Probably Best</h2>
<p>After having put together the PARSE stepping demo, I think that it makes the most sense to build debugger prototypes in the browser.</p>
<p>I continue to think this needs to be pushed on sooner rather than later.  (I know it seems quite a bit "later" in the scheme of things, but there's always more later to come.  :-P)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1154.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
