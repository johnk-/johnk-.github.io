<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Special Syntax for FOR-EACH/etc. to receive ACTION!s? - #4 by hostilefork - Internals - AltRebol</title>
    <meta name="description" content="Here is some pretty innocuous-looking code: 
n: 1
for-each item block [
    print [&amp;quot;the&amp;quot; item &amp;quot;is&amp;quot; n &amp;quot;in the block&amp;quot;]
    n: n + 1
]

But because Rebol runs ACTION!s when they are bound to WORD!s, and you can put ACTION!s&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Special Syntax for FOR-EACH/etc. to receive ACTION!s?&#39;" href="../955.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955/4" />
<meta name="twitter:url" content="https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955/4" />
<meta property="og:title" content="Special Syntax for FOR-EACH/etc. to receive ACTION!s?" />
<meta name="twitter:title" content="Special Syntax for FOR-EACH/etc. to receive ACTION!s?" />
<meta property="og:description" content="Today I&#39;ve conceived the idea that TUPLE!s could be used to indicate things to the left of a dot should not be a function.  That decoration could be used as an alternative for functions...  &gt;&gt; print-val: func [x.] [print [&quot;The value is&quot; x]] &gt;&gt; print-val :foo  * Error: Function assigned to X, disallowed functions (spec&#39;d as X.)  &gt;&gt; print-val: func [x] [print [&quot;The value is&quot; x]] &gt;&gt; print-val :foo  The value is Formatting hard drive...  Or for iteration:  &gt;&gt; block: compose [1 (:foo) 2] &gt;&gt; for-each..." />
<meta name="twitter:description" content="Today I&#39;ve conceived the idea that TUPLE!s could be used to indicate things to the left of a dot should not be a function.  That decoration could be used as an alternative for functions...  &gt;&gt; print-val: func [x.] [print [&quot;The value is&quot; x]] &gt;&gt; print-val :foo  * Error: Function assigned to X, disallowed functions (spec&#39;d as X.)  &gt;&gt; print-val: func [x] [print [&quot;The value is&quot; x]] &gt;&gt; print-val :foo  The value is Formatting hard drive...  Or for iteration:  &gt;&gt; block: compose [1 (:foo) 2] &gt;&gt; for-each..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Internals" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2020-09-19T15:52:39+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955">Special Syntax for FOR-EACH/etc. to receive ACTION!s?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/internals/9" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/internals/9" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Internals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Special Syntax for FOR-EACH/etc. to receive ACTION!s?'>
      <link itemprop='url' href='https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955'>
      <meta itemprop='datePublished' content='2018-12-10T18:33:15Z'>
        <meta itemprop='articleSection' content='Internals'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' href='https://forum.rebol.info/u/hostilefork'>
          </span>
        <meta itemprop='text' content='Here is some pretty innocuous-looking code: 
n: 1
for-each item block [
    print [&amp;quot;the&amp;quot; item &amp;quot;is&amp;quot; n &amp;quot;in the block&amp;quot;]
    n: n + 1
]

But because Rebol runs ACTION!s when they are bound to WORD!s, and you can put ACTION!s&amp;hellip;'>

          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-09-19T15:52:39Z' class='post-time'>
                    September 19, 2020,  3:52pm
                  </time>
                  <meta itemprop='dateModified' content='2020-09-19T15:52:39Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="955">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Imagine if plain WORD! arguments prohibited ACTION! (even if in the typeset, as per ANY-TYPE!), but GET-WORD! arguments allowed it:</p>
</blockquote>
</aside>
<p>Today I've conceived the idea that <a href="../../tuple-and-path-big-picture-concept/1330.html">TUPLE!s could be used to indicate things to the left of a dot should not be a function</a>.</p>
<p>That decoration could be used as an alternative for functions...</p>
<pre><code>&gt;&gt; print-val: func [x.] [print ["The value is" x]]
&gt;&gt; print-val :foo 
* Error: Function assigned to X, disallowed functions (spec'd as X.)

&gt;&gt; print-val: func [x] [print ["The value is" x]]
&gt;&gt; print-val :foo 
The value is Formatting hard drive...
</code></pre>
<p>Or for iteration:</p>
<pre><code>&gt;&gt; block: compose [1 (:foo) 2]
&gt;&gt; for-each var. block [print ["The value is" var]]
The value is 1
** Error: Function assigned to VAR, disallowed (spec'd as VAR.)

&gt;&gt; block: compose [1 (:foo) 2]
&gt;&gt; for-each var block [print ["The value is" var]]
The value is 1
The value is Formatting hard drive...

The value is 2
</code></pre>
<p>This would give library authors peace of mind and save them the trouble of less efficient ways of writing bulletproof code... moving the burden of annotation to those who need it.</p>
<p>It makes me a bit uncomfortable as the default seems <em>unsafe</em>.  But that unsafety can also be seen as flexibility for code golf.</p>
<p>Slashes could be used as well, but that wouldn't seem to combine well with refinements... as <strong>/a/</strong> meaning "optional parameter than can be a function if it wants" seems less natural than <strong>/a.</strong> as "optional parameter that can't be a function".  It also seems the cleanest expression...</p>
<pre><code>foo: func [/a.] [...]
foo: func [/a/] [...]
foo: func [:/a] [...]
</code></pre>
<p>So all told, we could have something like <strong>foo: func ['(/a.)] [...]</strong> for meaning "quoted optional parameter that can escape the quoting via GROUP!, but can't be a function."  In my ranking listed above (1-4) it brings the best of all worlds... since TUPLE! would be legal in PATH! while GET-WORD! wouldn't, it binds the non-executability to the parameter -and- puts the escapability right next to the quote.</p>
<p>Having a pretty good feeling about this...so maybe the lax default is okay.  If anyone is bothered by it they can build their own wrapper that enforces the non-executability unless you annotate it somehow.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="https://forum.rebol.info/t/special-syntax-for-for-each-etc-to-receive-action-s/955#post_4">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
