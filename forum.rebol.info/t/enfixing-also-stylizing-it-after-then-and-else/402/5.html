<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Enfixing ALSO, stylizing it after THEN and ELSE - #5 - Naming - AltRebol</title>
    <meta name="description" content="As we contemplate re-stylizing operations to embrace enfix more, one kind of historically ugly construct that could use an improvement is ALSO. 
Consider this line from IN-DIR: 
also do block change-dir old-dir

This is &amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../402.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Enfixing ALSO, stylizing it after THEN and ELSE&#39;" href="../402.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/enfixing-also-stylizing-it-after-then-and-else/402/5" />
<meta name="twitter:url" content="https://forum.rebol.info/t/enfixing-also-stylizing-it-after-then-and-else/402/5" />
<meta property="og:title" content="Enfixing ALSO, stylizing it after THEN and ELSE" />
<meta name="twitter:title" content="Enfixing ALSO, stylizing it after THEN and ELSE" />
<meta property="og:description" content="As we contemplate re-stylizing operations to embrace enfix more, one kind of historically ugly construct that could use an improvement is ALSO.  Consider this line from IN-DIR:  also do block change-dir old-dir  This is a shorthand for writing:  (temp: do block, change-dir old-dir, temp)  But this can be done just fine with ELIDE (!)  (do block, elide change-dir old-dir)  So wouldn&#39;t it be more interesting if ALSO could be in the same family as THEN and ELSE, perhaps being like a THEN that doesn..." />
<meta name="twitter:description" content="As we contemplate re-stylizing operations to embrace enfix more, one kind of historically ugly construct that could use an improvement is ALSO.  Consider this line from IN-DIR:  also do block change-dir old-dir  This is a shorthand for writing:  (temp: do block, change-dir old-dir, temp)  But this can be done just fine with ELIDE (!)  (do block, elide change-dir old-dir)  So wouldn&#39;t it be more interesting if ALSO could be in the same family as THEN and ELSE, perhaps being like a THEN that doesn..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Naming" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2017-12-02T03:04:16+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../402.html">Enfixing ALSO, stylizing it after THEN and ELSE</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Enfixing ALSO, stylizing it after THEN and ELSE'>
        <meta itemprop='articleSection' content='Naming'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../402.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-02T03:04:16Z' class='post-time'>
                    December 2, 2017,  3:04am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-20T23:02:32Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>As we contemplate re-stylizing operations to embrace enfix more, one kind of historically ugly construct that could use an improvement is ALSO.</p>
<p>Consider this line from IN-DIR:</p>
<pre><code>also do block change-dir old-dir
</code></pre>
<p>This is a shorthand for writing:</p>
<pre><code>(temp: do block, change-dir old-dir, temp)
</code></pre>
<p>But this can be done just fine with ELIDE (!)</p>
<pre><code>(do block, elide change-dir old-dir)
</code></pre>
<p>So wouldn't it be more interesting if ALSO could be in the same family as THEN and ELSE, perhaps being like a THEN that doesn't modify the result?</p>
<pre><code>tester: func [num] [
    switch num [
        1 [&lt;one&gt;]
        2 [&lt;two&gt;]
     ] also [
        print "It was one or two"
     ] else [
        print "It was neither one nor two"
     ]
]

&gt;&gt; tester 1
It was one or two
== &lt;one&gt;  ; the ALSO branch ran, but didn't modify the overall result

&gt;&gt; tester 3
It was neither one nor two
</code></pre>
<p>I like that it's the same number of letters as THEN and ELSE.  <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../kaj-gets-on-the-meta-train/1753.html">Kaj Gets on the Meta Train</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../../u/Brett.html'><span itemprop='name'>Brett</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../402.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-02T09:33:25Z' class='post-time'>
                    December 2, 2017,  9:33am
                  </time>
                  <meta itemprop='dateModified' content='2021-11-20T23:03:46Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The historical ALSO always plays havoc with my comprehsion, an enfix form looks far more natural to me.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../402.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-19T08:15:50Z' class='post-time'>
                    August 19, 2022,  8:15am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-19T11:52:39Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="402">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>So wouldn't it be more interesting if ALSO could be in the same family as THEN and ELSE, perhaps being like a THEN that doesn't modify the result?</p>
</blockquote>
</aside>
<p>Something a little underwhelming about ALSO in the modern world is that it's really a THEN that takes a parameter and then evaluates to that parameter.</p>
<pre><code>also [...]

; same as

then x -&gt; [... x]
</code></pre>
<p>It has its uses.  But it's not exactly a "superpower".  I use it occasionally, but it's been around for 4 years and I can't think of all that many times.</p>
<h2>A Problem Got Me Wondering...What About A "THENELSE"?</h2>
<p>Something I was looking at made me wonder if it could be the combined behavior of then and else:</p>
<pre><code> code: [...xxx...]

 case [...yyy...] then (code) else (code)

 ; same as

 case [...yyy...] also (code)
</code></pre>
<p><em>"Uh, what?"</em> you might ask.  <em>"Why would you want such a thing, instead of just putting the code afterward, since it runs unconditionally?"</em></p>
<pre><code> case [...yyy...]
 do code

 ; or just

 case [...yyy...]
 ...xxx...

 ; wouldn't this be the same?
</code></pre>
<p><strong>No, there's a twist I didn't point out which relates to <em>error</em> handling.</strong>  THEN and ELSE don't run on every result, they specifically filter out the definitional failures.</p>
<p>So this means if we went with a proposal like the <a href="../../try-parse-parse-except-fail-on-mismatch/1924.html">TRY PARSE + PARSE EXCEPT</a> where definitional failures are used, we'd need a replacement for the THEN if you want to run on any parser success without worrying it might be NULL.</p>
<p>That would make it basically the complement to EXCEPT.  You could then either poke your error case handling on the front with something like a TRY or on the back with an EXCEPT.</p>
<p><em>It seems a pretty good name, because ALSO suggests not really caring about what the result was.</em></p>
<h2>An example from our GitLab URL adjustment</h2>
<pre><code>parse text [
    "http" opt "s" "://gitlab.com/"
    thru "/"  ; user name
    thru "/"  ; repository name
    opt "-/"  ; mystery thing (see remarks on CORSify-gitlab-port)
    change "blob/" ("raw/")
    to &lt;end&gt;
] then [
    return as url! text  ; The port will CORSIFY at a lower level
]
</code></pre>
<p>Today's PARSE model is that if it succeeded and tried to return NULL, that would be turned into a null isotope.  It's worked out pretty well.</p>
<p>But if we are thinking about the model being that a mismatching parse actual FAILs, you'd have to defuse it with something like TRY or EXCEPT or IF FAIL? or the like.  Then if the field was wide open on what PARSE could return, it could return NULL or VOID or whatever...without the isotopic tweak to stop the interaction with ELSE (and block the interaction with tTHEN).</p>
<p>In that world, then random code like the above it would sort of an accident of luck that the PARSE doesn't return NULL.  Rules like OPT (soon to be replaced with TRY!) return NULL and succeed, and could be the overall parse result.  In this case, the last rule is <strong><code>to &lt;end&gt;</code></strong> which will give you a series value of the end of the series...but it might be changed, even with some debug diagnostic routine right at the end.</p>
<p>So rewiring this in the hypothetical worldview, we'd have:</p>
<pre><code>try parse text [
    "http" try "s" "://gitlab.com/"
    thru "/"  ; user name
    thru "/"  ; repository name
    try "-/"  ; mystery thing (see remarks on CORSify-gitlab-port)
    change "blob/" ("raw/")
    to &lt;end&gt;
] also [
    return as url! text  ; The port will CORSIFY at a lower level
]
</code></pre>
<p><strong>Though that is a little bit unfortunate, as the TRY winds up suppressing errors out of the ALSO branch.</strong>  Darnit.  If you want to avoid that, you have to specifically throw the except in to look only at the parse result.</p>
<pre><code>parse text [
    "http" try "s" "://gitlab.com/"
    thru "/"  ; user name
    thru "/"  ; repository name
    try "-/"  ; mystery thing (see remarks on CORSify-gitlab-port)
    change "blob/" ("raw/")
    to &lt;end&gt;
] except [
   ; do nothing
] also [
    return as url! text  ; The port will CORSIFY at a lower level
]
</code></pre>
<p>That's lame.  :-/  Maybe there's some trick whereby you could say that since ALSO only exists as a foil to EXCEPT, that it implies suppressing failures.  But, eh...</p>
<h2>Either Way, I'm Open To New Ideas for ALSO</h2>
<p>Its current behavior is certainly not bad.  But I don't use it as often as I might have thought, and it's not that hard to just tunnel the result with a THEN when one wants that behavior.</p>
<p>I like it being in the THEN / ELSE family as an enfix construct.  But is there something else even more amazing it might do?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
