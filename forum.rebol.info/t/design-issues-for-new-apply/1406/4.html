<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Design Issues for New APPLY - #4 by hostilefork - Dialects/DSLs - AltRebol</title>
    <meta name="description" content="UPDATE 2021/2022: These issues are now all solved: APPLY II, The Revenge! 
And we don&amp;#39;t have to worry about APPLY taking its function argument quoted.  Because if you want it to look clean, you don&amp;#39;t want the word APPLY&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1406.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Design Issues for New APPLY&#39;" href="../1406.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/design-issues-for-new-apply/1406/4" />
<meta name="twitter:url" content="https://forum.rebol.info/t/design-issues-for-new-apply/1406/4" />
<meta property="og:title" content="Design Issues for New APPLY" />
<meta name="twitter:title" content="Design Issues for New APPLY" />
<meta property="og:description" content="On this note, it seems Red&#39;s APPLY is (maybe?) going for the case of &quot;worldview 1&quot;, where you can say apply append [...] instead of apply :append [...]  apply.red · master · hi i am boris / Red mezz warehouse · GitLab  Boris says:   &quot;Also, should function name be a lit-arg?  I expect the main use cases will have a literally written function name,  and where that is not enough, a paren could be used. E.g.:  apply (pick [func1 func2] condition) [...]  Lit-arg will also allow us to pass a function..." />
<meta name="twitter:description" content="On this note, it seems Red&#39;s APPLY is (maybe?) going for the case of &quot;worldview 1&quot;, where you can say apply append [...] instead of apply :append [...]  apply.red · master · hi i am boris / Red mezz warehouse · GitLab  Boris says:   &quot;Also, should function name be a lit-arg?  I expect the main use cases will have a literally written function name,  and where that is not enough, a paren could be used. E.g.:  apply (pick [func1 func2] condition) [...]  Lit-arg will also allow us to pass a function..." />
<meta property="article:published_time" content="2021-08-24T07:01:00+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../1406.html">Design Issues for New APPLY</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/dialects-dsls/18" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Dialects/DSLs</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1406.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-11-19T11:11:28Z'>
              <time itemprop='dateModified' datetime='2022-08-31T02:09:34Z' class='post-time'>
                August 31, 2022,  2:09am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p><strong>UPDATE 2021/2022:</strong> <a href="https://forum.rebol.info/t/apply-ii-the-revenge/1834">These issues are now all solved: <strong>APPLY II, The Revenge!</strong></a></p>
<p>And we don't have to worry about APPLY taking its function argument quoted.  Because if you want it to look clean, you don't want the word APPLY in there at all.  This is now the behavior of terminal slash paths!</p>
<pre><code>  append/ [series value /dup 2]
</code></pre>
<p>In any case--APPLY does not quote, and "Worldview <span class="hashtag">#1</span>" below is the winner.</p>
</blockquote>
<h2>First Big Question: Quote The Function or Not?</h2>
<p>This has been on my mind since the beginning: <em>should you have to use a GET-WORD! to name the function to apply, or does it quote by default...and make you put code fragments that returns a function in a group</em>.</p>
<pre><code> ; Worldview #1
 apply :append [series value /dup 2]
 apply second reduce [:insert :append] [series value /dup 2]  ; will APPLY :APPEND

 ; Worldview #2
 apply append [series value /dup 2]
 apply :append [series value /dup 2]  ; still legal if you want
 apply (second reduce [:insert :append]) [series value /dup 2]  ; GROUP! required
</code></pre>
<p>We have at least some relief at not having to consider Worldview <span class="hashtag">#3</span>, of <code>apply 'append [series value]</code> so APPLY can capture the name "append" for debug stack purposes.  That's not needed because <code>:append</code> gets an ACTION! that carries the label in its cell.  <a href="../../more-comprehensible-errors-with-per-cell-labeling/1357.html">This has been a change that punches above its weight.</a></p>
<p>In the beginning I would have said it <em>definitely</em> has to go with Worldview <span class="hashtag">#1</span>, because in the second case you don't get a clear signal that APPEND is not being called on [SERIES VALUE /DUP 2] and the result being passed to APPLY.  If you didn't see the apply or were otherwise distracted, your reading comprehension would be thrown off by breaking from convention.</p>
<p>Over time I've become more of a believer that the whole premise of the language is to let you bend constructs to predominate use, so the 99% case is pleasing to use.  The now famous case of OF's left-quote, for instance:</p>
<pre><code>type: 'type of x  ; without OF quoting

type: type of x  ; with OF quoting
</code></pre>
<p>The quote mark makes it clearer, but when OF becomes so common that you "just know" then it's a much more pleasing function to use.  How many times do you use OF with a reflector you pick via code?  When is that code a single-arity function you wouldn't have to put in a GROUP! to use with enfix anyway??!</p>
<p>But does that same philosophy to APPLY, that we come to read <strong>apply append</strong> as one indivisible unit, and feel thankful for not having to reach for the colon key?  It's a little bit different than OF because you read left to right, and you can start reading at the APPEND with no speedbump after it.</p>
<p>I'll stress that you would still have the choice.  If you were the type of person who thought it clearer to use the colon, you could do so.  You just wouldn't be able to invoke a function-to-generate-the-function unless you put that in a GROUP!.</p>
<p><em>I can't make up my mind.</em>  So I think I'm going to make the answer Worldview 1.5:</p>
<pre><code> ; Worldview 1.5
 &gt;&gt; apply second reduce [:insert :append] [series value]
 ** Error: APPLY arguments must be GET-WORD! or GROUP! at the moment
</code></pre>
<p>This leaves the door open to interpreting plain WORD! as naming a function in the future.  And it gives time for people to find a really compelling case for where not being able to generate a function without using a GROUP! would be a deal-breaker.</p>
<h2>Naming Refinements</h2>
<p>Historical APPLY had a nasty positional nature for refinements, which led to things like this, from the R3-Alpha module code:</p>
<pre><code>return map-each [mod ver sum name] source [
    apply :load-module [
        mod true? ver ver true? sum sum no-share no-lib import true? name name delay
    ]
]
</code></pre>
<p>You see the combination of <code>true? ver</code> followed by <code>ver</code> as filling in first the refinement slot for /VERSION, and then the value of the refinement argument.</p>
<p>Then you see "used or not" refinements being supplied to their argument cells by the value alone (<code>no-share</code> signaling not to provide /SHARE, <code>no-lib</code> signaling not to use /LIB)</p>
<p><strong>But we can now put refinement names in the APPLY dialect!</strong></p>
<pre><code>apply :load-module [
    mod /version ver /sum sum
        /share null /lib null  ; avoids need for "clarifying" `no-share: false`
        /import import /name name
        /delay delay
]
</code></pre>
<p>You might ask what was stopping that before.  The issue was that historical Rebol had the problem that if you had an argument that could take on any value...including NONE!...then NONE! could not be used to represent the state of the refinement itself.</p>
<p>(Imagine if you are specifying an initial value to fill a block with (as in ARRAY/INITIAL).  It may be important to distinguish putting a NONE! in vs. not having a default at all.)</p>
<p>This is solved in Ren-C by reserving the non-valued NULL state for "refinement not taken".</p>
<blockquote>
<p>Note: I'd gone back and forth a while over whether a REFINEMENT-like PATH! would be appropriate to use in this dialect, based on the question of whether they would be evaluator-active or not.  Ideas were floated around like <code>foo</code> would fetch a variable but be an error if it was NULL, while <code>/foo</code> would fetch a variable and allow NULL.</p>
<p>In the end, inertness for refinements won out.  BLANK!-headed PATH!s and TUPLE!s simply have more dialecting power if they don't overlap what could be a legitimate user intention to fetch variables.  This APPLY situation shows a good example of why inertness is good.)*</p>
<p>Also, if you want to literally pass a refinement value you can do so.  Just quote it:</p>
<pre><code>   apply :whatever [/refinement '/refinement]
</code></pre>
<p>That will pass /REFINEMENT as the refinement parameter.</p>
</blockquote>
<h2>Providing Normal Arguments By Name</h2>
<p>A neat feature of new APPLY will be not only that you can reorder refinements to put them in any position, but also that you can name normal arguments.</p>
<p>So things like this would be legal:</p>
<pre><code>&gt;&gt; apply :append [/dup 2, /value &lt;d&gt;, [a b c]]
== [a b c &lt;d&gt; &lt;d&gt;]
</code></pre>
<p>Everything is streamlined by the idea that refinements represent one (and only one) argument in the frame.  <em>Which has been a critical and elegance-making change.</em></p>
<p>The concept is that ordered parameters which have not yet been named would be filled in, in the order that they are supplied.  You wouldn't be able to specify something twice, so this would be an error:</p>
<pre><code>&gt;&gt; apply :append [/series [a b c], [d e f], &lt;g&gt;]
** Error: Duplicate argument supplied for SERIES
</code></pre>
<h2>Can LOGIC! Be Used With Parameterless-Refinements?</h2>
<p>I have belabored the point of why we don't want low-level FRAME! mechanics getting involved in <a href="../../should-refinement-arguments-be-refinement-if-used/735/4.html">transforming <code>[#[true] #[false]]</code> into <code>[# null]</code></a> for refinements that are "either used or not".</p>
<p>Those rules don't really "apply" here.  APPLY is its own dialect with its own mechanics, and it can do what's convenient.  It can canonize true and false into # and NULL in the frame.</p>
<pre><code>foo: func [/usable /logicable [logic!]] [...]

apply :foo [/usable 1 &lt; 2, /logicable 1 &lt; 2]
; this would give usable of `#`, and logicable of `#[true]`

apply :foo [/usable 1 &gt; 2, /logicable 1 &gt; 2]
; this would give usable of NULL, and logicable of `#[false]`
</code></pre>
<p>Hopefully it makes sense why I think APPLY should be able to do this, while MAKE FRAME! and friends don't.  MAKE FRAME! is the tool for writing <em>APPLY-like-things</em>, and there's no layer between the frame and the evaluator where it's appropriate to put these transformations.  It should be kept pure.</p>
<h2>Should You Be <em>Able</em> to Provide Refinements By Position?</h2>
<p>I'm not sure if giving refinements by position is a great idea.  But this hits on a philosophical question of whether refinements have an order that is exposed to the user.</p>
<p><em>But specialization can shuffle the order.</em>  For instance, what was once a refinement can become a normal argument.</p>
<pre><code>&gt;&gt; foo: func [x [integer!] /refine1 [integer!] /refine2 [integer!]] [...]

&gt;&gt; parameters of :foo
== [x /refine1 /refine2]  ; one normal argument

&gt;&gt; foo-2: :foo/refine2
== [x refine2 /refine1]  ; two normal arguments (e.g. acts like FOO/REFINE2)
</code></pre>
<p>This makes things a bit wacky.</p>
<p>I feel like the safest decision for right now is to say that once you've filled all the ordered arguments, any more arguments in the APPLY with no label causes an error.  The place where this would cause issues would be if BLOCK!s are used to serialize and deserialize frame state generically.  That's a thorny problem in general, which brings us to...</p>
<h2>Should There Be An APPLY/ONLY</h2>
<p>The idea behind APPLY/ONLY was that you have the values for a function's arguments already processed, and you don't want to evaluate them again.</p>
<p>One thing that breaks APPLY/ONLY in Ren-C's world is that this doesn't give a way to supply NULL arguments.  One option would be to let the BAD-WORD! with label <code>~null~</code> be an escape mechanism for this, which might cover a lot of cases (though obviously not accurately capturing a frame that purposefully wanted to pass the ~null~ BAD-WORD!).</p>
<p><em>Because FRAME!s have come along as a general and pure tool for representing function applications, the pressure is taken off of APPLY to be all things to all people.</em>  I think it should start out as the handy evaluative form, and then wait for motivating scenarios before trying to bend to anything else.  Maybe another operator entirely would be more suitable, or just using FRAME! as it is.</p>
        </div>

        <meta itemprop='headline' content='Design Issues for New APPLY'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/apply-ii-the-revenge/1834" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/apply-ii-the-revenge/1834'>
                      <span itemprop='name'>APPLY II: The Revenge!</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1406.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-12-27T11:45:55Z'>
              <time itemprop='dateModified' datetime='2020-12-27T18:11:07Z' class='post-time'>
                December 27, 2020,  6:11pm
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I was debugging something in the not-really-used-but-still-there encapping code, and saw one of the many kind of lousy line-breaking situations:</p>
<pre><code>    section-headers-data:
        read/seek/part file e_shoff (e_shnum * e_shentsize)
</code></pre>
<p>The code is indented enough that it would exceed the desired 80-column-limit to put that all on one line.</p>
<p>What I sometimes do with this to try to communicate is put the whole thing in a GROUP!:</p>
<pre><code>    (section-headers-data:
        read/seek/part file e_shoff (e_shnum * e_shentsize)
    )
</code></pre>
<p>But it's crappy enough that I avoid doing it, as cases like this one show.</p>
<p>With the proposed design for APPLY, you'd have an alternative...with comma and line break options too:</p>
<pre><code>    section-headers-data: apply :read [
        file /seek e_shoff /part (e_shnum * e_shentsize)
    ]

    section-headers-data: apply :read [
        file, /seek e_shoff, /part (e_shnum * e_shentsize)
    ]

    section-headers-data: apply :read [
        file
        /seek e_shoff
        /part e_shnum * e_shentsize
    ]
</code></pre>
<p>In the post above, I question whether <strong>apply read</strong> or <strong>apply :read</strong> is better.  But maybe there's an even better angle if you want more readability.</p>
<h2>It's A Common Desire...Should It Have a Foundational Syntax?</h2>
<p>I want to take terminal dot to mean "this is not a function call", e.g. <strong>var.</strong> would error if var was a function.  So terminal slash was the complement...to mean "this <em>IS</em> a function call".</p>
<p>But what if terminal slash meant "this is a function call... and it's <em>also</em> an apply form"</p>
<pre><code>    section-headers-data: read/ [
        file
        /seek e_shoff
        /part e_shnum * e_shentsize
    ]
</code></pre>
<p>This wouldn't have to lose my concept that <strong>:var/</strong> would be <em>"get me the variable and ensure it's an action"</em> meaning... though it would lose the plain syntax of <strong>foo/ x y z</strong> of "be sure this is a function and run it", you'd have to say <strong>foo/ [x y z]</strong> instead.  Though when you think about it... if someone is obsessive enough to need assurance that foo is a function, might they also be obsessive enough to want to specify a precise number of arguments to it?</p>
<h2>Seems Promising...</h2>
<p>Anyway, an interesting thought.  It could put a close to the "should APPLY quote" debate, and say it wouldn't, because you'd only use APPLY with functions coming from expressions if you had this form.</p>
        </div>

        <meta itemprop='headline' content='Design Issues for New APPLY'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
              split this topic 
          </span>

          <link itemprop="mainEntityOfPage" href="../1406.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-06-01T21:59:51Z'>
              <time itemprop='dateModified' datetime='2022-06-01T21:59:51Z' class='post-time'>
                June 1, 2022,  9:59pm
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>4 posts were split to a new topic: <a href="https://forum.rebol.info/t/apply-ii-the-revenge/1834">APPLY II: The Revenge!</a></p>
        </div>

        <meta itemprop='headline' content='Design Issues for New APPLY'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../is-group-in-path-for-function-invocations-worth-it/1813.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/is-group-in-path-for-function-invocations-worth-it/1813'>
                      <span itemprop='name'>Is GROUP! in PATH! for function invocations worth it?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1406.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-08-24T07:01:00Z'>
              <time itemprop='dateModified' datetime='2022-06-01T22:02:19Z' class='post-time'>
                June 1, 2022, 10:02pm
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1406">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>First Big Question: Is The Applicant A Literal Word or Not?</p>
<p>This has been on my mind since the beginning: <em>should you have to use a GET-WORD! to name the function to apply, or does it quote by default...and make you put code fragments that returns a function in a group</em>.</p>
</blockquote>
</aside>
<p>On this note, it seems Red's APPLY is (maybe?) going for the case of "worldview 1", where you can say <strong><code>apply append [...]</code></strong> instead of <strong><code>apply :append [...]</code></strong></p>
<p><a href="https://gitlab.com/hiiamboris/red-mezz-warehouse/-/blob/master/apply.red" class="inline-onebox">apply.red · master · hi i am boris / Red mezz warehouse · GitLab</a></p>
<p>Boris says:</p>
<blockquote>
<p>"Also, should function name be a lit-arg?<br>
I expect the main use cases will have a literally written function name,<br>
and where that is not enough, a paren could be used. E.g.:</p>
<pre><code>apply (pick [func1 func2] condition) [...]
</code></pre>
<p>Lit-arg will also allow us to pass a function value to it without parens (though currently that's impossible since we can't use function value to construct a path)</p>
<p>apply :myfunc [...]</p>
</blockquote>
<h2>As a Reminder of My Opinion... "Worldview 1.5"</h2>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1406">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p><em>I can't make up my mind.</em> So I think I'm going to make the answer Worldview 1.5:</p>
<pre><code class="lang-auto"> ; Worldview 1.5
 &gt;&gt; apply second reduce [:insert :append] [series value]
 ** Error: APPLY arguments must be GET-WORD! or GROUP! at the moment
</code></pre>
<p>This leaves the door open to interpreting plain WORD! as naming a function in the future. And it gives time for people to find a really compelling case for where not being able to generate a function without using a GROUP! would be a deal-breaker.</p>
</blockquote>
</aside>
<p>I guess maybe Red's usage gives the opportunity for them to be the guinea pigs.  If it bites people then they can be the one to find out.</p>
<h2>Gives me Thought: Might "APPLIQUE" Be Unified?</h2>
<p>They're making it so you can use an object to apply parameters.  If you have an already built object that can be used for a function in Ren-C, that has a name... it's called FRAME!, and you can just DO it.  You don't need to APPLY it because it knows the name of the function it was created for.</p>
<p>So APPLIQUE is a version of APPLY that runs code bound into a frame.</p>
<pre><code>&gt;&gt; flag: true

&gt;&gt; applique :append [
       series: [a b c]
       if flag [
           value: &lt;control&gt;
       ] else [
           value: &lt;structures&gt;
       ]
   ]
== [a b c &lt;control&gt;]
</code></pre>
<p>But APPLIQUE is a (deliberately) crappy name.  I didn't want to take something that would be used for something else.</p>
<p>Should this be folded in as a variant of APPLY of some kind?  APPLY/FRAME?  APPLY/CODE?  Or a different datatype?</p>
<pre><code>&gt;&gt; apply :append [...]  ; act like normal APPLY

&gt;&gt; apply :append @[...]  ; act like APPLIQUE
</code></pre>
<p>In some sense what you want to say here is actually kind of like:</p>
<pre><code>&gt;&gt; do make :append [
       series: [a b c]
       if flag [
           value: &lt;control&gt;
       ] else [
           value: &lt;structures&gt;
       ]
   ]
== [a b c &lt;control&gt;]
</code></pre>
<p>That would break it out into two steps; one step where you build the frame out of code, a bit like a MAKE OBJECT!.</p>
<p>But the problem here is that you're passing make an ACTION!, and getting a FRAME! back.  :-/</p>
<p>Right now when you make a frame you say <strong>make frame! :append</strong> and all your parameters are taken.  So the only way out of this looks like to allow MAKE taking an ACTION! instance in for "what to make" and giving you a FRAME! back.  Which is weird.</p>
<p>Anyway, just mentioning because Red is using APPLY to mean two different things, though their division doesn't make sense in Ren-C's (quite superior <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:">) model.</p>
        </div>

        <meta itemprop='headline' content='Design Issues for New APPLY'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../apply-ii-the-revenge/1834/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/apply-ii-the-revenge/1834/2'>
                      <span itemprop='name'>APPLY II: The Revenge!</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
