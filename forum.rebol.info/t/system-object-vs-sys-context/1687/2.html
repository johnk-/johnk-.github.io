<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>&quot;System Object&quot; vs. &quot;Sys Context&quot; - #2 by hostilefork - Modules - AltRebol</title>
    <meta name="description" content="Let&amp;#39;s say I asked you to explain the difference between the system context (sys) and the system object (system)--and why they are two different things. 
I&amp;#39;m betting you&amp;#39;d probably not be able to explain it.  Because I ge&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1687.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;&quot;System Object&quot; vs. &quot;Sys Context&quot;&#39;" href="../1687.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/system-object-vs-sys-context/1687/2" />
<meta name="twitter:url" content="https://forum.rebol.info/t/system-object-vs-sys-context/1687/2" />
<meta property="og:title" content="&quot;System Object&quot; vs. &quot;Sys Context&quot;" />
<meta name="twitter:title" content="&quot;System Object&quot; vs. &quot;Sys Context&quot;" />
<meta property="og:description" content="Clearly I got around to doing this as quickly as possible...  🐌  ...but better late than never.  I doubt most people will notice (when is the last time you called SYS.MAKE-SCHEME ?)  But a few places were affected.  For most people, the big difference would be that you can now say sys.script.args instead of system.script.args.  What&#39;s in SYS.UTIL, anyway? It&#39;s kind of a grab bag of weird things at the moment, all of which can probably use more thought.  But one key reason for its existenc..." />
<meta name="twitter:description" content="Clearly I got around to doing this as quickly as possible...  🐌  ...but better late than never.  I doubt most people will notice (when is the last time you called SYS.MAKE-SCHEME ?)  But a few places were affected.  For most people, the big difference would be that you can now say sys.script.args instead of system.script.args.  What&#39;s in SYS.UTIL, anyway? It&#39;s kind of a grab bag of weird things at the moment, all of which can probably use more thought.  But one key reason for its existenc..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Modules" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2022-07-01T20:02:09+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1687.html">&quot;System Object&quot; vs. &quot;Sys Context&quot;</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/modules/21" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/modules/21" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Modules</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='&quot;System Object&quot; vs. &quot;Sys Context&quot;'>
      <link itemprop='url' href='../1687.html'>
      <meta itemprop='datePublished' content='2021-08-27T00:07:04Z'>
        <meta itemprop='articleSection' content='Modules'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' href='https://forum.rebol.info/u/hostilefork'>
          </span>
        <meta itemprop='text' content='Let&amp;#39;s say I asked you to explain the difference between the system context (sys) and the system object (system)--and why they are two different things. 
I&amp;#39;m betting you&amp;#39;d probably not be able to explain it.  Because I ge&amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-01T20:02:09Z' class='post-time'>
                    July 1, 2022,  8:02pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-01T20:02:09Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1687">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>TL; DR: - <strong>Having something called SYSTEM that is distinct from SYS isn't doing anyone any cognitive favors, and it should be changed.</strong> I propose SYS and SYSTEM be synonyms for the system context, and what is currently known as SYS become SYS.UTIL.</p>
</blockquote>
</aside>
<p>Clearly I got around to doing this as quickly as possible...</p>
<p><img src="../../../images/emoji/twitter/snail.png%3Fv=12" title=":snail:" class="emoji only-emoji" alt=":snail:" loading="lazy" width="20" height="20"></p>
<p>...but better late than never.  I doubt most people will notice (when is the last time you called SYS.MAKE-SCHEME ?)  But a few places were affected.</p>
<p>For most people, the big difference would be that you can now say <strong>sys.script.args</strong> instead of <strong>system.script.args</strong>.</p>
<h2><a name="p-5972-whats-in-sysutil-anyway-1" class="anchor" href="2.html#p-5972-whats-in-sysutil-anyway-1"></a>What's in SYS.UTIL, anyway?</h2>
<p>It's kind of a grab bag of weird things at the moment, all of which can probably use more thought.</p>
<p>But one key reason for its existence is that there's a bootstrap phase of <em>"Everything you need in order for LOAD of a MODULE to work"</em>... and then everything after that.</p>
<p>So SYS.UTIL is where various service routines pertinent to loading live, like codecs and IMPORT mechanics.  If you're going to load from a file, you need the FILE! scheme, so things like MAKE-SCHEME live there too.</p>
<p>Once the SYS.UTIL code has been processed by bootstrap, it makes some things available in LIB.  So if you say <strong>sys.util.load</strong> you're getting the same function as <strong>lib.load</strong>, which you typically invoke simply as LOAD.</p>
<p>Here's some of those foundations that get exported to LIB:</p>
<ul>
<li>MODULE</li>
<li>LOAD-VALUE</li>
<li>LOAD</li>
<li>DECODE</li>
<li>ENCODE</li>
<li>DECODE-URL</li>
</ul>
<p>Then there's other miscellany...</p>
<h3><a name="p-5972-sysutilmake-scheme-2" class="anchor" href="2.html#p-5972-sysutilmake-scheme-2"></a>SYS.UTIL.MAKE-SCHEME</h3>
<p>The MAKE-SCHEME function is used to register some callbacks that know how to deal with things like <strong><code>read file://</code></strong>.  You say the scheme name is "file" and then you give some handlers for what to do when that gets a handful of possible verbs, like READ or DELETE etc.</p>
<p>On the surface this is cool, in practice there's a lot of unanswered questions that I won't go into here.</p>
<aside class="onebox category-onebox" style="box-shadow: -5px 0px #25AAE2;">
  <article class="onebox-body category-onebox-body">
    <h3>
      <a class="badge-category__wrapper" href="https://forum.rebol.info/c/development/ports/37">
         <span class="badge-category__name">Ports</span>
       
      </a>
    </h3>
      <div>
        <span class="description">
          <p>To discuss the port model and also the implementation of ports with respect to networking.</p>
        </span>
      </div>
  </article>
  <div class="clearfix"></div>
</aside>

<h3><a name="p-5972-sysutiladjust-url-for-raw-3" class="anchor" href="2.html#p-5972-sysutiladjust-url-for-raw-3"></a>SYS.UTIL.ADJUST-URL-FOR-RAW</h3>
<p>In the Web Repl, we had the idea of letting you say <strong>do</strong> on a short GitHub URL for a file...which would give back decorated HTML if you were to READ it.  This kept you from having to hunt down the raw link for a file, you could just use the same URL that would show in your browser.</p>
<p>(Notably we <em>don't</em> want READ to do that jump to the raw URL.  It's specific to DO, because we ostensibly know you can't mean to "run the HTML".)</p>
<p>Once we had this feature it was so useful we wondered "why can't the desktop builds do that too?"  So the logic for translating URLs on GitHub and GitLab in this way was moved into <strong>sys.util.adjust-url-for-raw</strong>, because it's needed by the low-level DO commands</p>
<h3><a name="p-5972-sysutiluparse-4" class="anchor" href="2.html#p-5972-sysutiluparse-4"></a>SYS.UTIL.UPARSE</h3>
<p>We're in a delicate situation with UPARSE.  It is the <a href="../../dead-red-redemption-starting-uparse-on-the-right-foot/1649.html">best-tested Redbol parse ever</a>, and the dialect is too powerful to not use.  but also it's slow, gives terrible error messages, and is still under development.</p>
<p>So it's kind of risky to use it in low-level bootstrap.  Not so much for being slow, but because debugging the error messages prior to boot can be <em>very painful</em>.</p>
<p>However, some non-bootstrap uses are permitted.  So once bootstrap is done, the UPARSE module pokes a copy of its action into sys.util, so that "non-essentials" like decode-url can use it.</p>
<h3><a name="p-5972-sysutildo-5" class="anchor" href="2.html#p-5972-sysutildo-5"></a>SYS.UTIL.DO*</h3>
<p>This is a service routine called by the DO native when handling for the type is easier to write in usermode than it is as a bunch of C code.</p>
<p>So if you DO something like a BLOCK!, that just runs the evaluator inside the interpreter as C...nothing special.  But if you DO a FILE! then there's a lot of machinery that needs to come into play, and so the DO native will delegate to this <strong><code>sys.util.do*</code></strong> function.</p>
<h3><a name="p-5972-sysutilimport-6" class="anchor" href="2.html#p-5972-sysutilimport-6"></a>SYS.UTIL.IMPORT*</h3>
<p>This is the workhorse for much of the shared code that runs underneath DO and IMPORT.  Really, DO is just a skin of this function that reverses its return values: IMPORT* returns the imported module as its main parameter, and the evaluated result of the body as its second parameter.  DO swaps that.</p>
<p>(Much of this is still under review for design.  But the key is that much of what mechanics should be shared, are shared.)</p>
<p>A big difference between this IMPORT* and IMPORT is that you tell it <em>where</em> to import to...instead of it just assuming it should be your "current context".</p>
<p><em>(If you're wondering how IMPORT knows what the "current context" is... it's just a trick, like with definitional RETURN.  Each module declares its own IMPORT function, that's a specialization of IMPORT</em> with the "where" as being itself.)*</p>
<h3><a name="p-5972-sysutilexport-7" class="anchor" href="2.html#p-5972-sysutilexport-7"></a>SYS.UTIL.EXPORT*</h3>
<p>This is the counterpart to IMPORT* which pokes a definition (or definitions) into the exports list of the current module.  Again there is a local EXPORT function for every module, specialized to say that where to export from is itself.</p>
<h3><a name="p-5972-sysutilmake-port-8" class="anchor" href="2.html#p-5972-sysutilmake-port-8"></a>SYS.UTIL.MAKE-PORT*</h3>
<p>This is the code that runs when you call MAKE PORT! on something.  I have better things to do with my day than be a broken record talking about how bad/underdesigned all the port stuff was.  Anyway, this is still relatively unchanged since R3-Alpha...for better or worse.</p>
<h3><a name="p-5972-sysutilregister-codec-9" class="anchor" href="2.html#p-5972-sysutilregister-codec-9"></a>SYS.UTIL.REGISTER-CODEC*</h3>
<p>This is used only by the BMP, PNG, JPEG, and GIF extensions.</p>
<p>Codecs were simplified in Ren-C to not have a specialized C-style interface, but to talk in terms of BINARY! values and use natives.  That part was a good decision, but other than that, there's not been any real development on codecs.  Exactly how they are supposed to be different from streaming ports is not clear.</p>
<p><em>(I've lamented that we have a lot of stream-capable code now...from zlib and mbedTLS...but no real way to expose it.)</em></p>
<h3><a name="p-5972-sysutilparse-url-10" class="anchor" href="2.html#p-5972-sysutilparse-url-10"></a>SYS.UTIL.*PARSE-URL</h3>
<p>This is the ruleset used by DECODE-URL.  It's really only outside the function to save on an indentation level, which is kind of lame.</p>
<h3><a name="p-5972-sysutilscript-pre-load-hook-11" class="anchor" href="2.html#p-5972-sysutilscript-pre-load-hook-11"></a>SYS.UTIL.SCRIPT-PRE-LOAD-HOOK</h3>
<p>This is something that gets called every time a script gets loaded.  The default prints out the fact that it did...which Graham wanted disabled in the ReplPad.</p>
<p>It might be nice to put these somewhere like <strong>sys.hooks</strong> ... but the key reason for this living inside <strong>sys.util</strong> is so that SYS.UTIL.LOAD can see it at that phase of bootstrap.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1687.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
