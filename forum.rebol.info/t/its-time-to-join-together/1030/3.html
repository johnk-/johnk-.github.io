<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>It&#39;s Time To JOIN Together - #3 by hostilefork - Semantics - AltRebol</title>
    <meta name="description" content="As @Brett&amp;#39;s critique of yesteryear pointed out, REJOIN sucked. 
We now have much more palatable options and strategies.  Most notably DELIMIT+SPACED+UNSPACED, which have become nicely defined foundations for one&amp;#39;s daily &amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1030.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;It&#39;s Time To JOIN Together&#39;" href="../1030.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/its-time-to-join-together/1030/3" />
<meta name="twitter:url" content="https://forum.rebol.info/t/its-time-to-join-together/1030/3" />
<meta property="og:title" content="It&#39;s Time To JOIN Together" />
<meta name="twitter:title" content="It&#39;s Time To JOIN Together" />
<meta property="og:description" content="PATH! and TUPLE! in Ren-C are immutable, so you cannot APPEND to them.  However, you can COMPOSE them.   &gt;&gt; de: [d e]   &gt;&gt; compose &#39;(if false [&lt;ab&gt;])/c/(de)/(spread de)  == c/[d e]/d/e  (Note: A failed IF returns void... so the path segment vanishes completely.  If you want to preserve the leading slash, you need to evaluate to a &quot;blank&quot; (like a NONE!))  And you can also JOIN paths (see above posts, it&#39;s why I moved your comment).  It&#39;s a work in progress, but a few things have been pinned down..." />
<meta name="twitter:description" content="PATH! and TUPLE! in Ren-C are immutable, so you cannot APPEND to them.  However, you can COMPOSE them.   &gt;&gt; de: [d e]   &gt;&gt; compose &#39;(if false [&lt;ab&gt;])/c/(de)/(spread de)  == c/[d e]/d/e  (Note: A failed IF returns void... so the path segment vanishes completely.  If you want to preserve the leading slash, you need to evaluate to a &quot;blank&quot; (like a NONE!))  And you can also JOIN paths (see above posts, it&#39;s why I moved your comment).  It&#39;s a work in progress, but a few things have been pinned down..." />
<meta property="article:published_time" content="2022-07-30T17:06:36+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../1030.html">It&#39;s Time To JOIN Together</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/semantics/55" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Semantics</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1030.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-01-24T00:03:00Z'>
              <time itemprop='dateModified' datetime='2022-07-23T15:19:08Z' class='post-time'>
                July 23, 2022,  3:19pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p><strong>As <a class="mention" href="https://forum.rebol.info/u/brett">@Brett</a>'s critique of yesteryear pointed out, <a href="../../rejoin-ugliness-and-the-usefulness-of-tests/248.html">REJOIN sucked</a>.</strong></p>
<p>We now have much more palatable options and strategies.  Most notably DELIMIT+SPACED+UNSPACED, which have become nicely defined foundations for one's daily string work.</p>
<h2>So REJOIN is in the trash heap, but what about JOIN?</h2>
<p>If naming were consistent, you might think from this pattern:</p>
<pre><code>append a reduce b &lt;=&gt; repend a b
</code></pre>
<p>...that the following would have been true:</p>
<pre><code>join a reduce b &lt;=&gt; rejoin a b  ; one would have perhaps thought?
</code></pre>
<p>But no...REJOIN was single arity (and was a mess).</p>
<p>JOIN implicitly reduced, and was basically this:</p>
<pre><code>join a b &lt;=&gt; append copy a reduce b
</code></pre>
<p>But <strong>b</strong> didn't have to be a BLOCK!, so if it was not, it wasn't reduced and just left as-is.</p>
<pre><code>rebol2&gt;&gt; join "abc" [1 + 2 3 + 4]
== "abc37"  ; so the block was reduced

rebol2&gt;&gt; d: 10
rebol2&gt;&gt; join "abc" 'd
== "abcd"  ; not abc10, so the word was *not* reduced
</code></pre>
<h2>Ren-C Drops JOIN's Implicit Reduce Semantics</h2>
<p>Almost all of JOIN's usages turn out to be just adding one thing onto a URL! or FILE!</p>
<pre><code>&gt;&gt; base-path: %/foo/bar/
&gt;&gt; filename: %something.txt

&gt;&gt; data: read join base-path filename
</code></pre>
<p>That's a good solid most of it.  But Ren-C leans more heavily onto JOIN to produce PATH! and TUPLE!, because APPEND doesn't work on them.</p>
<pre><code>&gt;&gt; item: [c d]

&gt;&gt; join 'a/b/ item
== a/b/[c d]
</code></pre>
<p><em>(Note that the real power tool for PATH! and TUPLE! building is COMPOSE, e.g. <strong><code>compose a/b/(spread block)</code></strong>...but this is awkward to use in the simple appending case JOIN is serving.)</em></p>
<p>Because it's plenty legitimate to want to stick a block "as is" onto the end of a PATH! and not REDUCE it, we make JOIN fit in with APPEND and the other functions by making you be explicit when you want reducing or spreading.</p>
<pre><code>&gt;&gt; join "abc" spread reduce [1 + 2 3 + 4]
== "abc37"

&gt;&gt; join "abc" spread [1 + 2 3 + 4]
== "abc1+23+4"

 &gt;&gt; join "abc" [1 + 2 3 + 4]
 ** Error: Cannot JOIN blocks onto strings (use SPREAD for itemwise appending)
</code></pre>
<p>It's more typing, but I feel like it's the <em>right</em> amount of typing to be explicit about what you are doing.</p>
        </div>

        <meta itemprop='headline' content='It&#39;s Time To JOIN Together'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../../u/GiuseppeChillemi.html'><span itemprop='name'>GiuseppeChillemi</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1030.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-30T13:14:49Z'>
              <time itemprop='dateModified' datetime='2022-07-30T16:54:54Z' class='post-time'>
                July 30, 2022,  4:54pm
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It's not so alien. I have experimented with rootless paths on Rebol2 but using a neutral word, as they always need one position 1 on that language. Paths are one of the expressive ways I have accumulated the most ideas. Also, other than non-active words, I would like to have the ability to append paths/refinements to a word without conversion, so you can do something like:</p>
<pre><code class="lang-auto">cmd: 'play
ref: /loud
val1: %TheDarkSideOfTheMoon.mp3
action: [cmd val1]
cmd: append cmd ref
do reduce action
</code></pre>
        </div>

        <meta itemprop='headline' content='It&#39;s Time To JOIN Together'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../big-alien-proposal-refinements-run-functions/1905/5.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/big-alien-proposal-refinements-run-functions/1905/5'>
                      <span itemprop='name'>Big Alien Proposal :flying_saucer: &quot;/REFINEMENTS&quot; Run Functions</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1030.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-30T17:06:36Z'>
              <time itemprop='dateModified' datetime='2022-07-30T17:33:55Z' class='post-time'>
                July 30, 2022,  5:33pm
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GiuseppeChillemi" data-post="2" data-topic="1030">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>I would like to have the ability to append paths/refinements to a word without conversion</p>
</blockquote>
</aside>
<p>PATH! and TUPLE! in Ren-C are immutable, so you cannot APPEND to them.</p>
<p>However, you can COMPOSE them.</p>
<pre><code> &gt;&gt; de: [d e]

 &gt;&gt; compose '(if false [&lt;ab&gt;])/c/(de)/(spread de)
 == c/[d e]/d/e
</code></pre>
<p><em>(Note: A failed IF returns void... so the path segment vanishes completely.  If you want to preserve the leading slash, you need to evaluate to a "blank" (like a NONE!))</em></p>
<p>And you can also JOIN paths (see above posts, it's why I moved your comment).  It's a work in progress, but a few things have been pinned down...like that Ren-C's JOIN does not reduce implicitly.</p>
<aside class="quote no-group" data-username="GiuseppeChillemi" data-post="2" data-topic="1030">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<pre><code>cmd: 'play
ref: /loud
</code></pre>
</blockquote>
</aside>
<p>I am not necessarily against making JOIN able to handle this:</p>
<pre><code>&gt;&gt; join cmd ref
== play/loud
</code></pre>
<p>But it does not do this at the moment...as the code is styled that it must know the result type before doing any of the appends to the temporary block.  It is then converted to the type at the end.</p>
<p>What you are suggesting would mean that it would have to delay figuring out the return type of the join until it looked at what was being appended.  e.g.:</p>
<pre><code>cmd: 'play
tup: .headphones

&gt;&gt; join cmd tup
== play.headphones
</code></pre>
<p>So you would get a TUPLE! in such a case.  But then, what if you did both, like this:</p>
<pre><code>&gt;&gt; join 'play spread [.headphones /loud]
== play.headphones/loud
</code></pre>
<p>That's a PATH! whose first element is a TUPLE! and whose second element is a WORD!.</p>
<p>This is a by-product of the rule that paths may contain tuples, but not vice-versa.</p>
<p>Perhaps you can see why it's simpler to say that the decision on whether what you are ultimately making is a PATH! or a TUPLE! be made already.</p>
<p>As I say, I'm not necessarily opposed to there being operators with these semantics.  People are welcome to try writing them (JOIN is usermode).  There are just higher priorities at the moment.</p>
        </div>

        <meta itemprop='headline' content='It&#39;s Time To JOIN Together'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../taming-the-pathology-of-path/1006/12.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/taming-the-pathology-of-path/1006/12'>
                      <span itemprop='name'>Taming the Pathology of PATH!</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
