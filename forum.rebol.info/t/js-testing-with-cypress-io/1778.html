<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JS testing with Cypress.io - Testing - AltRebol</title>
    <meta name="description" content="I will eventually have to port my Red GUI database front end and so I was looking for testing tools.  I came across https://cypress.io which seems to be fully featured though it may be more demanding of JS knowledge than&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://forum.rebol.info/opensearch.xml" title="AltRebol Search">

      <link href="/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;JS testing with Cypress.io&#39;" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/js-testing-with-cypress-io/1778" />
<meta name="twitter:url" content="https://forum.rebol.info/t/js-testing-with-cypress-io/1778" />
<meta property="og:title" content="JS testing with Cypress.io" />
<meta name="twitter:title" content="JS testing with Cypress.io" />
<meta property="og:description" content="I will eventually have to port my Red GUI database front end and so I was looking for testing tools.  I came across https://cypress.io which seems to be fully featured though it may be more demanding of JS knowledge than I have.  Anyway, here&#39;s a short script to open up the replpad, and start the chess demo though I had to increase the default timeout from 4 to 5 seconds   describe(&#39;Test the replpad&#39;, () =&gt; {  it(&#39;Visits Replpad&#39;, () =&gt; {  cy.visit(&#39;http://hostilefork.com/media/shared/replpad-js..." />
<meta name="twitter:description" content="I will eventually have to port my Red GUI database front end and so I was looking for testing tools.  I came across https://cypress.io which seems to be fully featured though it may be more demanding of JS knowledge than I have.  Anyway, here&#39;s a short script to open up the replpad, and start the chess demo though I had to increase the default timeout from 4 to 5 seconds   describe(&#39;Test the replpad&#39;, () =&gt; {  it(&#39;Visits Replpad&#39;, () =&gt; {  cy.visit(&#39;http://hostilefork.com/media/shared/replpad-js..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="9 ❤" />
<meta property="article:published_time" content="2021-12-21T06:56:28+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="/">
          <img src="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/js-testing-with-cypress-io/1778">JS testing with Cypress.io</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/testing/50" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Testing</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/gchiu'><span itemprop='name'>gchiu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-12-21T06:56:28Z'>
              <time itemprop='dateModified' datetime='2022-05-06T15:30:31Z' class='post-time'>
                May 6, 2022,  3:30pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I will eventually have to port my Red GUI database front end and so I was looking for testing tools.  I came across <a href="https://cypress.io">https://cypress.io</a> which seems to be fully featured though it may be more demanding of JS knowledge than I have.</p>
<p>Anyway, here's a short script to open up the replpad, and start the chess demo though I had to increase the default timeout from 4 to 5 seconds</p>
<blockquote>
<p>describe('Test the replpad', () =&gt; {<br>
it('Visits Replpad', () =&gt; {<br>
cy.visit(<code>'http://hostilefork.com/media/shared/replpad-js/'</code>)<br>
cy.get('.input').type('do &lt;chess&gt;{enter}')<br>
})<br>
})</p>
</blockquote>
<p>So, it opens a browser instance to the replpad, waits until loading is complete, and then waits until the dom has the <code>.input</code> element present.  It then types the chess command.  The chess board then pops up.</p>
<p>Here's a quick <a href="https://filiphric.com/cypress-basics-selecting-elements">tutorial</a> on how to select elements.</p>
<p>Installation is just simply</p>
<pre><code>npm install cypress --save-dev
</code></pre>
<p>but of course on Windows, you'll need to install node.js</p>
<p>And there's <a href="https://docs.cypress.io/guides/continuous-integration/github-actions#Basic-Setup">information</a> on how to use with GitHub actions</p>
        </div>

        <meta itemprop='headline' content='JS testing with Cypress.io'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-05-09T14:14:31Z'>
              <time itemprop='dateModified' datetime='2022-05-09T14:16:43Z' class='post-time'>
                May 9, 2022,  2:16pm
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Looking at <a href="https://www.lambdatest.com/blog/cypress-test-automation-framework/">how Cypress works</a>, it is essentially a proxy server.</p>
<p>So when you ask for <code>http://hostilefork.com/media/shared/replpad-js</code>, it fires up a browser that is actually directed at <code>http://localhost:8000/cypress/media/shared/replpad-js</code> (or whatever).</p>
<p>What the proxy does is add code related to testing.  So by definition, it doesn't do anything we couldn't do ourselves by adding JavaScript into the page.</p>
<p>This means it can't be used to test any "meta" things--like how the page reacts to opening a new browser tab, or interacting across IFRAMEs.</p>
<p>But presumably (?) their injected JavaScript is tricky and tailored, for transmitting keydowns and keyups in a somewhat "realistic" way to mimic what actually happens in browsers...and it may wind up being faster and simpler to use.</p>
<p>My current technique talks to the Firefox webdriver directly (without using the Selenium layer, that abstracts all the webdrivers for all the browsers).  When I made it I figured it was better than nothing, and it has been so...but it is certainly slower than we'd like.</p>
<p>It's certainly worth a shot to see if this is a better answer that covers the cases we'd be interested in.</p>
        </div>

        <meta itemprop='headline' content='JS testing with Cypress.io'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/gchiu'><span itemprop='name'>gchiu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778">

            <link itemprop="image" href="https://forum.rebol.info/uploads/default/original/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584.png">

          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-06-09T07:50:13Z'>
              <time itemprop='dateModified' datetime='2022-06-09T11:46:06Z' class='post-time'>
                June 9, 2022, 11:46am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Since the marionetting etc testing of the replpad has broken, I decided to see if I could use Cypress to the testing instead.</p>
<p>First off I managed to persuade a nice community user n their <a href="https://discord.com/channels/755913899261296641/">discord channel</a> to create a skeleton repository with a working GitHub action that all it does is do a simple GET.  See <a href="https://github.com/conversaShawn/cypress10">her skeleton here</a>.</p>
<p>I cloned it into a Humanistic repo <a href="https://github.com/humanistic/cypress10">here</a></p>
<p>The test scripts go into the e2e/ directory and for instance I have my test of the <a href="https://gitlab.com/Zhaoshirong/rebol-chess/raw/master/create-board.reb">chess app</a> <a href="https://github.com/humanistic/cypress10/blob/main/cypress/e2e/chess.cy.js">here</a></p>
<p>Of course you also have to <a href="https://github.com/humanistic/cypress10/actions">activate GitHub</a> actions when you clone a repo with a GitHub action.</p>
<p>You can also hook up your GitHub actions to the cypress free dashboard.  To do this, you need to sign up for a <a href="https://www.cypress.io/dashboard/">3 user free account</a>.</p>
<p>You also need to enable the GitHub Cypress App once you get access to the Cypress Dashboard. On the left in the concerterina menu, "Integrations" and select the service you wish to integrate with.  GitHub, GitLab and Bitbucket are free.  Jira etc are paid options.</p>
<p>You'll get a key which allows you to integrate with your dashboard, and that needs to run from NPX once you have Cypress installed in the workflow.  See <a href="https://github.com/humanistic/cypress10/blob/main/.github/workflows/main.yml#L13-L15">these lines</a></p>
<p>And now each time you do a push, you can view the results in the Cypress dashboard, and watch videos even of the tests!</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://forum.rebol.info/uploads/default/original/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584.png" data-download-href="https://forum.rebol.info/uploads/default/029c5ff1a84ff5bd570061e5f5167f5b23ddc584" title="image"><img src="https://forum.rebol.info/uploads/default/optimized/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584_2_690x388.png" alt="image" data-base62-sha1="n5Z9AfgyhMshNfOyWxNZE9ITE8" width="690" height="388" srcset="https://forum.rebol.info/uploads/default/optimized/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584_2_690x388.png, https://forum.rebol.info/uploads/default/optimized/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584_2_1035x582.png 1.5x, https://forum.rebol.info/uploads/default/original/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584.png 2x" data-small-upload="https://forum.rebol.info/uploads/default/optimized/1X/029c5ff1a84ff5bd570061e5f5167f5b23ddc584_2_10x10.png"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use xlink:href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1280×720 98.1 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use xlink:href="#discourse-expand"></use></svg>
</div></a></div></p>
        </div>

        <meta itemprop='headline' content='JS testing with Cypress.io'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/parsing-a-readme-md-file-to-fill-a-folder/1840" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/parsing-a-readme-md-file-to-fill-a-folder/1840'>
                      <span itemprop='name'>Parsing a README.md File To Fill A Folder</span>
                    </a>
                    <meta itemprop='position' content='10'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/js-testing-with-cypress-io/1778">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-06-09T12:38:23Z'>
              <time itemprop='dateModified' datetime='2022-06-09T12:39:05Z' class='post-time'>
                June 9, 2022, 12:39pm
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is great!  I think <a class="mention" href="/u/gchiu">@gchiu</a> has found the replacement for the clunky Marionette stuff I was doing in Python.</p>
<p>We get some big wins here:</p>
<ul>
<li>
<p>It's in JavaScript instead of Python... and since we're already having to deal with JavaScript in the ReplPad it means not bringing one more language into the mix.</p>
</li>
<li>
<p>It works with multiple browsers, so we should be able to run across the spectrum and test Chromium and Firefox (I'm not sure how many other browsers I want to worry about, but the Marionette driver was Firefox-specific)</p>
</li>
<li>
<p>The dashboard seems to give a really nice presentation of what's going wrong--including video--which replaces the painstaking process of dealing with trying to configure/find/download screenshots.</p>
</li>
</ul>
<p>With things like the CodeMirror integration, I expect the ReplPad to start having a big growth in features...and automated testing <em>needs</em> to be a part of that if we expect any of it to stay working for any amount of time.</p>
<p>Yay Graham!</p>
<p><img src="https://forum.rebol.info/images/emoji/twitter/partying_face.png?v=9" title=":partying_face:" class="emoji only-emoji" alt=":partying_face:"></p>
        </div>

        <meta itemprop='headline' content='JS testing with Cypress.io'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
