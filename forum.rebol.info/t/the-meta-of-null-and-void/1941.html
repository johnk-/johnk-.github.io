<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>The ^META of NULL and VOID - Internals - AltRebol</title>
    <meta name="description" content="I tried this out, and... it was a terrible idea.  I knew that would be bad, but it was worse than I thought.  It wrecks the whole thing. 
But there&amp;#39;s a much better option!
I&amp;#39;ve been creeping toward convergence of the &amp;quot;q&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://forum.rebol.info/t/the-meta-of-null-and-void/1941" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://forum.rebol.info/opensearch.xml" title="AltRebol Search">

      <link href="/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;The ^META of NULL and VOID&#39;" href="https://forum.rebol.info/t/the-meta-of-null-and-void/1941.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/the-meta-of-null-and-void/1941" />
<meta name="twitter:url" content="https://forum.rebol.info/t/the-meta-of-null-and-void/1941" />
<meta property="og:title" content="The ^META of NULL and VOID" />
<meta name="twitter:title" content="The ^META of NULL and VOID" />
<meta property="og:description" content="I tried this out, and... it was a terrible idea.  I knew that would be bad, but it was worse than I thought.  It wrecks the whole thing.  But there&#39;s a much better option! I&#39;ve been creeping toward convergence of the &quot;quoting ladder&quot; and the &quot;meta ladder&quot;.  I now believe we should go whole hog with it, and say that the ^META of a NULL is the same answer as QUOTE NULL:  &gt;&gt; ^(null) == &#39;  &gt;&gt; meta null == &#39;  &gt;&gt; &#39; ; null  But even further, I believe the ^META of VOID should be a Quasi-NULL  &gt;&gt; quasi..." />
<meta name="twitter:description" content="I tried this out, and... it was a terrible idea.  I knew that would be bad, but it was worse than I thought.  It wrecks the whole thing.  But there&#39;s a much better option! I&#39;ve been creeping toward convergence of the &quot;quoting ladder&quot; and the &quot;meta ladder&quot;.  I now believe we should go whole hog with it, and say that the ^META of a NULL is the same answer as QUOTE NULL:  &gt;&gt; ^(null) == &#39;  &gt;&gt; meta null == &#39;  &gt;&gt; &#39; ; null  But even further, I believe the ^META of VOID should be a Quasi-NULL  &gt;&gt; quasi..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />
<meta property="article:published_time" content="2022-08-18T15:23:53+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="/">
          <img src="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/the-meta-of-null-and-void/1941">The ^META of NULL and VOID</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/internals/9" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Internals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/the-meta-of-null-and-void/1941">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-08-18T15:23:53Z'>
              <time itemprop='dateModified' datetime='2022-08-25T08:39:36Z' class='post-time'>
                August 25, 2022,  8:39am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1915">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"><a href="https://forum.rebol.info/t/q-should-be-the-unevaluated-form-of-void/1915/1">Q: Should ~ Be The Unevaluated Form of VOID ?</a>
</div>
<blockquote>
<p>That doesn't resolve saying what the ^META of an actual void state is. Of course it could just be some weird non-sequitur thing, like <strong><code>@void</code></strong> (that's what it currently is, not to be confused with the new <code>~@void~</code> which would be the meta of an inert word isotope)</p>
<p>One possibility that crossed my mind is that it could actually be an isotopic state, e.g. producing actual unset variables:</p>
<pre><code>&gt;&gt; ^(comment "hi")
== ~  ; isotope
</code></pre>
<p>This runs counter to the idea that ^META values are always non-ornery--to make them easy to pipe around.</p>
</blockquote>
</aside>
<p>I tried this out, and... <em>it was a terrible idea</em>.  I knew that would be bad, but it was worse than I thought.  It wrecks the whole thing.</p>
<h1>But there's a much better option!</h1>
<p>I've been creeping toward convergence of the "quoting ladder" and the "meta ladder".</p>
<p><strong>I now believe we should go whole hog with it, and say that the ^META of a NULL is the same answer as QUOTE NULL:</strong></p>
<pre><code>&gt;&gt; ^(null)
== '

&gt;&gt; meta null
== '

&gt;&gt; '
; null
</code></pre>
<p><strong>But even further, I believe the ^META of VOID should be a Quasi-NULL</strong></p>
<pre><code>&gt;&gt; quasi null
== ~

&gt;&gt; meta void
== ~

&gt;&gt; ~
; void

&gt;&gt; unquasi '~
; null
</code></pre>
<p><strong>When you look at this in the overall pattern it means...</strong></p>
<h1>...VOID is the isotope form of NULL!!!</h1>
<p>It's like everything inching up the reification scale by one notch.  <strong>And it's much better.</strong>  The way things cohere is instantly apparent.</p>
<p><img src="https://forum.rebol.info/images/emoji/twitter/person_climbing.png?v=9" title=":person_climbing:" class="emoji only-emoji" alt=":person_climbing:"></p>
<h2>Why Was ^META of NULL Defined As NULL To Begin With?</h2>
<p>I thought that since NULL was being used as the signal of "soft failure" and ELSE was reacting to it, that it would be nice if you could react to it even if a value had been ^META'd.</p>
<p>UPARSE made use of this, e.g.</p>
<pre><code>([^synthesized remainder]: parser input) then [
    ; do stuff with synthesized' and remainder on parser success
] else [
    ; do stuff on failure, usually propagating the failure
    return null
]
</code></pre>
<p>The majority of the time, this pattern could have been done differently, simply by letting the ELSE branch run in the same operation as the parser, before the result is ^META'd:</p>
<pre><code>[^synthesized remainder]: parser input else [
    ; do stuff on failure, usually propagating the failure
    return null
]

; do stuff with synthesized' and remainder on parser success
</code></pre>
<p><em>But excitingly, this is changing so that NULL isn't the cue at all.</em>  Instead, definitional errors are being used...which can convey more information about why the parser failed and help diagnose the moments and contexts of failure!</p>
<pre><code>[^synthesized remainder]: parser input except e -&gt; [
    ; do stuff on failure, usually propagating the failure
    return raise e
]

; do stuff with synthesized' and remainder on parser success
</code></pre>
<p>With the synthesized NULL state recaptured, there's suddenly high value in having the null states quoted.  They're properly in the same family as all the other results.</p>
<p><em>This may seem like esoteric stuff but I can assure you it's incredibly foundational, and getting it right has extremely pleasing consequences!</em></p>
<h2>There's Still The Quandary of FOR-BOTH</h2>
<p>I've cited it a million times by now, but this means the resolution is that it will have to use some other operation besides meta and unmeta, which pass through void and null (if it's going to try the ALL trick):</p>
<pre><code>for-both: lambda ['var blk1 blk2 body] [
    unmeta* all [
        meta* for-each (var) blk1 body
        meta* for-each (var) blk2 body
    ]
]
</code></pre>
<p>Plain META of VOID would make ~, which is truthy and would corrupt any prior result.</p>
<p>Plain META of NULL would make a quoted null, which is truthy, and wouldn't break the ALL as desired.</p>
<p>At this point what it comes down to is we have a naming problem for whatever the versions that pass through void and null should be called.  <img src="https://forum.rebol.info/images/emoji/twitter/thinking.png?v=9" title=":thinking:" class="emoji" alt=":thinking:">   I'll keep pondering it.</p>
        </div>

        <meta itemprop='headline' content='The ^META of NULL and VOID'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/should-end-able-constructs-all-use-meta-parameters/1783/3" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/should-end-able-constructs-all-use-meta-parameters/1783/3'>
                      <span itemprop='name'>Should END-able constructs all use ^META parameters?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/definitional-errors-as-blank-in-null-out-alternative/1880/7" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/definitional-errors-as-blank-in-null-out-alternative/1880/7'>
                      <span itemprop='name'>Definitional Errors as BLANK!-in-NULL-out Alternative</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/how-to-subvert-voidification/1304/3" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/how-to-subvert-voidification/1304/3'>
                      <span itemprop='name'>How to Subvert Voidification?</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/q-should-be-the-unevaluated-form-of-void/1915/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/q-should-be-the-unevaluated-form-of-void/1915/2'>
                      <span itemprop='name'>Q: Should ~ Be The Unevaluated Form of VOID ?</span>
                    </a>
                    <meta itemprop='position' content='5'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
