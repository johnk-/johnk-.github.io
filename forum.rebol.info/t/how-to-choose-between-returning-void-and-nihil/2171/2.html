<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How To Choose Between Returning VOID and NIHIL? - #2 by hostilefork - Questions - AltRebol</title>
    <meta name="description" content="Ah-ha… I’d completely missed this use of void, as a return value. 
Though this does now raise the question of whether a function should return nihil or void. Both seem to vaporise in lists, after all. I guess it depends&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../2171.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;How To Choose Between Returning VOID and NIHIL?&#39;" href="../2171.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/how-to-choose-between-returning-void-and-nihil/2171/2" />
<meta name="twitter:url" content="https://forum.rebol.info/t/how-to-choose-between-returning-void-and-nihil/2171/2" />
<meta property="og:title" content="How To Choose Between Returning VOID and NIHIL?" />
<meta name="twitter:title" content="How To Choose Between Returning VOID and NIHIL?" />
<meta property="og:description" content="There&#39;s some touchy-feely choices made in the constructs regarding voids.  I think it&#39;s important that they&#39;re not truthy or falsey.  &gt;&gt; if void [print &quot;This is important.&quot;] ** Script Error: Invalid use of void  Which rules out IF on an IF, since failed IF returns void:  &gt;&gt; if (if false [&lt;a&gt;]) [&lt;b&gt;] ** Script Error: Invalid use of void  However, ALL is kind of like a chain of IF statements testing for logic.  Given the existence of NIHIL, should it demand that for opting out?  &gt;&gt; all [if true [..." />
<meta name="twitter:description" content="There&#39;s some touchy-feely choices made in the constructs regarding voids.  I think it&#39;s important that they&#39;re not truthy or falsey.  &gt;&gt; if void [print &quot;This is important.&quot;] ** Script Error: Invalid use of void  Which rules out IF on an IF, since failed IF returns void:  &gt;&gt; if (if false [&lt;a&gt;]) [&lt;b&gt;] ** Script Error: Invalid use of void  However, ALL is kind of like a chain of IF statements testing for logic.  Given the existence of NIHIL, should it demand that for opting out?  &gt;&gt; all [if true [..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Questions" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="article:published_time" content="2024-03-09T09:41:57+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../2171.html">How To Choose Between Returning VOID and NIHIL?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/usage/7" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Questions</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='How To Choose Between Returning VOID and NIHIL?'>
        <meta itemprop='articleSection' content='Questions'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../../u/bradrn.html'><span itemprop='name'>bradrn</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../2171.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-03-09T02:30:26Z' class='post-time'>
                    March 9, 2024,  2:30am
                  </time>
                  <meta itemprop='dateModified' content='2024-03-09T08:50:18Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="1604">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"><a href="../../shades-of-distinction-in-non-valued-intents/1604/6.html">Shades of Distinction In Non-Valued Intents</a>
</div>
<blockquote>
<p>Void is used generically in many places when you want things to vanish:</p>
<pre><code class="lang-plaintext">&gt;&gt; compose [&lt;a&gt; (if false [&lt;b&gt;]) &lt;c&gt;]
== [&lt;a&gt; &lt;c&gt;]
</code></pre>
</blockquote>
</aside>
<p>Ah-ha… I’d completely missed this use of void, as a return value.</p>
<p>Though this does now raise the question of whether a function should return nihil or void. Both seem to vaporise in lists, after all. I guess it depends on whether you want the function call to be ignored or not.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../shades-of-distinction-in-non-valued-intents/1604/7.html">Shades of Distinction In Non-Valued Intents</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../2171.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-03-09T09:41:57Z' class='post-time'>
                    March 9, 2024,  9:41am
                  </time>
                  <meta itemprop='dateModified' content='2024-03-09T11:59:29Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2171">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Both seem to vaporise in lists, after all.</p>
</blockquote>
</aside>
<p>There's some touchy-feely choices made in the constructs regarding voids.</p>
<p>I think it's important that they're not truthy or falsey.</p>
<pre><code>&gt;&gt; if void [print "This is important."]
** Script Error: Invalid use of void
</code></pre>
<p>Which rules out IF on an IF, since failed IF returns void:</p>
<pre><code>&gt;&gt; if (if false [&lt;a&gt;]) [&lt;b&gt;]
** Script Error: Invalid use of void
</code></pre>
<p>However, ALL is kind of like a chain of IF statements testing for logic.  Given the existence of NIHIL, should it demand that for opting out?</p>
<pre><code>&gt;&gt; all [if true [1 &lt; 2] if false [3 &gt; 4] if true [5 &lt; 6]]
** Script Error: Invalid use of void
</code></pre>
<p>If it wasn't willing to erase voids, you'd need to use ELIDE-IF-VOID to erase the voids:</p>
<pre><code>&gt;&gt; all [if true [1 &lt; 2] elide-if-void if false [3 &gt; 4] if true [5 &lt; 6]]
== ~true~  ; anti
</code></pre>
<p>But I feel like it works out better in practice if ANY and ALL consider void as no vote.  Also, if all the expressions opt out of voting, the ANY or ALL overall is void.</p>
<pre><code>&gt;&gt; any [void, all [if false [1 &lt; 2] if false [3 &gt; 4] if false [5 &lt; 6]], void]
== ~void~  ; anti
</code></pre>
<p>But other constructs--like CASE--do not erase voids...only NIHIL.  They have a "structure" to them, and it's desirable to not disrupt that structure too easily, e.g. by looking up a variable which could be void.  (variables cannot be NIHIL, it's an unstable isotope)</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2171">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Though this does now raise the question of whether a function should return nihil or void.</p>
</blockquote>
</aside>
<p>I think it should be a very rare choice to make things return VOID unconditionally.</p>
<p>And I think it should be an even rarer choice to return NIHIL (e.g. because of the damage it can do to things like CASE or SWITCH structure).  And when NIHIL is returned it should almost always be unconditional.</p>
<p>NIHIL is nice for debugging statements, because you can throw them in without disrupting the surrounding code</p>
<pre><code>&gt;&gt; y: 10 + do [x: 1 + 2, dump x]
x: 3
== 13
</code></pre>
<p>Because of this, there's been some pressure to say that PRINT return NIHIL.  <a href="../../why-doesnt-print-return-void-or-vaporize-via-nihil/1466.html">So far, I've rejected that</a>.</p>
<pre><code>append [a b c] print "I think this should error"  ; rules out void

message: null
(print maybe message) else [print "I like reacting to no output"]
</code></pre>
<p>Also, though people reach for PRINT for debug output, I think it's poor for that.  The fact that it evaluates blocks means I don't like the idea of <strong>print x</strong> taking too many kinds of input, that could one day become a block and surprise you by evaluating.  So it's already a bad generic "debug dump".  And logging with the same thing you use for committed output makes it hard to search for debug code and remove or disable it.</p>
<p>I like there being relatively few NIHIL-returning operations, and if you want to erase something use ELIDE.</p>
<p>But ASSERT returns NIHIL and that's neat in things like CASE or SWITCH for asserting something as true when you've gotten to a certain point:</p>
<pre><code>case/all [  ; /ALL -&gt; don't stop on first condition matched
    x &lt; 10 [y: &lt;lesser&gt;]
    x &gt; 10 [y: &lt;greater&gt;]
    assert [(x = 10) or (find [&lt;lesser&gt; &lt;greater&gt;] y)]
    x = 10 [print "You can imagine this kind of thing being useful"]
]
</code></pre>
<p><sub><em>I should go through and replace these with real useful examples someday, but my hope is people get the point abstractly.</em></sub></p>
<p>Anyway, I think it's nice to be able to do that particular thing without saying ELIDE ASSERT.  A few other constructs make the cut of justifying NIHIL.</p>
<p>Hopefully it's clear why I don't think there are that many applications for functions that return nihil conditionally.  ELIDE-IF-VOID is a very niche function that I don't think there are that many legitimate uses for.  If you're going to come up with a construct that does return nihil conditionally, it should be discernible from the source-level syntax if it's a vanishing or non-vanishing invocation.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
