<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot; - Datatypes - AltRebol</title>
    <meta name="description" content="From some time I am having the idea that each datatype could have a second value slot where you can set a context where I can store replacement handling methods for set/get and also other functions and any data you have,&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="https://forum.rebol.info/uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://forum.rebol.info/opensearch.xml" title="AltRebol Search">

      <link href="/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;&#39;" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908" />
<meta name="twitter:url" content="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908" />
<meta property="og:title" content="Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;" />
<meta name="twitter:title" content="Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;" />
<meta property="og:description" content="From some time I am having the idea that each datatype could have a second value slot where you can set a context where I can store replacement handling methods for set/get and also other functions and any data you have, so you can patch the standard Rebol handlings and have also additional data/functions." />
<meta name="twitter:description" content="From some time I am having the idea that each datatype could have a second value slot where you can set a context where I can store replacement handling methods for set/get and also other functions and any data you have, so you can patch the standard Rebol handlings and have also additional data/functions." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="9 ❤" />
<meta property="article:published_time" content="2022-07-19T21:36:10+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="/">
          <img src="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="/t/could-each-datatype-have-a-second-hidden-slot/1908">Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/GiuseppeChillemi'><span itemprop='name'>GiuseppeChillemi</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-19T21:36:10Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>From some time I am having the idea that each datatype could have a second value slot where you can set a context where I can store replacement handling methods for set/get and also other functions and any data you have, so you can patch the standard Rebol handlings and have also additional data/functions.</p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/could-strings-have-context/587/15" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/could-strings-have-context/587/15'>
                      <span itemprop='name'>Could strings have context?</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-20T00:53:33Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:12:30Z' class='post-time'>
                July 30, 2022,  3:12am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GiuseppeChillemi" data-post="1" data-topic="1908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>each datatype could have a second value slot</p>
</blockquote>
</aside>
<p><strong>But as it happens, Ren-C objects and functions actually do have this "second slot".</strong></p>
<p>It's where modules store their headers, and where functions store their help (for instance).</p>
<pre><code>&gt;&gt; info: meta-of :append  ; old name for second slot is "META-OF", needs renaming

&gt;&gt; info.parameter-notes
== make frame! [
    return: '
    series: "Any position (modified)"
    value: {What to append (NULL produces TRY-interceptible failure if no-op)}
    part: "Limits to a given length or position"
    dup: "Duplicates the insert a specified number of times"
    line: {Data should be its own line (use as formatting cue if ANY-ARRAY!)}
]
</code></pre>
<p>There's more leeway in finding space for this slot in things like objects and functions, because they don't try to fit all of their data into a "cell".  Things like DATE! are too packed in the current implementation--they use all the cell's space.  But of course there could be a way to open this up, and the dates could split their contents out into a separate allocation...question is if it's worth doing so.</p>
<p>I wouldn't say it's the worst idea that INTEGER! be able to have additional properties, but it's not clearly an important idea to pursue at the moment.  However, being able to give functions data fields is something that is done in practice in things like JavaScript...and has shown value there.  So we have it, and it would be nice if the feature were exposed better.</p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/GiuseppeChillemi'><span itemprop='name'>GiuseppeChillemi</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-20T02:07:38Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I have not understood if you are talking at datatype level or value level. My idea is to store an object with methods to manage the current value. It would be nice if you could optionally instruct ren-c to use these methods and override the standard set/get/clear... of other inner Rebol metal language. So, it would be like having a custom u-type for each value.</p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="2" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/rgchris'><span itemprop='name'>rgchris</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-20T03:30:37Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GiuseppeChillemi" data-post="3" data-topic="1908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>It would be nice if you could optionally instruct ren-c to use these methods and override the standard set/get/clear...</p>
</blockquote>
</aside>
<p>This doesn't quite address specifically what you're looking for, but it is somewhat pertinent and it's on my mind so I'll put it here for now.</p>
<p>Having spent a bit of time swimming in the Javascript waters lately, I see some value in a middle ground between Javascript objects and Rebol ports (perhaps this an evolution in thinking since my <a href="https://forum.rebol.info/t/class-an-alternative-to-method/1440">CLASS proposal</a>).</p>
<p>Ports kind of are the closest thing to a custom Rebol datatype (I'm not the first to suggest this) with some ties to the URL type for something close to top-level representation in the language. Javascript objects go a bit deeper into prototypical inheritance than Rebol objects and have chameleon-like qualities in the way Rebol ports do. Consider how you can, for example, manipulate the way an arbitrary object interacts with standard operators:</p>
<pre><code class="lang-javascript">function mySpecialNumberType(value, unit) {
    this.value = value
    this.unit = unit
}

Object.assign(
    mySpecialNumberType.prototype, {
        valueOf: function () {
            return this.value * 2
        },

        toString: function () {
            return '' + this.value + this.unit
        }
    }
)

let num = new mySpecialNumberType(
    1, 'em'
)

console.log(
    [num + 2, num]
    .join(' ')
)

// =&gt; 4 1em
</code></pre>
<p><em><a href="https://gist.github.com/rgchris/c2e51153ed4b2b2b44fa03ce1d381ab9#file-my-num-type-js">(with comments)</a></em></p>
<p>It runs a bit deeper than that and makes Javascript versatile in certain ways—as I said, I think there's some value in that.</p>
<p>A nice quality of Javascript objects is that the object prototypes are named, so it's generally easy to tell if an object conforms to the type you're expecting:</p>
<pre><code class="lang-javascript">num instanceof mySpecialNumberType
</code></pre>
<p>There's no real way to hack 'primitive' objects in Javascript, so you can't change the way, say, a literal <code>1</code> or <code>'foo'</code> is added or formed.</p>
<p>I should add, I do find the way Javascript's objects work in this way a little wacky (by specifying them first by their constructor and then their attributes and obscures their general usefulness <img src="https://forum.rebol.info/images/emoji/twitter/man_shrugging.png?v=9" title=":man_shrugging:" class="emoji" alt=":man_shrugging:">)</p>
<p>If you put aside native IO, PORT! values in Rebol 3 are little more than a variant of OBJECT! and while you can't quite hack the language as in Javascript, you can still manipulate the way various ports react to the standard <a href="https://github.com/r3n/rebol-wiki/wiki/Port-Actors">Rebol verbs</a>, which kind of hints at the general area I'm interested in.</p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/sample-custom-datatype-idea-sound/1899/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/sample-custom-datatype-idea-sound/1899/2'>
                      <span itemprop='name'>Sample Custom Datatype Idea: Sound</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/rgchris'><span itemprop='name'>rgchris</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-20T04:37:14Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is the sort-of equivalent in Rebol 3 (using R3-Alpha). Similarly wacky in the implementation for what it does, but you put the two examples together and there is a semblance of an idea there:</p>
<pre><code class="lang-auto">my-literal-value: my-special-num-type:1em

digit: charset "0123456789"
letter: charset "abcdefghijklmnopqrstuvwxyz"

sys/make-scheme [
    name: 'my-special-num-type
    title: "My Special Number Type"

    state: make object! [
        value: none
        unit: none
    ]

    init: func [
        this
    ][
        this/state: make state [
            parse this/spec/ref [
                "my-special-num-type:"
                copy value some digit
                copy unit some letter
            ]
        ]
    ]

    actor: [
        select: func [this property] [
            get in this/state property
        ]

        copy: func [this] [
            to url! rejoin [
                "my-special-num-type:"
                this/state/value this/state/unit
            ]
        ]
    ]
]

num: make port! my-literal-value

print [
    select num 'value select num 'unit
    copy num
]

; =&gt; 1 em my-special-num-type:1em
</code></pre>
<p><em><a href="https://gist.github.com/rgchris/c2e51153ed4b2b2b44fa03ce1d381ab9#file-my-num-type-r3">(with comments)</a></em></p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/sample-custom-datatype-idea-sound/1899/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/sample-custom-datatype-idea-sound/1899/2'>
                      <span itemprop='name'>Sample Custom Datatype Idea: Sound</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-20T05:45:27Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="GiuseppeChillemi" data-post="3" data-topic="1908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>I have not understood if you are talking at datatype level or value level.</p>
</blockquote>
</aside>
<p>Sort of both...because how much space a value cell (instance of a datatype) has to spare for things like a second "slot" depends.  A value like <strong><code>19-Jul-2022/22:39:58.725-4:00</code></strong>  already uses up all the cell space (cell header, the date, the time, and the nanoseconds).</p>
<p>But that's just one detail.  If you have a date value like that today, it is considered "immediate!".  So if you pass a date to someone, they cannot change it and affect dates that you are holding onto.</p>
<p>If dates have more properties as you suggest, then this starts to get fuzzy.  If I pass you a date, and you change some of these "second slot" properties, does it change the second slot properties on my date?</p>
<aside class="quote no-group" data-username="GiuseppeChillemi" data-post="3" data-topic="1908">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/letter_avatar_proxy/v4/letter/g/838e76/40.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>So, it would be like having a custom u-type for each value.</p>
</blockquote>
</aside>
<p>There's really no design behind user-defined types, so saying something is "like it" can't explain its behavior.  It's defining an unknown in terms of an unknown...!</p>
<p>My push is for people to really talk in terms of concrete scenarios.  What is the thing you are trying to accomplish, and how does the language feature provide something useful for that purpose.</p>
<p>So for instance: we certainly <em>can</em> provide some extra fields of user information that travels along with a DATE!.  But there has to be some <em>really killer advantage</em> to doing so vs. making an object that has a date as a field.  And that advantage has to be shown not to break down under slight scrutiny beyond a single example that makes it look a little nicer for one case...</p>
<p>We've got a lot of things to ponder, and <a class="mention" href="/u/rgchris">@rgchris</a> is offering some leads on that.</p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/Brett'><span itemprop='name'>Brett</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="https://forum.rebol.info/t/could-each-datatype-have-a-second-hidden-slot/1908">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-21T02:08:51Z'>
              <time itemprop='dateModified' datetime='2022-07-30T03:11:58Z' class='post-time'>
                July 30, 2022,  3:11am
              </time>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Just a musing. For a long time I wished for strings with context. It came from doing tokenisation of mostly string data, wanting to keep the sequence of tokens in a block so that they could be simply re-joined together again after having extracted or manipulated some parts of the sequence based on type. By manipulation I mean simple series like operations such as replace or using parse.</p>
<p>Rebol has been really useful over other languages I've used for just reading in foreign syntaxes, overlaying it with just enough structure to complete a task and writing it back out. A smart search and replace based on simple structure.</p>
<p>I'd envisaged parse annotating substrings of the original with context to allow small ad-hoc editors for foreign syntaxes that had a basic idea of structure. Like string interpolation or extracting the functions from C source for ren-c.  Maintaining a parallel data structure for the types or maintaining a breaking into objects seemed to be a PITA and parse doesn't work so well on object data structures.</p>
<p>I wonder now if instead of strings with context, I actually only needed strings that could be tagged with an associated word, with that word carrying whatever context was required.  Using a word instead of binding a context has the possibility of creating a syntax that would allow a string to be saved in a form that includes the word - a bit more homoiconic than a ephemeral context.</p>
<p>Anyway, just a musing... Now back to photos <img src="https://forum.rebol.info/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Could Each Datatype Have a &quot;Second&quot; (Hidden) &quot;Slot&quot;'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
