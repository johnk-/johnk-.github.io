<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Rebol And Scopes: Well, Why Not? - Binding - AltRebol</title>
    <meta name="description" content="It&amp;#39;s frequently said that Rebol &amp;quot;doesn&amp;#39;t have scope&amp;quot;.  Early examples of that premise might point to something like a block of: 
[x x x y y y]

Then people might say that the Xs and Ys can all resolve to something differ&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1751.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Rebol And Scopes: Well, Why Not?&#39;" href="1751.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/rebol-and-scopes-well-why-not/1751" />
<meta name="twitter:url" content="https://forum.rebol.info/t/rebol-and-scopes-well-why-not/1751" />
<meta property="og:title" content="Rebol And Scopes: Well, Why Not?" />
<meta name="twitter:title" content="Rebol And Scopes: Well, Why Not?" />
<meta property="og:description" content="It&#39;s frequently said that Rebol &quot;doesn&#39;t have scope&quot;.  Early examples of that premise might point to something like a block of:  [x x x y y y]  Then people might say that the Xs and Ys can all resolve to something different.  &gt;&gt; print [x x x y y y] 10 20 &quot;foo&quot; 30 40 &quot;bar&quot;  I find it personally frustrating when this is pronounced with glee (as per Red Gitter &quot;there is no spoon!&quot;)...vs. acknowledging that this should seem very alarming.  When you do something weird the burden of proof is on you to..." />
<meta name="twitter:description" content="It&#39;s frequently said that Rebol &quot;doesn&#39;t have scope&quot;.  Early examples of that premise might point to something like a block of:  [x x x y y y]  Then people might say that the Xs and Ys can all resolve to something different.  &gt;&gt; print [x x x y y y] 10 20 &quot;foo&quot; 30 40 &quot;bar&quot;  I find it personally frustrating when this is pronounced with glee (as per Red Gitter &quot;there is no spoon!&quot;)...vs. acknowledging that this should seem very alarming.  When you do something weird the burden of proof is on you to..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="12 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="18 ❤" />
<meta property="article:published_time" content="2021-10-27T03:57:01+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1751.html">Rebol And Scopes: Well, Why Not?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Rebol And Scopes: Well, Why Not?'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-27T03:57:01Z' class='post-time'>
                    October 27, 2021,  3:57am
                  </time>
                  <meta itemprop='dateModified' content='2022-02-14T05:22:28Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>It's frequently said that Rebol "doesn't have scope".  Early examples of that premise might point to something like a block of:</p>
<pre><code>[x x x y y y]
</code></pre>
<p>Then people might say that the Xs and Ys can all resolve to something different.</p>
<pre><code>&gt;&gt; print [x x x y y y]
10 20 "foo" 30 40 "bar"
</code></pre>
<p>I find it personally frustrating when this is pronounced with glee (as per Red Gitter <em>"there is no spoon!"</em>)...vs. acknowledging that this should seem very alarming.  When you do something weird the burden of proof is on you to prove its benefit.</p>
<h2>Were Scopes Rejected Because They're Somehow Bad?</h2>
<p>No.</p>
<p><em>It's because Rebol's dynamic nature means there isn't a clear moment in time where code can be holistically analyzed to determine scopes</em>.  Code structures are always getting cobbled together from pieces...from disparate locations in the codebase, or sometimes fabricated from thin air with <em>no</em> context.</p>
<p>So it hasn't had scopes because it hasn't been able to.</p>
<p>BUT with the prototypes I've done with string interning, it integrates something like "scopes".</p>
<pre><code>&gt;&gt; print interpolate {Scopes? $x $x $x $y $y $y}
Scopes? 10 10 10 foo foo foo
</code></pre>
<p>When a string carries along a "binding", it only carries one.  And that effectively captures some map from words to values.  So the answer to "what is X" and "what is Y" will be the same each time you ask that mapping referenced by that string.</p>
<p>If that's not a "scope", what is it?  And is there a reason the system as a whole should not use them?</p>
<h2>Historical Rebol Used Mutable Binding</h2>
<p>Historical Rebol's idea of binding is that ANY-WORD!s get bits in the cell representing an object they are looked up in.  This process of gluing on bindings was done "every now and again" by code that walks around--usually deeply--and mutably changes data it is given.</p>
<p><strong>On the plus side: programmability.</strong>  If you received a BLOCK! and wanted to go through and say that every SET-WORD! that starts with a vowel is going to be bound to some new object, but others will be left as-is, you can do that.  You can examine not only the properties of the structure, but also make decisions on what the previous binding was...selecting to override some references of the same named variable while leaving others alone.</p>
<p>(Note: Some binding queries didn't give useful information.  If you asked for the binding of a word linked to a function argument or local, it would just say "true".)</p>
<p><strong>On the plus side: performance.</strong>  If you're dealing with a concept of binding that wants to freeze in time at the moment you run a bind pass, you can cache the notion of which object and which index in that object a word will be found at.  Although...</p>
<p>...<strong>On the minus side: requires lots of copies (adversely affects performance, and it's not clear when to make them).</strong> If you assume every value has a binding it can mutably disrupt, this complicates situations where a piece of code needs to be viewed in more than one way.  Just one example is the idea that every method in an object would need to be copied deeply so that its code could be rebound to that object's instance variables.</p>
<p><strong>Also on the minus side: no reaction to changes.</strong>  For instance, you might bind some code into a place like the LIB context...but later add a new declaration to LIB.  The addition will not be seen.</p>
<h2>Ren-C Began To "Virtualize" Binding</h2>
<p>A big focus in Ren-C has been experimenting with binding forms that don't a-priori walk deeply at the outset, but that trickle down and spread as you descend into array structures...each step propagating something called a "specifier".</p>
<p>One of the first instances was when you run a function body, a specifier would be added that would be the FRAME! of that function's variables.  It starts propagating by slipping a pointer into an extracted block cell for the body when it gets a DO at the top level.  That pointer travels along through nested blocks, so those become aware of the function instance it relates to...one extraction at a time.  Similar techniques allow object instance methods to be differentiated while running the same code used in other objects...the function bodies are the same arrays, but the specifier facilitates finding the object instance.</p>
<p>There are various incarnations of this technique of having binding be a "view" on an array of values, without having to actually touch the bits in arrays.  But the general name for these techniques I've adopted is <strong>virtual binding</strong>.</p>
<h2>String Interpolation Tries <em>Fully Virtualized Binding</em>
</h2>
<p>At first specifiers were just for functions and methods.  But the concept of making specifiers accrue a more complete map of a persistent binding environment is very tempting, allowing things like <a href="../could-strings-have-context/587/10.html">binding lookup in strings</a>.</p>
<p>The idea behind the prototype that lets you look up a map from WORD! =&gt; value on strings is that specifiers compound together in chains.  A new link is added each time something new to consider is added.</p>
<p>So let's look at that model of operation for something like:</p>
<pre><code> global: 10
 x: &lt;not an integer&gt;

 foo: func [x] [
     let local: 20
     return interpolate {The sum is $(x + local)}
 ]

 foo 30
</code></pre>
<p>The virtual bind chain starts out with a module context that has <code>global</code>, <code>x</code>, and <code>foo</code> in it.  This is all there is to stick on the BLOCK!s that gets passed to FUNC.  So the spec and body are blocks with a module as the specifier.</p>
<p>FUNC stows the body block away in an ACTION! that it generates.  Later when it gets invoked, it creates a FRAME! with <code>return</code> and <code>x</code> in it...and puts that in a chain <em>with</em> the module context.  So upon entry to the function body, that body is being executed with a specifier that looks in the frame first (would find that x) and then in the module second (would find <code>global</code> and <code>foo</code>).  This compound specifier is what the evaluator state initially has for that body block.</p>
<p>The module inherits from the LIB context, so things like LET and INTERPOLATE will be found by means of that inheritance.  So then LET runs...using a special ability to add another link in the chain to the specifier that the evaluator is using, for the word <code>local</code>.</p>
<p>Finally we get to the RETURN (it's in the frame) and INTERPOLATE (falling through to the module) and the whole specifier chain is stuck onto the string.  Because the specifier has snowballed all the information <em>the string could look up anything</em> (except the X in the module that's hidden).</p>
<p><strong>In simple cases like this, it's essentially just like scope.</strong>   There are no situations that introduce contention.  The flow of context is from the top to the bottom, and there's no parts being unplugged from one place and into another.</p>
<h2>But What If You Did Unplug and Replug Things?</h2>
<p>Let's just look at a <em>super simple</em> example of throwing a COMPOSE into the mix.  So instead of calling INTERPOLATE directly, you made a call to another function, WRAPPER:</p>
<pre><code> global: 10
 x: &lt;not an integer&gt;

 wrapper: func [string] [
     return do compose [interpolate (string)]
 ]

 foo: func [x] [
     let local: 20
     return wrapper {The sum is $(x + local)}
 ]

 foo 30
</code></pre>
<p>When wrapper runs, the same basic logic applies to how "scopes" are gathered...and applied to the body of the function when it executes.  But that COMPOSE is splicing in a string that already has a binding on it.  How does the specifier flowing downward (which has the module's X) interact with the specifier already on that string (which has FOO's X overriding the module's X)?</p>
<p><strong>A simple thought is a default of leaving bindings alone if they already have one.</strong> This seems obviously better than blindly overwriting, because it gives you a simple choice if you want overwriting to happen... you could just unbind the string:</p>
<pre><code> wrapper: func [string] [
     return do compose [interpolate (unbind string)]
 ]
</code></pre>
<p>But all-or-nothing doesn't cover a lot of scenarios.  If you're dynamically creating a function with some block material you got "from somewhere else", that material may have been written with the express knowledge that certain words were supposed to be overridden by the place it's being substituted, with others left alone.</p>
<p>Also, what if you had a rule like <em>"I want all the GROUP!s in this code to be bound to FOO but only inside the GROUP!s"</em>?</p>
<h2>Could Binding Be Functional?</h2>
<p>If you want a programmable sense of binding that doesn't resort to deep walking the structure and mutating it directly... you could allow the binding "specifier" to be (at least conceptually) a function.  That function could be passed the existing binding as an argument, and make a decision based on that of how to resolve it.</p>
<p>This would result in a kind of "programmable specifier", that only injects its influence <em>if and when</em> a descent into a block with the desire to execute it occurs.</p>
<p>Whether you could <em>actually</em> provide a function, or just speak in a "mini dialect" of merge and override instructions that behaved as a function, I don't know.  A real usermode function doing the bind merge logic sounds expensive (but would it be worse than deep walking and selectively binding a tree of code?  Who knows.)</p>
<h2>Pure Virtual Binding Has No Obvious Way To Cache</h2>
<p>One advantage to storing the "scope chain" is that if contexts in that chain have things added or removed, the evaluation can pick up the change...</p>
<p>...but a <em>disadvantage</em> is that it's hard to see any way to efficiently remember where to look up bindings.  Where you found a word on the last lookup might not be the same place that you would on the next lookup, if any objects/modules in the chain have changed.  Thinking of binding as some sort of black box function makes this even more intractable than it already is.</p>
<p><strong>But I really feel the deep walking with putting bindings on things is a dead end.</strong>  That just makes it feel like the focus needs to be on figuring out this means of dialecting the resolution of scopes at the merge points.  There needs to be a richer language than just "unbind" and "no-op" for what you do at these points...but I don't think walking the blocks and pasting bindings on particular items is viable.</p>
<h2>I Think "Scopes" Have To Come Into Play</h2>
<p>Rebol's word soup for binding has always been <a href="https://en.wikipedia.org/wiki/DWIM">DWIM technology</a>.  ("do what I mean")  So there's no schematic for how to do this.  It's fundamentally based on wishful thinking.</p>
<p>The concept of having a fully granular ability to go down to the WORD!-level in a structure of code and declare what <em>that one word</em> points to may seem like it puts all the power in your hands.  But that power has proven difficult or impossible to wield in non-trivial situations... runs afoul of blocks that are imaged multiple places in the source... and winds up leaving code stale and oblivious to when new declarations arise at moments they don't expect.</p>
<p><strong>What puts me over the top in thinking we need "scopes" is bindings in strings.</strong>  Features based on string interpolation are so undeniably useful that once the possibilities are seen, they can't be unseen.</p>
<p>But also, what about debuggers that might want to show you lists of what variables are "in scope" at a certain point of execution?  There are a lot of reasons to have a running tally of which contexts and declarations are visible.</p>
<p><strong>Yet it's important to realize this is kind of just kicking the can down the road a bit: There's no rigorous way to give meaning to word soup being arranged haphazardly.</strong>  What has been able to succeed in Rebol so far (to the extent you can call existing binding "success") is really just the by-product of fairly unambitious code.  "It looks like it works because nothing difficult is being tried."</p>
<p>Eliminating mutable binding and asking lookup to be accomplished by some nebulous "scope merging" language doesn't have an obvious magic to it.  Beyond that, I don't know how to cache it.  <strong>So this is a radical idea that may just lead to frustration and the slow death of the project.</strong>  <img src="../../images/emoji/twitter/skull_and_crossbones.png%3Fv=9" title=":skull_and_crossbones:" class="emoji" alt=":skull_and_crossbones:"></p>
<p>But I have said that before about other things that worked out okay.  <img src="../../images/emoji/twitter/man_shrugging.png%3Fv=9" title=":man_shrugging:" class="emoji" alt=":man_shrugging:"></p>
<p>We'll see.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../danny-drebol-inetw3-daniel-murrill/1502/4.html">Danny, dRebol, Inetw3 (Daniel Murrill)</a>
                        <meta itemprop='position' content='3'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../backtrack-pdf/1861/2.html">Backtrack: PDF</a>
                        <meta itemprop='position' content='4'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../rebol-1-manual/1788/2.html">REBOL 1 Manual</a>
                        <meta itemprop='position' content='5'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../could-ren-c-and-red-interoperate-and-if-so-should-they/1787/2.html">Could Ren-C and Red Interoperate (and if so, *should* they?)</a>
                        <meta itemprop='position' content='6'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../belated-2021-post-mortem-new-years-2022-vision/1786.html">Belated 2021 Post-Mortem + New Years 2022 Vision 🤹</a>
                        <meta itemprop='position' content='7'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../cggong/1776/4.html">Cggong</a>
                        <meta itemprop='position' content='8'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../question-about-binding-in-parse/461/5.html">Question about binding in parse</a>
                        <meta itemprop='position' content='9'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../custom-function-generator-pitfalls/2093/13.html">Custom Function Generator Pitfalls</a>
                        <meta itemprop='position' content='10'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../generic-quoting-makes-headway-on-make-object/997/4.html">Generic Quoting Makes Headway on MAKE OBJECT!</a>
                        <meta itemprop='position' content='11'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../different-environment-lookup-for-word-vs-set-word/2115.html">Different Environment Lookup for WORD! vs. SET-WORD!</a>
                        <meta itemprop='position' content='12'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../usefulness-of-string-interpolation/2114.html">Usefulness of String Interpolation</a>
                        <meta itemprop='position' content='13'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-dialects-need-from-binding/2111/2.html">What Dialects Need From Binding</a>
                        <meta itemprop='position' content='14'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../custom-function-generator-pitfalls/2093/11.html">Custom Function Generator Pitfalls</a>
                        <meta itemprop='position' content='15'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../r-a-very-rebol-like-language/2087/9.html">R: a very Rebol-like language</a>
                        <meta itemprop='position' content='16'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-if-blocks-had-scopes-but-not-individual-words/2085/2.html">What if Blocks Had Scopes (But Not Individual Words)?</a>
                        <meta itemprop='position' content='17'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../joe-marshall-on-rebol-binding/2074/3.html">Joe Marshall on Rebol Binding</a>
                        <meta itemprop='position' content='18'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../reds-take-on-string-interpolation/2121/2.html">Red&#39;s Take on String Interpolation</a>
                        <meta itemprop='position' content='19'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../big-alien-proposal-refinements-run-functions/1905/9.html">Big Alien Proposal :flying_saucer: &quot;/REFINEMENTS&quot; Run Functions</a>
                        <meta itemprop='position' content='20'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../boron-language/1976/2.html">Boron Language</a>
                        <meta itemprop='position' content='21'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-27T12:38:44Z' class='post-time'>
                    October 27, 2021, 12:38pm
                  </time>
                  <meta itemprop='dateModified' content='2021-10-27T12:38:44Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I'll count on your ability to find something better, if you run into a dead-end.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/Brett.html'><span itemprop='name'>Brett</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-28T01:50:10Z' class='post-time'>
                    October 28, 2021,  1:50am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-28T01:50:10Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Kudos for such an effective and thought provoking piece on binding.</p>
<p>It's an interesting journey - the how, the when and the why of binding behaviour, leading to the question of whether this can be implemented like a programmable function, of "scopes" and the representation of what is, or what happened.</p>
<p>Going down to the word level in a structure and pasting binding on things has allowed us to do some interesting things with binding in user code, without access to the evaluator. Still chasing the "relative expression" idea - I have useful evaluation techniques that have relied on that ability to rebinding the words of a series into different contexts as desired (nothing earth shattering, just useful). It has been frustrating too, for all the problems you have pointed out. It has limits in flexibility, sometimes I've just wanted to idly experiment ideas like having a word bound to two contexts at once (part of multiple active sets, not hierarchical) with some policy to decide the lookup between them depending on situation or what they sit next to - just to see where it leads. Realisation hits that it's hard and there's still all the existing binding problems, so it doesn't get tried. I'd wondered if one day, that lookup process could be user code accessible.</p>
<p>The paste binding on code idea, despite it's problems, has always been for me something special about Rebol. It has been nice to drag in structured data, rewrite it into expressions, maybe paint on some bindings, be able to evaluate it and spit out some commands into another system or whatever - solve an ad-hoc problem without having to conform to the rigors of some general language or limited shell. Admittedly though ad-hoc is never really ad-hoc, one usually wants to be able to reuse code/expressions sometime later, but only do the minimum required now.</p>
<p>You point out that each binding behaviour, i'll call it a policy here, has it's pro and cons.  The obvious open and wishful thinking question is "Can we choose a binding policy when we want to?", like for dialects or foreign syntaxes, where we know we're dealing with a less-than-general language situation.</p>
<p><a href="https://en.wikipedia.org/wiki/Po_(lateral_thinking)">Po:</a> Could dialects be a bit more first class by specifying an evaluator and/or binding policy (are those even separable?) by series?</p>
<p>I don't expect answers to these questions. I can see it's hard enough to pin down the questions you're already wrestling with for the main language. I was inspired to comment on your piece as perhaps any of us that have attempted to write a non-trivial user code dialect would.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-11-05T19:50:32Z' class='post-time'>
                    November 5, 2021,  7:50pm
                  </time>
                  <meta itemprop='dateModified' content='2021-11-05T19:50:32Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>I have useful evaluation techniques that have relied on that ability to rebinding the words of a series into different contexts as desired (nothing earth shattering, just useful).</p>
</blockquote>
</aside>
<p>With what I'm thinking of, going down to the word level and binding individual words (or strings) should still be possible in a pinch...even in a model that is based fully on compounding scopes.</p>
<p>But rather than BIND itself doing some kind of deep walk, you'd have to do something like:</p>
<pre><code>obj: make object! [b: 10]
block: [a [b] c]
change (second block) bind (pick block 1) obj
</code></pre>
<p>And if you didn't have mutable access to the block, you'd have to copy it..deeply in this case.</p>
<aside class="quote no-group" data-username="Brett" data-post="3" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/brett/40/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>The obvious open and wishful thinking question is "Can we choose a binding policy when we want to?", like for dialects or foreign syntaxes, where we know we're dealing with a less-than-general language situation.</p>
</blockquote>
</aside>
<p>The best we can hope for is a "you get what you pay for" attitude.  The more obscure your situation, the more likely it is you'll have to go to the level of copying everything and binding manually...and the less likely it will compose in any meaningful way with previously unknown dialects or functions or combinators.</p>
<p>Kind of reminds me of the saying "every model is broken, but some are useful".</p>
<p>But demanding binding on strings really is a tough new constraint in the game.  It pushing a little away from "glue bindings on destructively and bear the consequences of ordering problems" and a little more "be like synthesized/inherited attribute grammar rules".  I just feel like having looked at how good other languages are at expressing things that a text-based language without features in the spirit of string interpolation will be non-competitive.</p>
<p>Tough, tough!  But bring forward your binding examples to have in the set of "things we aim to support" and will see what can be done.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-13T01:12:11Z' class='post-time'>
                    January 13, 2024,  1:12am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-13T01:12:11Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A post was split to a new topic: <a href="../different-environment-lookup-for-word-vs-set-word/2115.html">Different Environment Lookup for WORD! vs. SET-WORD!</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/bradrn.html'><span itemprop='name'>bradrn</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-30T15:09:04Z' class='post-time'>
                    December 30, 2023,  3:09pm
                  </time>
                  <meta itemprop='dateModified' content='2024-01-12T07:49:16Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>But that COMPOSE is splicing in a string that already has a binding on it. How does the specifier flowing downward (which has the module's X) interact with the specifier already on that string (which has FOO's X overriding the module's X)?</p>
</blockquote>
</aside>
<p>I’m not sure I’ve fully understood this post… so let me ask a question to double-check my understanding: Is it correct to say that the problem with <code>compose [interpolate (string)]</code> is that <code>(string)</code> would have a <em>different</em> scope to <code>[interpolate …]</code>? With ‘definitional scoping’ that wouldn’t be an issue, since each word! can have a completely different binding, no problem. But with scopes it doesn’t work so well, since each block! can have only one scope.</p>
<p>If I’ve understood correctly, perhaps this might be a more immediate demonstration of the problem:</p>
<pre><code class="lang-auto"> wrapper: func [string] [
     return do compose [interpolate (string)]
 ]

 foo: func [interpolate] [
     return wrapper {Inner value: $(interpolate)}
 ]

 foo 30
</code></pre>
<p>In this case, <code>compose [interpolate (string)]</code> reduces to <code>[interpolate {Inner value: $(interpolate)}]</code>, where the two <code>interpolate</code>s are completely unrelated!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../usefulness-of-string-interpolation/2114.html">Usefulness of String Interpolation</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-12T08:53:54Z' class='post-time'>
                    January 12, 2024,  8:53am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-13T01:52:31Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="7" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>I’m not sure I’ve fully understood this post…</p>
</blockquote>
</aside>
<p>Hopefully it makes sense now in retrospect.</p>
<p>Your example of making INTERPOLATE an argument does show another form of "contention".  But in that contention, people would be biased to thinking that the preservation of the original binding is the obvious answer.</p>
<p>My point was that based on the contract between the caller and callee it could be either intent:</p>
<ul>
<li>
<p>Maybe <strong>wrapper</strong> is supposed to supply the meaning for X... e.g. X is something you take for granted that it will know what that is, not mix it up with some local you incidentally called X</p>
</li>
<li>
<p>Maybe <strong>wrapper</strong> is not supposed to disrupt X</p>
</li>
</ul>
<p>Anyhow, I think the proposals have evolved to where the answers are clear enough to make a prototype to explore further.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>A big focus in Ren-C has been experimenting with binding forms that don't a-priori walk deeply at the outset, but that trickle down and spread as you descend into array structures...each step propagating something called a "specifier".</p>
</blockquote>
</aside>
<p>I believe I managed to pinpoint where "fully virtualized binding" went wrong, while writing thoughts on the thread <a href="../what-dialects-need-from-binding/2111/2.html">"What Dialects Need From Binding"</a>.</p>
<ul>
<li>
<p><strong>It started the same way as what we are now discussing...with everything being unbound, and binding spreading down from the "tip"</strong></p>
</li>
<li>
<p><strong>But specifiers were trying to automatically propagate binding information in primitive operations (such as PICK and FOR-EACH), by making that propagation part of the underlying mechanics of manipulating array structure.</strong></p>
</li>
<li>
<p><strong>This was so that the "world is unbound" model could keep supporting a coding style of dialects that wanted to make assumptions about bindings being available and "magically working" when using structural operations, despite the lack of deep pre-pass walk to add those bindings:</strong></p>
<pre><code>double-assigner: func [block] [
    for-each [sw i] block [
        assert [(set-word? sw) (integer? i)]
        set sw 2 * i  ; historically assumes X: and Y: are bound
    ]
]

double-assigner [x: 10 y: 20]
</code></pre>
</li>
<li>
<p><strong>That's a broken idea!  Unbound material (which merely acts bound under evaluation) must be structurally extracted as unbound.  "Automatic" specifier propagation should have been limited to the evaluator, and the stepwise propagation that is needed by dialects must be the responsibility of the dialect author (or the abstractions they use)...and tuned where applicable</strong></p>
<pre><code>double-assigner: func [block] [
    for-each [sw i] block [
        assert [(set-word? sw) (integer? i)]  ; both SW and I are *unbound*
        set (in block sw) 2 * i  ; &lt;-- the IN BLOCK makes all the difference
   ]
]

double-assigner [x: 10 y: 20]
</code></pre>
</li>
</ul>
<h2>
<a name="the-good-news-is-the-core-mechanics-are-fine-1" class="anchor" href="1751.html#the-good-news-is-the-core-mechanics-are-fine-1"></a>The Good News Is: The Core Mechanics Are Fine</h2>
<p>All the cell structures--with specifiers in blocks, and linked chains and everything--were basically done right (or "well enough for now").</p>
<p>There's a little twist that we want special instructions in the specifier chain related to "overbinding" to be swapped out with instructions related to "hole punching".  This will affect some things here and there.</p>
<p>But this doesn't actually need to be changed on day one.  Overbinding works with the code we have today.  Switching to hole punching can be a separate step.</p>
<p>What will be different is just that you won't get the influences of overbinding from things like FOR-EACH or PICK of a structure carrying it, unless you merge it to what you extract explicitly using IN.</p>
<h2>
<a name="the-bad-news-is-nearly-every-dialect-needs-rewriting-2" class="anchor" href="1751.html#the-bad-news-is-nearly-every-dialect-needs-rewriting-2"></a>The Bad News Is: Nearly Every Dialect Needs Rewriting</h2>
<p>Where before people could FOR-EACH or PICK and get bound things back, they'll now be getting unbound things back nearly all of the time.</p>
<p>Dialect authors will have to get used to a programming style of running an IN operation each time they extract structure that they expect to look things up in later.  (Hence choosing such a short name.)</p>
<p>So if you pick a block out of a block, you (usually) won't be able to do lookups inside that block unless you do a binding operation (possibly IN the block you just extracted from... or maybe somewhere else).  And this process continues recursively down structure as you go.</p>
<pre><code> nested-double-assigner: func [block] [
     for-each group block [
         group: in block group
         sw: in group group.1
         set sw 2 * group.2
     ]
 ]
 
 nested-double-assigner [(x: 10) (y: 20)]
</code></pre>
<p>You might ask why if FOR-EACH is just going to look everything up IN the block, why not do that automatically?  But (a) there's a cost to running IN, and (b) it's not going to always be what you want.<br>
Obvious example: if you were implementing your own version of the evaluator, you'd need QUOTED! items as-is, so you didn't conflate an unbound item in the block with something bound into it's environment.</p>
<h2>
<a name="some-people-red_square-will-say-that-cant-be-the-answer-3" class="anchor" href="1751.html#some-people-red_square-will-say-that-cant-be-the-answer-3"></a>Some People <img src="../../images/emoji/twitter/red_square.png%3Fv=12" title=":red_square:" class="emoji" alt=":red_square:" loading="lazy" width="20" height="20"> Will Say <em>"That can't be the answer!"</em>
</h2>
<p>But... I actually think it might be.</p>
<p>This is what the system has been doing internally.  But it simply can't promise that it's doing the binding wiring correctly.  Structural operations extracting unbound values have to give back unbound values, and trying to do otherwise will inevitably do the wrong thing.</p>
<p>Hopefully this can lead to areas of innovation in ways of making this simpler, when it can be.  I've mused a bit about parameterizing the evaluator so it's easier to use parts of it a la carte.  It may be that getting what you want out of a dialect using a set of "evaluators" (instead of tailoring parse with a particular set of "combinators") could save you the trouble of doing the binding propagation that comes from manual descent into structure.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="4" />
              <span class='post-likes'>4 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-dialects-need-from-binding/2111/6.html">What Dialects Need From Binding</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-12T23:09:56Z' class='post-time'>
                    January 12, 2024, 11:09pm
                  </time>
                  <meta itemprop='dateModified' content='2024-01-12T23:09:56Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>2 posts were merged into an existing topic: <a href="../what-dialects-need-from-binding/2111/6.html">What Dialects Need From Binding</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-25T01:36:55Z' class='post-time'>
                    January 25, 2024,  1:36am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-25T07:27:36Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="9" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I think the proposals have evolved to where the answers are clear enough to make a prototype to explore further.</p>
</blockquote>
</aside>
<p>Here we are a mere two weeks later, and I have managed to put together <strong>"Pure Virtual Binding II"</strong>.  It actually didn't take but a couple of days to get it booting.  But this time, I've pushed through getting it to run a non-trivial set of things:</p>
<ul>
<li>UPARSE (now with a LET combinator!)</li>
<li>the Whitespace Interpreter (including the Redbol emulated old version)</li>
<li>the ODBC dialect</li>
<li>
<a class="mention" href="https://forum.rebol.info/u/rgchris">@rgchris</a>'s HTTPD Server</li>
<li>
<a class="mention" href="https://forum.rebol.info/u/blackattr">@BlackATTR</a>'s Query dialect</li>
<li>bootstrap via Rebmake</li>
</ul>
<p>Changes were needed to the usermode code.  But most of the time taken was more about figuring out what to change.  The total number of edits needed were actually smaller than I would have thought.</p>
<h2>
<a name="whats-different-this-time-1" class="anchor" href="1751.html#whats-different-this-time-1"></a>What's Different This Time</h2>
<ul>
<li>
<p><strong>No attempt to propagate binding through structural operations.</strong></p>
<p>Now you can say <strong>do [print "Hello"]</strong> and have it work fine, yet if you say <strong>get first [print "Hello"]</strong> it will say that the PRINT is unbound.  Propagating the binding from the block to its elements is done implicitly by the evaluator, but everywhere else you need to do explicit lookup.</p>
<p>It was very useful here to have <a href="../block-creation-vs-evaluation/2098.html">@bradrn's fresh perspective, to advocate for this behavior</a>. My bias to running existing code hadn't quite absorbed that working with unbound material isn't that bad, if environments to do lookup in are at hand.  So I had tried to bake the binding propagation into structural operations like PICK and FOR-EACH.</p>
</li>
<li>
<p><strong>QUOTED! values lose a quote level under evaluation, but their binding is not affected.</strong></p>
<p>This is something that <a href="../breaking-make-object-into-component-operations/1442/3.html">I'd suspected would be needed</a>, but again <a class="mention" href="../../u/bradrn.html">@bradrn</a>'s no-baggage perspective helped push the behavior...regardless of what it broke!</p>
<p>While I conceived this more for shielding a value's binding state, it can also be used to easily generate unbound material.  Unbound material is more useful than it has been in the past, as you can compose it into places that provide the needed context and it will run as if it were written there to start with.  As best practices emerge, we may see people making data-oriented lists as <strong><code> '[apple banana pear]</code></strong> to avoid generating spurious bindings.</p>
<p>But because unbound code doesn't have a lot of historical usage, the main consequence of this change was to break code where you try to pass a function a variable as <strong><code>'var</code></strong>.  That function won't be able to GET or SET the unbound word.  The simplest workaround for this at the moment is to pass <strong><code>(in [] 'var)</code></strong> which uses a dummy block to capture the evaluator's current concept of environment.</p>
<p><em>(Note you can't do this as <strong><code>first [var]</code></strong>, because as mentioned, even though the block is bound the things you pick out of it structurally are not.)</em></p>
</li>
<li>
<p><strong>Strings don't carry binding (but you can--for instance--wrap them in a block).</strong></p>
<p>I wound up being kind of uncomfortable with strings carrying a hidden capture of the entire environment they came from.  It might not seem like such a big deal--given that we're saying any random block can do that--and blocks are everywhere.  But I'm much more relaxed about this change by limiting the environment capture to arrays.</p>
<p>One benefit is you can use the case of a string not being wrapped in a block as an optimization... to say "this string doesn't have any escapes in it".  (I actually did this with the CSCAPE interpolation: if you pass the emitter a raw string, it just outputs it as-is and doesn't parse it.)</p>
</li>
</ul>
<h2>
<a name="overall-impression-its-the-way-forward-2" class="anchor" href="1751.html#overall-impression-its-the-way-forward-2"></a>Overall Impression: It's The Way Forward</h2>
<p>I've said before that this is important, because it offers means for things people have always wanted to do.  Like looking up variables to do string interpolation.  Or more generally: <em>"treat this unbound code as if it had been written here"</em>.</p>
<p>But a crucial aspect is that <strong>this has much more of a feeling of things being under control</strong>.</p>
<p>There is a sanity and a logic to diagnosing binding problems.  You have the compounded binding environment in your hands, in the moment.  Previously you could only sift through the scattershot results of however many binding waves that happened before.</p>
<p>It does require a new way of thinking about what you're doing, but <em>at least you can think</em>.</p>
<h2>
<a name="performance-is-an-issue-3" class="anchor" href="1751.html#performance-is-an-issue-3"></a>Performance Is An Issue</h2>
<p>Historical binding did have one thing going for it: gluing the binding onto things meant you knew where to look up words without having to search through a linked list of objects every time.</p>
<p>But we're talking about bound values only coming into existence under evaluation.  This means that the entire body of a function is effectively unbound at the start of each run.</p>
<p>I haven't done any optimization yet, and empirically it seems to be about 25% slower.  That's actually not bad considering that I haven't put any attention on performance...but I do feel like there's going to be limits to how good it can be.</p>
<p>UPDATE: Adding the optimization of caching in function bodies <a href="../semantics-and-optimization-of-copying-function-bodies/2119/2.html">whether a word is in that function or not</a> brings it more to approximately 10%.  Lots more to look at, but that's encouraging.</p>
<h2>
<a name="working-through-a-few-things-before-committing-this-4" class="anchor" href="1751.html#working-through-a-few-things-before-committing-this-4"></a>Working Through A Few Things Before Committing This</h2>
<p>I'm aiming to commit this to GitHub soon-ish.  But I have a few more things to look at:</p>
<ul>
<li>
<p>The tests.  I got the test runner to work, and it ran to the end without crashing.  But there were still 300 failures, after I'd just gotten that number down to like a dozen after facing a similar number of issues in the year-of-isotopes.  I felt like looking at real code first...and I'll probably be pushing this out before all the minutiae of thought experiments get rethought.</p>
</li>
<li>
<p>Get some more clarity on <a href="../caching-binding-lookup-and-attachment-binding/2128/5.html">attachment binding</a>.  It's a sketchy concept, but is required for the system to run at the moment.  It's bothersome because it creates a "neither bound nor unbound" state that complicates code that wants a more definitive answer on whether words are bound or unbound--that doesn't change out from ounder them.</p>
</li>
<li>
<p>Cleanup old unnecessary code, e.g. the code for propagating bindings through structural operations (which is still there, just deactivated).</p>
</li>
<li>
<p>Do at least a little bit of looking into what can be done about performance.</p>
</li>
</ul>
<p>But overall, it feels about as right as I think it's going to feel.  So that's a win!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../optimizing-environment-lookup/2134.html">Optimizing Environment Lookup</a>
                        <meta itemprop='position' content='5'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../uparse-case-study-escaping-in-strings/1573/2.html">UPARSE Case Study: Escaping In Strings</a>
                        <meta itemprop='position' content='6'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../destructure-dialect/1877/3.html">DESTRUCTURE Dialect</a>
                        <meta itemprop='position' content='7'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../rethinking-auto-gathered-set-word-locals/1150/8.html">Rethinking Auto-Gathered SET-WORD! Locals</a>
                        <meta itemprop='position' content='8'>
                      </div>
                </div>
          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/bradrn.html'><span itemprop='name'>bradrn</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-25T01:41:56Z' class='post-time'>
                    January 25, 2024,  1:41am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-25T01:41:56Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Deeply impressive work! It’s amazing that you’ve managed to get so much working so quickly.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="11" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Performance Is An Issue</p>
</blockquote>
</aside>
<p>I’m a little surprised to see this, though in retrospect it makes sense. I wonder how other interpreted languages deal with this problem? After all, most languages use scopes in one way or another. It may be worth looking at how R implements it, since variable lookup there also requires searching through environment lists.</p>
<p>Though I do spy one low-hanging fruit…</p>
<aside class="quote no-group" data-username="hostilefork" data-post="11" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>a linked list of objects</p>
</blockquote>
</aside>
<p>Might it not be quicker to use a hashmap or similar data structure?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../optimizing-environment-lookup/2134.html">Optimizing Environment Lookup</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_13' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-25T07:44:36Z' class='post-time'>
                    January 25, 2024,  7:44am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-25T07:44:36Z'>
              <span itemprop='position'>13</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="12" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Deeply impressive work! It’s amazing that you’ve managed to get so much working so quickly.</p>
</blockquote>
</aside>
<p>Thanks!  Ren-C is a mess in lots of ways...but it's held together by some fairly robust defensive coding strategies, and bends pretty well to new ideas.</p>
<p>I had actually forgotten how much of the first attempt had been committed in bits and pieces as groundwork.  Thought I was going to have to go back to the old branch to merge bits in, but everything uncontroversial was already merged in some form.</p>
<aside class="quote no-group" data-username="bradrn" data-post="12" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>I wonder how other interpreted languages deal with this problem? After all, most languages use scopes in one way or another. It may be worth looking at how R implements it</p>
</blockquote>
</aside>
<p>Seems reasonable to see if there's any insights.  In the past I've briefly looked at stuff like <a href="https://v8.dev/blog/fast-properties">Hidden Classes in V8</a>, and there's a lot to consider if you are looking for speed at the cost of other things.</p>
<p>Though one goal is to try and keep the implementation as simple as possible.  It's painful to write something like this in pure C and not have things like the C++ standard library... but it makes you think about alternative ways of solving problems.</p>
<aside class="quote no-group" data-username="bradrn" data-post="12" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Might it not be quicker to use a hashmap or similar data structure?</p>
</blockquote>
</aside>
<p>Moved discussion to <a href="../optimizing-environment-lookup/2134.html">Optimizing Environment Lookup</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_14' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-02-01T04:34:12Z' class='post-time'>
                    February 1, 2024,  4:34am
                  </time>
                  <meta itemprop='dateModified' content='2024-02-01T04:34:12Z'>
              <span itemprop='position'>14</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="11" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I'm aiming to commit this to GitHub soon-ish.</p>
</blockquote>
</aside>
<p>All right... in the last moments before February 1st, I've committed it.  So now we're running in a much more unbound world than before!</p>
<ul>
<li>
<p>The <a href="../repurposing-the-xxx-xxx-for-undecorated-values/2135.html">change so that @XXX produces bound material</a> is a big help, and it makes the places that need changes a lot less ugly.</p>
</li>
<li>
<p>For now, the calls to <strong>IN</strong> are <strong>INSIDE</strong>.  This makes it easier to find, and also I think having it be an abbreviation is a good idea so that code that isn't binding-focused can use IN as a variable name if it feels like, and then for the occasional binding call use INSIDE or LIB.IN.</p>
</li>
<li>
<p>I tinkered some things to get performance parity with the pre-pure-virtual executable, though they would have made that executable even faster.  Just trying to keep the overall experience from getting intractably slow.</p>
</li>
<li>
<p>Some quoting functions depend on getting binding information from the callsite applied to their arguments.  Prominently, the @ operator in <strong><code>@ XXX</code></strong> does this, but also things like <strong>foo and (baz bar)</strong> which short circuits the evaluation of baz bar by quoting the group... and I've mentioned I don't want that to be done as <strong>foo and [baz bar]</strong>.  How these exceptions work <a href="../functions-that-capture-the-current-evaluation-environment/2122.html">need to be considered carefully</a>.</p>
</li>
</ul>
<p>There's tons of open questions, but I just feel the old way was such a dead end that the sooner we move away from it the better.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_15' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/bradrn.html'><span itemprop='name'>bradrn</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-02-01T05:37:59Z' class='post-time'>
                    February 1, 2024,  5:37am
                  </time>
                  <meta itemprop='dateModified' content='2024-02-01T05:37:59Z'>
              <span itemprop='position'>15</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Great to hear!</p>
<p>If I may ask: what did you end up doing with splices? Do they harden their bindings when spliced, or do they do something else?</p>
<aside class="quote no-group" data-username="hostilefork" data-post="14" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I tinkered some things to get performance parity with the pre-pure-virtual executable, though they would have made that executable even faster. Just trying to keep the overall experience from getting intractably slow.</p>
</blockquote>
</aside>
<p>I’m surprised to hear that this modification makes Ren-C slower in general. If anything, I’d have expected an increase in speed, since there’s no need to merge environments any more.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_16' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-02-01T05:46:26Z' class='post-time'>
                    February 1, 2024,  5:46am
                  </time>
                  <meta itemprop='dateModified' content='2024-02-01T05:46:26Z'>
              <span itemprop='position'>16</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="15" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>what did you end up doing with splices?</p>
</blockquote>
</aside>
<p>Splices pretty much have to be agnostic.  The question of "hardening" bindings raises the question of whose idea of hardening to use (e.g. the evaluator's, should quoted material get bound?)</p>
<aside class="quote no-group" data-username="bradrn" data-post="15" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="../../user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>I’d have expected an increase in speed, since there’s no need to merge environments any more.</p>
</blockquote>
</aside>
<p>There were no environments in the model being compared with, and no merging.</p>
<p>During the transcode of the input source string into structure, every word was "attachment" bound to the module it was being scanned on behalf of.</p>
<p>Then whatever waves of binding based on walking that structure would overwrite those bindings.  e.g. copying a function body would relativize any words in it to the function's argument indicies and an archetypal pointer to that function.</p>
<p>Ren-C had a limited amount of "searching a chain" for LETs and FOR-EACH variables etc., similar to what is done today.</p>
<p>Now--as I've said--every time a function's body is visited, it's essentially unbound material.  So things that want to be bound to LIB, like say APPEND, have to go through the "environment" in the specifier and find out if they are in the function frame... or in a LET... walking down to the module and then falling through to lib at the end of the chain.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_17' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='../../u/bradrn.html'><span itemprop='name'>bradrn</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1751.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-02-01T06:03:06Z' class='post-time'>
                    February 1, 2024,  6:03am
                  </time>
                  <meta itemprop='dateModified' content='2024-02-01T06:03:06Z'>
              <span itemprop='position'>17</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="16" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Splices pretty much have to be agnostic. The question of "hardening" bindings raises the question of whose idea of hardening to use (e.g. the evaluator's, should quoted material get bound?)</p>
</blockquote>
</aside>
<p>This is fair, though slightly disappointing. I guess one can always do <code>spread harden-bindings […]</code> if that behaviour is really desirable.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="16" data-topic="1751">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>There were no environments in the model being compared with, and no merging.</p>
</blockquote>
</aside>
<p>Ah, I’d got the impression the change was from non-pure virtual binding to pure virtual binding, rather than from binding-to-words to pure virtual binding. (If that makes sense.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
