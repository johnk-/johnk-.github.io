<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What Should BLANK! in UPARSE Do? - #3 by hostilefork - Parsing - AltRebol</title>
    <meta name="description" content="It&amp;#39;s always good to look at history first.  So let&amp;#39;s compare and contrast #[none] vs. empty block in old Redbols. 
In Rebol2 and R3-Alpha, both are no-ops.  The input type doesn&amp;#39;t matter. 
r2/r3&amp;gt;&amp;gt; parse {ab} [[] &amp;quot;a&amp;quot; [] &amp;quot;&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1821.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" data-theme-id="2"/>
      <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_7b2b5b1bc734c2cc3b6ad5e0f49f467e8601ef2c.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2"/>
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;What Should BLANK! in UPARSE Do?&#39;" href="../1821.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/what-should-blank-in-uparse-do/1821/3" />
<meta name="twitter:url" content="https://forum.rebol.info/t/what-should-blank-in-uparse-do/1821/3" />
<meta property="og:title" content="What Should BLANK! in UPARSE Do?" />
<meta name="twitter:title" content="What Should BLANK! in UPARSE Do?" />
<meta property="og:description" content="I&#39;m...pretty sure (?) this is still the best plan.  So there&#39;s a new philosophy I&#39;ve outlined for why BLANK! exists at all, and its purposes as being a kind of generic &quot;nothing to see, here&quot; is distinct from what might be thought of more as a disruptor like null or an unset variable.  It is not related at all to soft failure.  Blank is simply a wildcard that you can choose to treat equivalently to an empty series or missing value, without committing to being anything in particular.  I&#39;ve also m..." />
<meta name="twitter:description" content="I&#39;m...pretty sure (?) this is still the best plan.  So there&#39;s a new philosophy I&#39;ve outlined for why BLANK! exists at all, and its purposes as being a kind of generic &quot;nothing to see, here&quot; is distinct from what might be thought of more as a disruptor like null or an unset variable.  It is not related at all to soft failure.  Blank is simply a wildcard that you can choose to treat equivalently to an empty series or missing value, without committing to being anything in particular.  I&#39;ve also m..." />
<meta property="article:published_time" content="2022-12-01T09:51:02+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="../1821.html">What Should BLANK! in UPARSE Do?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/parsing/16" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Parsing</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1821.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-05-15T22:35:24Z'>
              <time itemprop='dateModified' datetime='2022-08-21T05:59:47Z' class='post-time'>
                August 21, 2022,  5:59am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>It's always good to look at history first.  So let's compare and contrast #[none] vs. empty block in old Redbols.</p>
<p><strong>In Rebol2 and R3-Alpha, both are no-ops.</strong>  The input type doesn't matter.</p>
<pre><code>r2/r3&gt;&gt; parse {ab} [[] "a" [] "b" []]
== true

r2/r3&gt;&gt; parse {ab} [#[none] "a" #[none] "b" #[none]]
== true

r2/r3&gt;&gt; parse [a b] [[] 'a [] 'b []]
== true

r2/r3&gt;&gt; parse [a b] [#[none] 'a #[none] 'b #[none]]
== true
</code></pre>
<p><strong>In Red, #[none]s are expected to be literal.</strong>  However, you don't get an error on string inputs...just a failure.</p>
<pre><code>red&gt;&gt; parse {ab} [[] "a" [] "b" []]
== true

red&gt;&gt; parse {ab} [#[none] "a" #[none] "b" #[none]]
== false

red&gt;&gt; parse [a b] [[] 'a [] 'b []]
== true

red&gt;&gt; parse [a b] [#[none] 'a #[none] 'b #[none]]
== false

red&gt;&gt; parse [#[none] a #[none] b #[none]] [#[none] 'a #[none] 'b #[none]]
== true</code></pre>
        </div>

        <meta itemprop='headline' content='What Should BLANK! in UPARSE Do?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1821.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-07-11T19:38:50Z'>
              <time itemprop='dateModified' datetime='2022-08-21T06:07:08Z' class='post-time'>
                August 21, 2022,  6:07am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <blockquote>
<p><strong>What Should BLANK! in UPARSE Do?</strong></p>
</blockquote>
<p><strong>I've really found that I like BLANK! literally at source level as a way to say SPACE in string operations.</strong></p>
<p>So it could be useful in PARSE for this purpose:</p>
<pre><code>&gt;&gt; parse "aaa bbb" [some "a" _ some "b"]
== "b"
</code></pre>
<p>We haven't talked about the "blank and space" duality for a while, but I'd even gone as far to suggest that when you do something like TO BLOCK! of a string it might transform the spaces into blanks:</p>
<pre><code>&gt;&gt; to block! "the cat"
== [#t #h #e _ #c #a #t]
</code></pre>
<p><em>(People might not recall why I was mentioning this, but around the time of UTF-8 Everywhere it was pointed out that since we had non-fixed-size codepoints, seeking in strings and mutating them could be costly.  So if you had a string algorithm you might want to "explode" a string into a BLOCK! representation to work on it.  This would give you great flexibility to do things like put in substitutions with full strings, or mark the cells with intermediate states for your algorithm...and then you would collapse it all down at the end by turning it back into a string.)</em></p>
<h2>The Literal Interpretation Is Also Compelling in Arrays/Sequences</h2>
<p>I've thought of BLANK! as being the analogue to space in blocks, so matching them literally there makes sense:</p>
<pre><code>&gt;&gt; parse [a a a _ b b b] [some 'a _ some 'b]
== 'b
</code></pre>
<p>But where it really shines is in processing things like paths and tuples, to match the gaps in them:</p>
<pre><code>&gt;&gt; refinement-rule: [subparse path! [_ word!]]

&gt;&gt; parse [/foo] [refinement-rule]
== 'foo
</code></pre>
<p>That's a slam dunk.  So now we have the behavior tied up.  <img src="../../../images/emoji/twitter/relieved.png%3Fv=9" title=":relieved:" class="emoji" alt=":relieved:"></p>
        </div>

        <meta itemprop='headline' content='What Should BLANK! in UPARSE Do?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../the-r3c-branch-chriss-rebol-or-rebol-3-conservative/1858/9.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/the-r3c-branch-chriss-rebol-or-rebol-3-conservative/1858/9'>
                      <span itemprop='name'>The R3C Branch (&quot;Chris&#39;s Rebol&quot; or &quot;Rebol 3 Conservative&quot;)</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1821.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-12-01T09:51:02Z' class='post-time'>
                December 1, 2022,  9:51am
              </time>
              <meta itemprop='dateModified' content='2022-12-01T09:51:02Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="1821">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>That's a slam dunk. So now we have the behavior tied up. <img src="../../../images/emoji/twitter/relieved.png%3Fv=9" title=":relieved:" class="emoji" alt=":relieved:"></p>
</blockquote>
</aside>
<p><em>I'm...pretty sure (?) this is still the best plan.</em></p>
<p>So there's a new philosophy I've outlined for why BLANK! exists at all, and its purposes as being a kind of generic "nothing to see, here" is distinct from what might be thought of more as a disruptor like null or an unset variable.  It is not related at all to soft failure.  Blank is simply a wildcard that you can choose to treat equivalently to an empty series or missing value, without committing to being anything in particular.</p>
<p>I've also mentioned that in some mechanical contexts (like APPEND), we are simply more interested in blank's "thingness" than in its representation of nothingness.  So you have to DECAY it or SPREAD it or otherwise interact with it to get it to not act mechanically.</p>
<p><em>PARSE strikes me as one of the more mechanical contexts.</em></p>
<pre><code>parse [_ _ _] [repeat 3 _]
</code></pre>
<p>And I think the value of having it to represent space in string contexts is probably high.</p>
<p>It may be one of those things where to prevent accidents where you didn't mean it to be interpreted as a space, it shouldn't allow you to use it fetched from a WORD! in the rules.  You either use <code>@var</code> to say "I mean literally a blank" or you can make the rule contain a quoted value.</p>
<h2>But It's Important To Point Out There Are Other Tools</h2>
<p>Already, a lone apostrophe acts like an empty rule:</p>
<pre><code>&gt;&gt; parse "abc" ["a" ' "b" "c"]
== "c"
</code></pre>
<p>This makes even more sense than it used to, <a href="../../q-should-be-the-meta-of-void-a-no/1915.html">because a lone apostrophe is now a quoted void</a>.  And you can think of there being infinitely many voids at any position in a block.</p>
<p>Also already, <strong>~</strong> triggers a failure (though it should probably give a better message):</p>
<pre><code>&gt;&gt; parse "abc" ["a" ~ "b" "c"]
** Error: ~ encountered in parse rule
</code></pre>
<p>You could also use quasiwords for failures, e.g.:</p>
<pre><code>&gt;&gt; parse "ccc" [some "a" | some "b" | ~mismatch~]
** Error: ~mismatch~ in PARSE</code></pre>
        </div>

        <meta itemprop='headline' content='What Should BLANK! in UPARSE Do?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="../1821.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-12-05T08:50:57Z' class='post-time'>
                December 5, 2022,  8:50am
              </time>
              <meta itemprop='dateModified' content='2022-12-05T08:50:57Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>That's how I see Blank as well. As a generic place holder: nothing interesting here (yet), but no need to worry, this is not an error.</p>
        </div>

        <meta itemprop='headline' content='What Should BLANK! in UPARSE Do?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
