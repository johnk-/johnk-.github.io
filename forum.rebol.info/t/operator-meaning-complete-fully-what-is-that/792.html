<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Operator meaning &quot;complete fully&quot;...what is that? - Wish List - AltRebol</title>
    <meta name="description" content="Iâ€™d like something to help notice when an operation did not consume all its input. 
Something along the lines of: 
&amp;gt;&amp;gt; (completely-consume add 1 2)
== 3

&amp;gt;&amp;gt; (completely-consume add 1 2 3)
** Error: ADD did not completely &amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="792.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Operator meaning &quot;complete fully&quot;...what is that?&#39;" href="792.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/operator-meaning-complete-fully-what-is-that/792" />
<meta name="twitter:url" content="https://forum.rebol.info/t/operator-meaning-complete-fully-what-is-that/792" />
<meta property="og:title" content="Operator meaning &quot;complete fully&quot;...what is that?" />
<meta name="twitter:title" content="Operator meaning &quot;complete fully&quot;...what is that?" />
<meta property="og:description" content="I&#39;d like something to help notice when an operation did not consume all its input.  Something along the lines of:  &gt;&gt; (completely-consume add 1 2) == 3  &gt;&gt; (completely-consume add 1 2 3) ** Error: ADD did not completely consume args, leftover is [3]  I&#39;ve wanted such a thing for a while, but it&#39;s especially pressing now.  The API is getting more solid, so it&#39;s tempting to use it for doing things like calling from C the &quot;System helpers written in Rebol&quot;... a.k.a. what&#39;s in SYS.  But the existing ..." />
<meta name="twitter:description" content="I&#39;d like something to help notice when an operation did not consume all its input.  Something along the lines of:  &gt;&gt; (completely-consume add 1 2) == 3  &gt;&gt; (completely-consume add 1 2 3) ** Error: ADD did not completely consume args, leftover is [3]  I&#39;ve wanted such a thing for a while, but it&#39;s especially pressing now.  The API is getting more solid, so it&#39;s tempting to use it for doing things like calling from C the &quot;System helpers written in Rebol&quot;... a.k.a. what&#39;s in SYS.  But the existing ..." />
<meta property="og:article:section" content="Community" />
<meta property="og:article:section:color" content="12A89D" />
<meta property="og:article:section" content="Wish List" />
<meta property="og:article:section:color" content="12A89D" />
<meta property="article:published_time" content="2018-08-22T04:04:54+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="792.html">Operator meaning &quot;complete fully&quot;...what is that?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/community.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Community</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/community/wish-list/28" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Wish List</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Operator meaning &quot;complete fully&quot;...what is that?'>
        <meta itemprop='articleSection' content='Wish List'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="792.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-08-22T04:04:54Z' class='post-time'>
                    August 22, 2018,  4:04am
                  </time>
                  <meta itemprop='dateModified' content='2018-08-22T04:09:55Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>I'd like something to help notice when an operation did not consume all its input.</p>
<p>Something along the lines of:</p>
<pre><code>&gt;&gt; (completely-consume add 1 2)
== 3

&gt;&gt; (completely-consume add 1 2 3)
** Error: ADD did not completely consume args, leftover is [3]
</code></pre>
<p>I've wanted such a thing for a while, but it's especially pressing now.  The API is getting more solid, so it's tempting to use it for doing things like calling from C the "System helpers written in Rebol"... a.k.a. what's in SYS.  But the existing mechanisms for doing that have a "no leftovers" flag, something like:</p>
<pre><code>DECLARE_LOCAL (result);
bool leftovers = false;
if (Apply_Throws(result, add_function, leftovers, arg1, arg2, arg3, rebEND))
    fail (Error_No_Catch_For_Throw(result));
</code></pre>
<p>I don't want such flags in the API.  It seems useful to have a generic operator.</p>
<p>In the past, I've tried "double-bar", because it would allow for a more forceful kind of separation than just a single bar.  Unfortunately, it has to be prefix...as there's no way at present in usermode to know the left hand side completed exactly one expression:</p>
<pre><code>&gt;&gt; (x: add 1 2 "foo" | print x)
3

&gt;&gt; (|| x: add 1 2 "foo" || print x)
** Error: extra stuff (["foo"])
</code></pre>
<p>I'm wondering if the idea of <code>||</code> is sound, but just needs a new piece of machinery.  Because this seems superior for the intent:</p>
<pre><code>&gt;&gt; (x: add 1 2 "foo" || print x)
** Error: extra stuff ["foo"]

&gt;&gt; (x: add 1 2 || "foo" print x)
** Error: extra stuff [print x]

&gt;&gt; (x: add 1 2 || print x "foo")
** Error: extra stuff ["foo"]

&gt;&gt; (x: add 1 2 || print x)
3
</code></pre>
<p>So what do people think?  Better ideas for the prefix operator?  Time for a new parameter marker, e.g. <code>&lt;solo&gt;</code>?</p>
<p>This <em>might</em> be something that could be a use for the debated "variadic left enfix".  Maybe it could be possible to take a value from the left, and then tell you if you were at the "tail" or not...while not actually being able to give you more than one value?  They're lost to history, but it wouldn't be hard to keep just a bit's worth of memory for this purpose.</p>
<p>As an API client it would be up to you to put it at the beginning or the end (or both?)</p>
<pre><code>REBVAL *v = rebRun("||", whatever, ..., ...);

REBVAL *v = rebRun("whatever", ..., ..., "||");</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
