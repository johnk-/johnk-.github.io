<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What should do of empty string (`DO &quot;&quot;`) do? - Semantics - AltRebol</title>
    <meta name="description" content="The question of what do [] should return is now basically a done deal... it returns a modern VOID, which is the same value as a conditional that doesn&amp;#39;t take it&amp;#39;s branch: 
&amp;gt;&amp;gt; if true [&amp;lt;a&amp;gt;]
== &amp;lt;a&amp;gt;

&amp;gt;&amp;gt; if false [&amp;lt;a&amp;gt;]
== ~v&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2035.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;What should do of empty string (`DO &quot;&quot;`) do?&#39;" href="2035.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/what-should-do-of-empty-string-do-do/2035" />
<meta name="twitter:url" content="https://forum.rebol.info/t/what-should-do-of-empty-string-do-do/2035" />
<meta property="og:title" content="What should do of empty string (`DO &quot;&quot;`) do?" />
<meta name="twitter:title" content="What should do of empty string (`DO &quot;&quot;`) do?" />
<meta property="og:description" content="The question of what do [] should return is now basically a done deal... it returns a modern VOID, which is the same value as a conditional that doesn&#39;t take it&#39;s branch:  &gt;&gt; if true [&lt;a&gt;] == &lt;a&gt;  &gt;&gt; if false [&lt;a&gt;] == ~void~  ; anti  &gt;&gt; do [] == ~void~  ; anti  One issue that I mused about was whether there should be parity in DO of an empty string... returning a more vanishable VOID instead of an ornery NULL:  &gt;&gt; do &quot;&quot; == ~void~  ; anti  On the one hand, being able to accept an empty string at ..." />
<meta name="twitter:description" content="The question of what do [] should return is now basically a done deal... it returns a modern VOID, which is the same value as a conditional that doesn&#39;t take it&#39;s branch:  &gt;&gt; if true [&lt;a&gt;] == &lt;a&gt;  &gt;&gt; if false [&lt;a&gt;] == ~void~  ; anti  &gt;&gt; do [] == ~void~  ; anti  One issue that I mused about was whether there should be parity in DO of an empty string... returning a more vanishable VOID instead of an ornery NULL:  &gt;&gt; do &quot;&quot; == ~void~  ; anti  On the one hand, being able to accept an empty string at ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Semantics" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2020-12-10T21:34:48+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2035.html">What should do of empty string (`DO &quot;&quot;`) do?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/semantics/55" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/semantics/55" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Semantics</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='What should do of empty string (`DO &quot;&quot;`) do?'>
      <link itemprop='url' href='2035.html'>
      <meta itemprop='datePublished' content='2020-12-10T21:34:48Z'>
        <meta itemprop='articleSection' content='Semantics'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2035.html">


              <span class="crawler-post-infos">
                  <time  datetime='2020-12-10T21:34:48Z' class='post-time'>
                    December 10, 2020,  9:34pm
                  </time>
                  <meta itemprop='dateModified' content='2024-08-21T23:48:18Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a href="../what-should-do-of-empty-block-do-do/1426.html">The question of what <strong>do []</strong> should return is now basically a done deal</a>... it returns a modern VOID, which is the same value as a conditional that doesn't take it's branch:</p>
<pre><code>&gt;&gt; if true [&lt;a&gt;]
== &lt;a&gt;

&gt;&gt; if false [&lt;a&gt;]
== ~void~  ; anti

&gt;&gt; do []
== ~void~  ; anti
</code></pre>
<p>One issue that I mused about was whether there should be parity in DO of an empty string... returning a more vanishable VOID instead of an ornery NULL:</p>
<pre><code>&gt;&gt; do ""
== ~void~  ; anti
</code></pre>
<p><strong>On the one hand, being able to accept an empty string at face value as "hey, I meant that empty string" is part of the premise of the whole vocabulary of NULL vs VOID in the first place.</strong></p>
<p>In this school of thought, if you really intended to "opt out of a DO" you would pass it a void, not an empty string, and get a null back.</p>
<pre><code>&gt;&gt; do void
== ~null~  ; isotope
</code></pre>
<p>Consider a comparison with something like PRINT:</p>
<ul>
<li>
<strong>print null</strong> and thus <strong>print unspaced [void void]</strong> are errors</li>
<li>
<strong>print void</strong> and thus <strong>print maybe unspaced [void void]]</strong> is a no-op (returning NULL)</li>
<li>
<strong>print ""</strong> prints just a newline, assuming you meant no content for line</li>
<li>...hence so does <strong>print unspaced [void "" void]</strong> etc.</li>
</ul>
<p>If you buy into all this, then instead of being paranoid about the historical ways in which empty strings might sneak in, you accept it as meaning what it does and cure the problem at the edges so that everywhere you have an empty string <em>you mean it</em>.</p>
<p><strong>On the other hand, sometimes you are in a situation where strings are the only medium of exchange, and not reacting to the potential problem they represent feels a little wrong.</strong>  Think for example interfacing with C or JavaScript...</p>
<p>But maybe VOID is the right balance of reaction to this, and <strong>do ""</strong> returning VOID...instead of being paranoid prickly in some worse way to make NULL, is the coherent behavior of handling what you asked?</p>
<hr>
<p>I was curious what the JS console in Chrome and Firefox did when you just hit "enter", and found it interesting to see that neither let you; it has no response.  You have to at least hit "space".  I think that's a bit frustrating in terms of not giving you a way to test the responsiveness.  In any case, hitting space gives you the same response as <code>eval("")</code> which is <code>undefined</code>.</p>
<p>You don't get any particular safety from this:</p>
<pre><code>&gt;&gt; x = eval("")
&lt;- undefined

&gt;&gt; if (x) { console.log("doesn't complain on undefineds?"); }
&lt;- undefined
</code></pre>
<p>JavaScript does actually consider "undeclareds" as different from "undefineds", where a variable explicitly assigned undefined doesn't error on access (only attempts to dereference).  The "undeclared" state might be compared to "unbound".</p>
<p>Anyway, just something to hmm about.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-should-do-of-empty-block-do-do/1426.html">What should evaluating an empty block (`EVAL []`) do?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-22T04:35:19Z' class='post-time'>
                    August 22, 2024,  4:35am
                  </time>
                  <meta itemprop='dateModified' content='2024-08-22T04:41:07Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="2035">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>On the one hand, being able to accept an empty string at face value as "hey, I meant that empty string" is part of the premise of the whole vocabulary of NULL vs VOID in the first place.</p>
</blockquote>
</aside>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="2035">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>On the one hand, being able to accept an empty string at face value as "hey, I meant that empty string" is part of the premise of the whole vocabulary of NULL vs VOID in the first place.</p>
</blockquote>
</aside>
<p>Well, seems the worry was for naught, because...</p>
<h2><a name="p-7358-do-wont-take-strings-without-a-rebol-headerhttpsforumrebolinfotdo-of-text-as-synonym-of-do-of-file-containing-string2125-1" class="anchor" href="2035.html#p-7358-do-wont-take-strings-without-a-rebol-headerhttpsforumrebolinfotdo-of-text-as-synonym-of-do-of-file-containing-string2125-1"></a><strong><a href="../do-of-text-as-synonym-of-do-of-file-containing-string/2125.html">DO Won't Take Strings Without a Rebol [...] Header.</a></strong></h2>
<pre><code>&gt;&gt; do ""
** Error: IMPORT and DO require a header on: &lt;source&gt;
</code></pre>
<p>Moreover, DO of a BLOCK! is targeted to not mean "run this block of code in the evaluator".</p>
<p>That will be handled by EVAL/EVALUATE, which won't accept strings.</p>
<p>If you have a string that represents code, and you don't want to combine that code with a header saying how it should be LOAD-ed... you have to TRANSCODE and bind it yourself.  Which is now not that hard to do, really... you can run code right where it stands.</p>
<pre><code>outer: 10

string: "outer + inner + arg"

demo: func [arg] [
    let inner: 20
    let code: inside [] (transcode string)
    print ["The result is" eval code]
]

&gt;&gt; demo 30
The result is 60
</code></pre>
<p>That might actually be useful.  As it is, DO of strings in R3-Alpha was basically useless... unless you were trying to DO a script you got from somewhere else (like, maybe a script stored in a database or something).  In which case you will be covered by the DO because you will have the header you need.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
