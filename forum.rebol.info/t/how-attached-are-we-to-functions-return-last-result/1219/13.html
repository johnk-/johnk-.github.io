<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How Attached are we to Functions Return Last Result? - #13 by hostilefork - Functions - AltRebol</title>
    <meta name="description" content="UPDATE: 2021: Use LAMBDA if you want to return the last result; FUNC(TION) requires a RETURN statement and will return trash otherwise.  Full rationale: 
Implicit Execution of RETURN in functions = ...BAD (?) 


In Java&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1219.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;How Attached are we to Functions Return Last Result?&#39;" href="../1219.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/13" />
<meta name="twitter:url" content="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/13" />
<meta property="og:title" content="How Attached are we to Functions Return Last Result?" />
<meta name="twitter:title" content="How Attached are we to Functions Return Last Result?" />
<meta property="og:description" content="I didn&#39;t realize it, but Carl had written a Rebol 3.0 Blog post which was speaking to the security issue of leaking values:  http://www.rebol.net/r3blogs/0025.html - &quot;Leaky Functions&quot;  He says &quot;Of course, we cannot change the default function return case (as shown in the first example) because it would break far to much code.&quot;   Reactions From The Comments Brian Hawley predictably says that this could be driven by a setting.  Sunanda has the weird suggestion this be a feature of a function bein..." />
<meta name="twitter:description" content="I didn&#39;t realize it, but Carl had written a Rebol 3.0 Blog post which was speaking to the security issue of leaking values:  http://www.rebol.net/r3blogs/0025.html - &quot;Leaky Functions&quot;  He says &quot;Of course, we cannot change the default function return case (as shown in the first example) because it would break far to much code.&quot;   Reactions From The Comments Brian Hawley predictably says that this could be driven by a setting.  Sunanda has the weird suggestion this be a feature of a function bein..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Functions" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2024-08-20T14:59:46+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1219.html">How Attached are we to Functions Return Last Result?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/functions/59" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Functions</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='How Attached are we to Functions Return Last Result?'>
        <meta itemprop='articleSection' content='Functions'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-09-30T10:24:02Z' class='post-time'>
                    September 30, 2019, 10:24am
                  </time>
                  <meta itemprop='dateModified' content='2024-08-20T15:03:50Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <blockquote>
<p><strong>UPDATE: 2021:</strong> Use LAMBDA if you want to return the last result; FUNC(TION) requires a RETURN statement and will return trash otherwise.  Full rationale:</p>
<p><a href="../../implicit-execution-of-return-in-functions-bad/1656.html" class="inline-onebox">Implicit Execution of RETURN in functions = ...BAD (?)</a></p>
</blockquote>
<hr>
<p>In JavaScript, the failure to specify a RETURN statement is basically the way of saying you don't return anything.  Functions don't accidentally leak values, you just get undefined:</p>
<pre><code>&gt; function nada() { 1 + 2; }

&gt; nada()
&lt;- undefined

&gt; function three() { return 1 + 2; }

&gt; three()
3
</code></pre>
<p>I know this isn't how Rebol has historically operated.  But the historical operation of Rebol can lead to the accidental leakage of a lot of values which the caller wasn't necessarily meant to see.  There's currently a burden to annotate in the spec when a function doesn't return something.</p>
<p>So in the <em>"Let's not give JavaScript any upper hand"</em> line of thinking, should this be re-evaluated?  I must admit I kind of feel their way is clearer.  :-/</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../the-truthiness-of-nothing/2180/2.html">The Truthiness of Nothing</a>
                        <meta itemprop='position' content='1'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../what-should-do-of-empty-block-do-do/1426/20.html">What should do of empty block (`DO []`) do?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../more-history-mining-rebol-3-0-front-line-blog/2199.html">More History Mining: Rebol 3.0 Front Line Blog</a>
                        <meta itemprop='position' content='3'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../implicit-execution-of-return-in-functions-bad/1656.html">Implicit Execution of RETURN in functions = ...BAD (?)</a>
                        <meta itemprop='position' content='4'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../a-return-like-annotation-for-block-result-being-used/1526.html">A RETURN-like annotation for block result being used</a>
                        <meta itemprop='position' content='5'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/iArnold'><span itemprop='name'>iArnold</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-09-30T13:16:54Z' class='post-time'>
                    September 30, 2019,  1:16pm
                  </time>
                  <meta itemprop='dateModified' content='2019-09-30T13:16:54Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>If return comes, make it optional. The current behaviour is fine by me. Adding return is undoing part of REBOL way, REBOL takes care of taking and returning the last result. If you like it or not. It is not the end-user but the programmer that has to deal with it and the programmer should be able to handle or use PHP or Java instead.<br>
Having the function return without declaring variables or having to specify a RETURN statement is very useful in quicky programming.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-09-30T13:25:26Z' class='post-time'>
                    September 30, 2019,  1:25pm
                  </time>
                  <meta itemprop='dateModified' content='2019-09-30T13:25:26Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-post="2" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/iarnold/40/226_2.png" class="avatar"> iArnold:</div>
<blockquote>
<p>Having the function return without declaring variables or having to specify a RETURN statement is very useful in quicky programming.</p>
</blockquote>
</aside>
<p>This could also be another construct.  MACRO perhaps, or INLINE...where the idea is to create something that substitutes an expression.</p>
<pre><code>&gt;&gt; foo-macro: macro [x y] [append x y]
&gt;&gt; foo-macro [a b c] 'd
== [a b c d]

&gt;&gt; foo-function: function [x y] [append x y]
&gt;&gt; foo-function
; no result (e.g. void!)
</code></pre>
<p>Or something.  I dunno, I think it's worth asking if it's a great idea to leak by default.  I personally like the RETURN making it clear whether something is actually meant to be a return result...it can be hard to tell when looking at:</p>
<pre><code>foo: function [...] [
    ...
    ...
    something-or-another
]
</code></pre>
<p>Is that intentionally returning the result of something-or-another?  Or is that a function intended to have a side effect, whose result is not part of the contract?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-09-30T15:56:29Z' class='post-time'>
                    September 30, 2019,  3:56pm
                  </time>
                  <meta itemprop='dateModified' content='2019-09-30T15:56:29Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Very.</p>
<p>To me it is part of what defines Rebol. Every function which doesn't return anything disturbs the flow for me, and breaks the ability to chain functions together.<br>
It is part of the programmers responsibility to return something sensible.<br>
(Well, this is my opinion at least.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-06-16T08:13:56Z' class='post-time'>
                    June 16, 2022,  8:13am
                  </time>
                  <meta itemprop='dateModified' content='2022-06-16T21:31:14Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="IngoHohmann" data-post="4" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/ingohohmann/40/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>It is part of the programmers responsibility to return something sensible.<br>
(Well, this is my opinion at least.)</p>
</blockquote>
</aside>
<p>I have to read and maintain a lot of code (including things like the wild Rebmake), as well as even odd things I've written.  I really find that it can be bewildering on a function that has no RETURN: documentation and some weird expression in the last slot to know if that thing is used by any callers.</p>
<p>My opinion here is that having a return-or-not is a big leg up in understanding the reach of a function, and whether you can reorganize it (or add more code to the end) without breaking something.</p>
<p><strong>But as I've outlined in <a href="../../implicit-execution-of-return-in-functions-bad/1656/2.html">Implicit Execution of Return in Functions</a>, this goes further than just our preferences for readability.</strong>  Because RETURN is a function itself, we're in different territory...and it's a territory I want people to be able to explore with doing things like hooking the RETURN function and customizing it.</p>
<p>There will be two options:</p>
<ul>
<li>
<p>Use LAMBDA.  Lambda is known in languages for a construct that does substitution of the results of a parameterized expression and doesn't need RETURN.</p>
<ul>
<li>
<p>One feature of lambda is that it does not have RETURN of its own.  This makes it useful for block branches and other services inside the context of another function.</p>
</li>
<li>
<p>If you decide at some point you do want a RETURN, you will have to promote your code to a FUNC(TION) and add a RETURN on all paths--including what drops out the bottom.</p>
</li>
</ul>
</li>
<li>
<p>Go your own path and define FUNC to RETURN its body as a group:</p>
<pre><code>func: adapt :func [
    body: compose [return (as group! body)]
]
</code></pre>
<p>People should give deep thought to whether the toolbox of definitions they import into every project should override fundamental behaviors.  But if you find something is a closely held belief, then do it.</p>
</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-06-16T21:29:14Z' class='post-time'>
                    June 16, 2022,  9:29pm
                  </time>
                  <meta itemprop='dateModified' content='2022-06-16T22:37:12Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>My opinion here is that having a return-or-not is a big leg up in understanding the reach of a function, and whether you can reorganize it (or add more code to the end) without breaking something</p>
</blockquote>
</aside>
<p>I must admit that this makes some sense. So I hope this'll lead to more conscious decisions on what to return.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/iArnold'><span itemprop='name'>iArnold</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-06-18T19:09:43Z' class='post-time'>
                    June 18, 2022,  7:09pm
                  </time>
                  <meta itemprop='dateModified' content='2022-06-18T19:09:43Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Yes, having function that have a none as closing statement, to make sure the function does not return something.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-06-19T13:57:55Z' class='post-time'>
                    June 19, 2022,  1:57pm
                  </time>
                  <meta itemprop='dateModified' content='2022-06-19T13:57:55Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="iArnold" data-post="7" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/iarnold/40/226_2.png" class="avatar"> iArnold:</div>
<blockquote>
<p>function that have a none as closing statement</p>
</blockquote>
</aside>
<p>It's true that you could adopt a reverse convention, by which any function that doesn't have a meaningful return result ends just saying <code>none</code>.</p>
<p>But the problem with conventions is that not everyone follows them.</p>
<p>I'll maintain that the best answer here is for me to do what's "right" by the architecture and my senses, and encourage people to be as "wacky as they want to be" by making their own box-of-tools they import on whatever scripts they write.</p>
<p>And really, your script probably shouldn't have a lot of "FUNC" in them anyway.  Each task should probably have you quickly dialecting a layer suited to the task, and you should quickly climb higher than FUNC.</p>
<p>I think this is the philosophy of the language--<em>if you're not bending it, you're probably not really using it.</em>  Each script should have a setup which does the bends that suits the task, and anyone reading the script should take note of that being the context they're operating in.  With module isolation working properly, this becomes practical for each and every script to rip things up arbitrarily.</p>
<p>My job is to make sure it <em>can</em> bend, and I'm doing a good job.  <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-14T23:25:55Z' class='post-time'>
                    December 14, 2023, 11:25pm
                  </time>
                  <meta itemprop='dateModified' content='2023-12-14T23:25:55Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="IngoHohmann" data-post="6" data-topic="1219" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/ingohohmann/40/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>I must admit that this makes some sense. So I hope this'll lead to more conscious decisions on what to return.</p>
</blockquote>
</aside>
<p>Something crossed my mind as a thought.</p>
<p>Right now, the omission of a <strong>RETURN:</strong> in a function spec is something that indicates carelessness.  Coding standards for any "good" project would mandate that one be put on.  The absence of a return spec is a red flag suggesting that it hadn't been formalized yet.</p>
<p>We could spin it another way, and say that a function without a RETURN: in the spec <em>represents a procedure</em>.  e.g. no return spec means a trash result.</p>
<p>This alternative to "no return spec means unconstrained result" has some appeal.  It would mean the omission of a RETURN is something that can occur frequently in a "good" program, and that those good programs would be shorter.</p>
<p>But it would add a burden to off-the-cuff code.  Yet that off-the-cuff code now has the burden of including a RETURN statement, so would the burden of saying <strong><code>return: [any-value?]</code></strong> be that much more?  And I've spoken about shorthands for this e.g. as <strong><code>return: &lt;any&gt;</code></strong> in the past... might that make it better.</p>
<p>I guess I find the long-tail argument that "good code can be shorter" to be somewhat compelling.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-28T18:35:07Z' class='post-time'>
                    December 28, 2023,  6:35pm
                  </time>
                  <meta itemprop='dateModified' content='2023-12-28T18:35:07Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Well, this seems to be the objectively best way forward.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/iArnold'><span itemprop='name'>iArnold</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-01T18:44:51Z' class='post-time'>
                    January 1, 2024,  6:44pm
                  </time>
                  <meta itemprop='dateModified' content='2024-01-01T18:44:51Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>What is your best way forward option then?<br>
I like that there is no need to add RETURNs at the end.That is refreshing. If you do not want to return a value, add NONE at the end. And even values that would be returned, if no other function was waiting for that info, it would be discarded anyway. And you can always choose to add a RETURN to make it clear what to return, or it returns a thing that was not last to be computed.<br>
Adding a RETURN to distinguish between functions and procedures is just copying from other languages without a clear need to satisfy programmers who will never switch to Rebol anyway.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-01-02T02:18:21Z' class='post-time'>
                    January 2, 2024,  2:18am
                  </time>
                  <meta itemprop='dateModified' content='2024-01-02T12:41:06Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="iArnold" data-post="11" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/iarnold/40/226_2.png" class="avatar"> iArnold:</div>
<blockquote>
<p>I like that there is no need to add RETURNs at the end.That is refreshing. If you do not want to return a value, add NONE at the end.</p>
</blockquote>
</aside>
<p>This is adequately covered by LAMBDA.</p>
<pre><code>&gt;&gt; foo: lambda [x] [print "Use Lambda if you want fallout", x + 20]

&gt;&gt; foo 1000
Use Lambda if you want fallout
== 1020
</code></pre>
<p>The tradeoff is just that you don't have a RETURN defined in lambdas.</p>
<p>I've already explained that people can build their own variant of FUNC(TION) and have it do whatever they want.  The stock function will return trash if there is no RETURN statement, so that is no longer negotiable.</p>
<p>Remaining open question is just the meaning of not having a <strong>RETURN:</strong> definition in the spec.  I'm liking the concept that no spec means procedure, but haven't made the jump yet.</p>
<hr>
<p>...although...there is the possibility of saying that if you don't put a RETURN: definition then there is no RETURN available, e.g. it acts as a LAMBDA, and just gives you the last result.  Then if you add a RETURN: to the spec (even if just a <strong>return: [~]</strong>) then you must use it.  This would address my concern about not executing a hooked return by omitting it.</p>
<p>I've also had some misgivings about whether LAMBDA should pick apart multi-returns vs. take normal arguments like a function.  e.g.</p>
<pre><code>&gt;&gt; if true [print "condition", pack [1 2]] then a/b -&gt; [print ["branch" a + b]]
condition
branch 3
</code></pre>
<p>But there are also questions about if there is no RETURN statement, how would LAMBDAs specify return type checking.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_13' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1219.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-20T14:59:46Z' class='post-time'>
                    August 20, 2024,  2:59pm
                  </time>
                  <meta itemprop='dateModified' content='2024-08-20T23:56:41Z'>
              <span itemprop='position'>13</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I know this isn't how Rebol has historically operated. But the historical operation of Rebol can lead to the accidental leakage of a lot of values which the caller wasn't necessarily meant to see.</p>
</blockquote>
</aside>
<p>I didn't realize it, but Carl had written a Rebol 3.0 Blog post which was speaking to the security issue of leaking values:</p>
<p><a href="http://www.rebol.net/r3blogs/0025.html">http://www.rebol.net/r3blogs/0025.html - <strong>"Leaky Functions"</strong></a></p>
<p>He says <em>"Of course, we cannot change the default function return case (as shown in the first example) because it would break far to much code."</em></p>
<h2>
<a name="reactions-from-the-comments-1" class="anchor" href="13.html#reactions-from-the-comments-1"></a>Reactions From The Comments</h2>
<p>Brian Hawley predictably says that this could be driven by a setting.</p>
<p>Sunanda has the weird suggestion this be a feature of a function being in a module... since modules were new, any code in the modules could obey the new rule: <em>"That does not need any additional syntax at all.....Simply document that a function in a module always return (say) NONE if it has no explict RETURN value."</em></p>
<p>Gregg points out that having FUNC behave differently in modules would be weird, and what if you composed the function across a module boundary.</p>
<p><a class="mention" href="https://forum.rebol.info/u/brett">@Brett</a> has an interesting remark that is probably worth a post considering it here in the module category: <em>"Re-reading module blog entry and this front line entry leaves me wondering if limiting of access to module words is enough. For super security should values (like block!, string! and issue!) be tied to a module too. If a non-exported value was about to be leaked it could converted to an error. Modules then are not just a namespace, but a memory space."</em></p>
<p>Jaime suggests a separate PROC function generator.</p>
<p>Oldes says break it, none of the code is going to be compatible anyway.</p>
<h3>
<a name="funny-enough-i-agree-with-oldes-this-time-2" class="anchor" href="13.html#funny-enough-i-agree-with-oldes-this-time-2"></a>Funny Enough, I Agree With Oldes This Time</h3>
<p>Ren-C actually did add PROC, but at a time when there was both FUNC and FUNCTION with different semantics, there was PROC and PROCEDURE with different semantics.</p>
<p>What ultimately soured me on the idea was that any time you created something "function-like", e.g. METH and METHOD, <a href="../../method-and-the-argument-against-procedure/710.html">you face again the idea that you have to find some way to name the version that returns a value or doesn't</a>.  <em>("METHPROC" and "METHODPROCEDURE"?)</em></p>
<p>Ultimately <a href="../../abbreviations-as-synonyms/1211.html">FUNC and FUNCTION were unified as synonyms</a>, making it even easier to make FUNC-like things that put all their behavior cues inside the spec block.</p>
<p>Anyway, it was interesting to see this discussion that I didn't know had happened.  But Ren-C really clinches the issue since each function's localized RETURN can be hooked or replaced.  <strong><a href="../../implicit-execution-of-return-in-functions-bad/1656.html">You don't want values falling out the bottom of the function to be exempt from whatever finalization RETURN might be intended to do</a>.</strong></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
