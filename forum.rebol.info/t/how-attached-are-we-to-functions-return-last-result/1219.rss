<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>How Attached are we to Functions Return Last Result?</title>
    <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219</link>
    <description>In JavaScript, the failure to specify a RETURN statement is basically the way of saying you don&#39;t return anything.  Functions don&#39;t accidentally leak values, you just get undefined:

    &gt; function nada() { 1 + 2; }

    &gt; nada()
    &lt;- undefined

    &gt; function three() { return 1 + 2; }

    &gt; three()
    3

I know this isn&#39;t how Rebol has historically operated.  But the historical operation of Rebol can lead to the accidental leakage of a lot of values which the caller wasn&#39;t necessarily meant to see.  There&#39;s currently a burden to annotate in the spec when a function doesn&#39;t return something.

So in the *&quot;Let&#39;s not give JavaScript any upper hand&quot;* line of thinking, should this be re-evaluated?  I must admit I kind of feel their way is clearer.  :-/</description>
    
    <lastBuildDate>Sun, 19 Jun 2022 13:57:55 +0000</lastBuildDate>
    <category>Semantics</category>
    <atom:link href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="iArnold" data-post="7" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/iarnold/40/226_2.png" class="avatar"> iArnold:</div>
<blockquote>
<p>function that have a none as closing statement</p>
</blockquote>
</aside>
<p>It's true that you could adopt a reverse convention, by which any function that doesn't have a meaningful return result ends just saying <code>none</code>.</p>
<p>But the problem with conventions is that not everyone follows them.</p>
<p>I'll maintain that the best answer here is for me to do what's "right" by the architecture and my senses, and encourage people to be as "wacky as they want to be" by making their own box-of-tools they import on whatever scripts they write.</p>
<p>And really, your script probably shouldn't have a lot of "FUNC" in them anyway.  Each task should probably have you quickly dialecting a layer suited to the task, and you should quickly climb higher than FUNC.</p>
<p>I think this is the philosophy of the language--<em>if you're not bending it, you're probably not really using it.</em>  Each script should have a setup which does the bends that suits the task, and anyone reading the script should take note of that being the context they're operating in.  With module isolation working properly, this becomes practical for each and every script to rip things up arbitrarily.</p>
<p>My job is to make sure it <em>can</em> bend, and I'm doing a good job.  <img src="https://forum.rebol.info/images/emoji/twitter/slight_smile.png?v=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/8</link>
        <pubDate>Sun, 19 Jun 2022 13:57:55 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-8</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[iArnold]]></dc:creator>
        <description><![CDATA[
            <p>Yes, having function that have a none as closing statement, to make sure the function does not return something.</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/7</link>
        <pubDate>Sat, 18 Jun 2022 19:09:43 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-7</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[IngoHohmann]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>My opinion here is that having a return-or-not is a big leg up in understanding the reach of a function, and whether you can reorganize it (or add more code to the end) without breaking something</p>
</blockquote>
</aside>
<p>I must admit that this makes some sense. So I hope this'll lead to more conscious decisions on what to return.</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/6</link>
        <pubDate>Thu, 16 Jun 2022 21:29:14 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-6</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="IngoHohmann" data-post="4" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/ingohohmann/40/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>It is part of the programmers responsibility to return something sensible.<br>
(Well, this is my opinion at least.)</p>
</blockquote>
</aside>
<p>I have to read and maintain a lot of code (including things like the wild Rebmake), as well as even odd things I've written.  I really find that it can be bewildering on a function that has no RETURN: documentation and some weird expression in the last slot to know if that thing is used by any callers.</p>
<p>My opinion here is that having a return-or-not is a big leg up in understanding the reach of a function, and whether you can reorganize it (or add more code to the end) without breaking something.</p>
<p><strong>But as I've outlined in <a href="https://forum.rebol.info/t/implicit-execution-of-return-in-functions-bad/1656/2">Implicit Execution of Return in Functions</a>, this goes further than just our preferences for readability.</strong>  Because RETURN is a function itself, we're in different territory...and it's a territory I want people to be able to explore with doing things like hooking the RETURN function and customizing it.</p>
<p>There will be two options:</p>
<ul>
<li>
<p>Use LAMBDA.  Lambda is known in languages for a construct that does substitution of the results of a parameterized expression and doesn't need RETURN.</p>
<ul>
<li>
<p>One feature of lambda is that it does not have RETURN of its own.  This makes it useful for block branches and other services inside the context of another function.</p>
</li>
<li>
<p>If you decide at some point you do want a RETURN, you will have to promote your code to a FUNC(TION) and add a RETURN on all paths--including what drops out the bottom.</p>
</li>
</ul>
</li>
<li>
<p>Go your own path and define FUNC to RETURN its body as a group:</p>
<pre><code>func: adapt :func [
    body: compose [return (as group! body)]
]
</code></pre>
<p>People should give deep thought to whether the toolbox of definitions they import into every project should override fundamental behaviors.  But if you find something is a closely held belief, then do it.</p>
</li>
</ul>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/5</link>
        <pubDate>Thu, 16 Jun 2022 08:13:56 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-5</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[IngoHohmann]]></dc:creator>
        <description><![CDATA[
            <p>Very.</p>
<p>To me it is part of what defines Rebol. Every function which doesn't return anything disturbs the flow for me, and breaks the ability to chain functions together.<br>
It is part of the programmers responsibility to return something sensible.<br>
(Well, this is my opinion at least.)</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/4</link>
        <pubDate>Mon, 30 Sep 2019 15:56:29 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-4</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-post="2" data-topic="1219">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/iarnold/40/226_2.png" class="avatar"> iArnold:</div>
<blockquote>
<p>Having the function return without declaring variables or having to specify a RETURN statement is very useful in quicky programming.</p>
</blockquote>
</aside>
<p>This could also be another construct.  MACRO perhaps, or INLINE...where the idea is to create something that substitutes an expression.</p>
<pre><code>&gt;&gt; foo-macro: macro [x y] [append x y]
&gt;&gt; foo-macro [a b c] 'd
== [a b c d]

&gt;&gt; foo-function: function [x y] [append x y]
&gt;&gt; foo-function
; no result (e.g. void!)
</code></pre>
<p>Or something.  I dunno, I think it's worth asking if it's a great idea to leak by default.  I personally like the RETURN making it clear whether something is actually meant to be a return result...it can be hard to tell when looking at:</p>
<pre><code>foo: function [...] [
    ...
    ...
    something-or-another
]
</code></pre>
<p>Is that intentionally returning the result of something-or-another?  Or is that a function intended to have a side effect, whose result is not part of the contract?</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/3</link>
        <pubDate>Mon, 30 Sep 2019 13:25:26 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-3</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[iArnold]]></dc:creator>
        <description><![CDATA[
            <p>If return comes, make it optional. The current behaviour is fine by me. Adding return is undoing part of REBOL way, REBOL takes care of taking and returning the last result. If you like it or not. It is not the end-user but the programmer that has to deal with it and the programmer should be able to handle or use PHP or Java instead.<br>
Having the function return without declaring variables or having to specify a RETURN statement is very useful in quicky programming.</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/2</link>
        <pubDate>Mon, 30 Sep 2019 13:16:54 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-2</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
      <item>
        <title>How Attached are we to Functions Return Last Result?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>In JavaScript, the failure to specify a RETURN statement is basically the way of saying you don't return anything.  Functions don't accidentally leak values, you just get undefined:</p>
<pre><code>&gt; function nada() { 1 + 2; }

&gt; nada()
&lt;- undefined

&gt; function three() { return 1 + 2; }

&gt; three()
3
</code></pre>
<p>I know this isn't how Rebol has historically operated.  But the historical operation of Rebol can lead to the accidental leakage of a lot of values which the caller wasn't necessarily meant to see.  There's currently a burden to annotate in the spec when a function doesn't return something.</p>
<p>So in the <em>"Let's not give JavaScript any upper hand"</em> line of thinking, should this be re-evaluated?  I must admit I kind of feel their way is clearer.  :-/</p>
          <p><a href="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219/1</link>
        <pubDate>Mon, 30 Sep 2019 10:24:02 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-1219-1</guid>
        <source url="https://forum.rebol.info/t/how-attached-are-we-to-functions-return-last-result/1219.rss">How Attached are we to Functions Return Last Result?</source>
      </item>
  </channel>
</rss>
