<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Killing off Floating Point PAIR! - #2 by hostilefork - Datatypes - AltRebol</title>
    <meta name="description" content="Rebol2 did not have floating point pairs: 
rebol2&amp;gt;&amp;gt; 10.20x3.04
** Syntax Error: Invalid tuple -- 10.20x3.04

Red is very focused on graphics and making PAIR! play a central role.  Despite that, it also does not have floa&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../1666.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Killing off Floating Point PAIR!&#39;" href="../1666.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/killing-off-floating-point-pair/1666/2" />
<meta name="twitter:url" content="https://forum.rebol.info/t/killing-off-floating-point-pair/1666/2" />
<meta property="og:title" content="Killing off Floating Point PAIR!" />
<meta name="twitter:title" content="Killing off Floating Point PAIR!" />
<meta property="og:description" content="It seems Red faced a need to represent floating point coordinates.  But they believed supporting this in PAIR! would make it unreadable, e.g. 2343.122x54239.44.  To address this, they added a distinct type called POINT!:  Red Programming Language: Subpixel GUI  Their choice for representing points uses commas inside of parentheses, and can extend to any number of coordinates:  (2343.122, 54239.44) (2343.122, 54239.44, 6309.332) (2343.122, 54239.44, 6309.332, 442.3321) (2.33487e9, 54239.44) (2.33..." />
<meta name="twitter:description" content="It seems Red faced a need to represent floating point coordinates.  But they believed supporting this in PAIR! would make it unreadable, e.g. 2343.122x54239.44.  To address this, they added a distinct type called POINT!:  Red Programming Language: Subpixel GUI  Their choice for representing points uses commas inside of parentheses, and can extend to any number of coordinates:  (2343.122, 54239.44) (2343.122, 54239.44, 6309.332) (2343.122, 54239.44, 6309.332, 442.3321) (2.33487e9, 54239.44) (2.33..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Datatypes" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2023-09-12T17:28:35+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1666.html">Killing off Floating Point PAIR!</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Killing off Floating Point PAIR!'>
        <meta itemprop='articleSection' content='Datatypes'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1666.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-16T02:19:02Z' class='post-time'>
                    August 16, 2021,  2:19am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-16T02:19:02Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>Rebol2 did not have floating point pairs:</p>
<pre><code>rebol2&gt;&gt; 10.20x3.04
** Syntax Error: Invalid tuple -- 10.20x3.04
</code></pre>
<p>Red is very focused on graphics and making PAIR! play a central role.  <em>Despite that, it also does not have floating point pairs</em>:</p>
<pre><code>red&gt;&gt; 10.20x3.04
*** Syntax Error: (line 1) invalid pair at 10.20x3.04
</code></pre>
<p>A particularly irksome aspect of the R3-Alpha implementation of PAIR! was that it used 32-bit floating point numbers in its math, while 64-bit double precision integers were behind DECIMAL!.  This meant you had two different precisions of math being implemented.  And you would lose information picking the decimal numbers out of pairs and putting them back in.  <img src="../../../images/emoji/twitter/frowning.png%3Fv=9" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>That was also true of the integer form of PAIR! too.  You couldn't store an arbitrary 64-bit INTEGER! into a PAIR!, because it only had room for 2 32-bit integers in the cell.  <img src="../../../images/emoji/twitter/frowning.png%3Fv=9" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>I fixed these issues by making a fully generic optimized mechanic that could store any two cells together.  This wound up being fairly relevant in other ways that have nothing to do with PAIR!.</p>
<p><strong>In any case, in the ever present drive to simplify anything that is not mission critical, I think decimal point pairs will probably get the axe.</strong>  They raise questions I simply do not feel are worth answering.</p>
<p><em>If not even Red can bring themselves to care, why on earth should I?</em></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../1666.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-09-12T17:28:35Z' class='post-time'>
                    September 12, 2023,  5:28pm
                  </time>
                  <meta itemprop='dateModified' content='2023-09-12T17:28:35Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>It seems Red faced a need to represent floating point coordinates.  But they believed supporting this in PAIR! would make it unreadable, e.g. <code>2343.122x54239.44</code>.  To address this, they added a distinct type called POINT!:</p>
<p><a href="https://www.red-lang.org/2023/08/subpixel-gui.html" class="inline-onebox">Red Programming Language: Subpixel GUI</a></p>
<p>Their choice for representing points uses commas inside of parentheses, and can extend to any number of coordinates:</p>
<pre><code>(2343.122, 54239.44)
(2343.122, 54239.44, 6309.332)
(2343.122, 54239.44, 6309.332, 442.3321)
(2.33487e9, 54239.44)
(2.33487e9, 54239.44, 9.83242e17)
(2.33487e9, 54239.44, 9.83242e17, 5223.112)
(1.#inf, 1.#inf, 1.#inf)
</code></pre>
<p>They observe this means they no longer support commas as decimal separators:</p>
<blockquote>
<p><em>"Such literal forms requires the comma character to be a delimiter, so that it cannot be used anymore as a decimal separator. That was, unfortunately, a necessary decision in order to unlock such literal forms. The gains should be bigger than the loss."</em></p>
</blockquote>
<p>Despite Ren-C's <a href="../../the-language-worlds-weirdest-comma-mechanic/1387.html">very different usage of COMMA!</a>, I actually never killed off commas as decimal separators...so if you don't put a space after a comma, you get very different behavior:</p>
<pre><code>&gt;&gt; length of [1, 2]
== 3

&gt;&gt; second [1, 2]
== ,

&gt;&gt; length of [1,2]
== 1

&gt;&gt; first [1,2]
== 1.2
</code></pre>
<p>Technically speaking, they wouldn't have to drop it either... so long as they were willing to eliminate the idea that <code>1,</code> was an alternative representation of 1.0.  Ren-C drops this general equivalence not just for commas but for periods as well--and in fact <strong><code>1.</code></strong> is a TUPLE! (whose second element is BLANK!) while <strong><code>1.0</code></strong> is a DECIMAL!</p>
<p>(But I'd certainly shed no tears if commas as decimal representations were thrown out.)</p>
<h2>
<a name="im-confident-ren-cs-comma-is-the-better-design-1" class="anchor" href="2.html#im-confident-ren-cs-comma-is-the-better-design-1"></a>I'm Confident Ren-C's COMMA! is the Better Design</h2>
<p>In source dialects, you can still have slots where a GROUP! containing numbers separated by commas denotes a coordinate.  But you'd have to go through some step to get a runtime object that had methods.  Some pseudocode for that reality:</p>
<pre><code>&gt;&gt; data: [(1.2, 3.4) (5.6, 7.8)]

&gt;&gt; data.1 + data.2
** Error: GROUP! does not support ADD operation

&gt;&gt; p1: make point! first data
== #[point! 1.2 3.4]  ; or some methodized rendering

&gt;&gt; p2: make point! second data
== #[point! 5.6 7.8]

&gt;&gt; p3: p1 + p2
== #[point! 6.8 11.2]

&gt;&gt; to group! p3  ; imagine TO as being methodized as well
== (6.8, 11.2)
</code></pre>
<p>There's so much more freedom in how you can use COMMA! as a generic part in dialects.  And the consistency that if you see <strong><code>(...)</code></strong> you know you have a GROUP! is much more comforting.</p>
<p>But back to the original post topic: Red still doesn't have floating point PAIR!, so I feel no qualms about having gotten rid of it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
