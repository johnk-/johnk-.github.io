<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What if Blocks Had Scopes (But Not Individual Words)? - Binding - AltRebol</title>
    <meta name="description" content="Apologies for butting into this discussion as someone completely new to the project, but I think I have something worth mentioning in this context: 

Specifically, I’ve recently been looking into how scoping is implement&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2085.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;What if Blocks Had Scopes (But Not Individual Words)?&#39;" href="2085.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/what-if-blocks-had-scopes-but-not-individual-words/2085" />
<meta name="twitter:url" content="https://forum.rebol.info/t/what-if-blocks-had-scopes-but-not-individual-words/2085" />
<meta property="og:title" content="What if Blocks Had Scopes (But Not Individual Words)?" />
<meta name="twitter:title" content="What if Blocks Had Scopes (But Not Individual Words)?" />
<meta property="og:description" content="Apologies for butting into this discussion as someone completely new to the project, but I think I have something worth mentioning in this context:   Specifically, I’ve recently been looking into how scoping is implemented in R. I’m no R expert, but my understanding is that scopes in R are first-class values — just a certain kind of object expressing a map from variables to values. To implement lexical scoping, each scope has a pointer to a parent scope.  What’s quite interesting about R is that..." />
<meta name="twitter:description" content="Apologies for butting into this discussion as someone completely new to the project, but I think I have something worth mentioning in this context:   Specifically, I’ve recently been looking into how scoping is implemented in R. I’m no R expert, but my understanding is that scopes in R are first-class values — just a certain kind of object expressing a map from variables to values. To implement lexical scoping, each scope has a pointer to a parent scope.  What’s quite interesting about R is that..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2023-12-29T14:05:29+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2085.html">What if Blocks Had Scopes (But Not Individual Words)?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='What if Blocks Had Scopes (But Not Individual Words)?'>
      <link itemprop='url' href='2085.html'>
      <meta itemprop='datePublished' content='2023-12-29T14:05:29Z'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2085.html">


              <span class="crawler-post-infos">
                  <time  datetime='2023-12-29T14:05:29Z' class='post-time'>
                    December 29, 2023,  2:05pm
                  </time>
                  <meta itemprop='dateModified' content='2023-12-29T14:05:29Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Apologies for butting into this discussion as someone <em>completely</em> new to the project, but I think I have something worth mentioning in this context:</p>
<aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="2074">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"><a href="../joe-marshall-on-rebol-binding/2074/3.html">Joe Marshall on Rebol Binding</a></div>
<blockquote>
<p>I am looking under every rock for possible ways that a model of binding in Rebol could be chosen which might lack some elements of rigor but that can still be <em>useful</em> (or <em>"interesting"</em>, for some definition of interesting).</p>
</blockquote>
</aside>
<p>Specifically, I’ve recently been looking into how scoping is implemented in <a href="https://www.r-project.org/">R</a>. I’m no R expert, but my understanding is that scopes in R are <em>first-class values</em> — just a certain kind of object expressing a map from variables to values. To implement lexical scoping, each scope has a pointer to a parent scope.</p>
<p>What’s quite interesting about R is that, like Rebol, it extensively uses unevaluated expressions as a substitute for macros. The implementation is different — putting it in Lisp terms, everything in R is an fexpr  — but the end result is reasonably similar. To my understanding, each expression has an associated scope, and by manipulating the scope one can achieve some quite remarkable things (e.g. as done by the <a href="https://www.tidyverse.org/">tidyverse</a>).</p>
<p>So, in that light, here’s something I came up with the other day: a Rebol-like language where, instead of <em>each word being bound to a variable</em>, we have <em>each block being bound to a scope</em>. This does sacrifice a little bit of flexibility, since individual words can no longer be re-bound — instead, all words with the same spelling must be re-bound at once. But this is probably a desirable feature. And it preserves the much-vaunted ‘definitional scoping‘, since functions can still modify the scopes of blocks passed as arguments. Indeed, this may even make it easier to rebind words, since one can simply make a new scope and set its parent to the previous scope!</p>
<p>That being said, I haven’t very extensively used Rebol (or for that matter Red or Ren-C), and there’s probably stuff I’m missing here. Do you have any thoughts on this?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../r-a-very-rebol-like-language/2087.html">R: a very Rebol-like language</a>
                        <meta itemprop='position' content='4'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../joe-marshall-on-rebol-binding/2074/4.html">Joe Marshall on Rebol Binding</a>
                        <meta itemprop='position' content='5'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-29T17:58:28Z' class='post-time'>
                    December 29, 2023,  5:58pm
                  </time>
                  <meta itemprop='dateModified' content='2023-12-29T17:58:28Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hello, welcome!  Feel free to <a href="../../c/introductions.html">post an introduction</a> if you like.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>here’s something I came up with the other day: a Rebol-like language where, instead of <em>each word being bound to a variable</em>, we have <em>each block being bound to a scope</em>.</p>
</blockquote>
</aside>
<p>Rebol has a GET function which has historically operated as single-arity.  You pass it a WORD!, and "bound words" have context attached which allow them to be looked up: <strong>get word</strong></p>
<p>If you have an unbound word, then you could use the arity-2 operation IN to manufacture a word with context.  So <strong>(get (in context word))</strong> or simply <strong>get in context word</strong>.</p>
<p>If blocks are able to carry some form of scoping information, it doesn't seem all that useful to prohibit words from carrying this information as a convenience.  (It would also break all existing code to make GET arity-2...which I'm not afraid to do if it improves things, but I don't see how disabling words from holding scope would be an improvement.)</p>
<p>So in the model of blocks being "in control" of imbuing words with scope, you'd simply have words carrying the scope of wherever they are last picked out of.  Then poking an isolated word into a block would lose the scope it was carrying, and it would assume the context of the new location.</p>
<p>But there are limitations to having blocks (and groups) retain their scopes with words deferring to whatever blocks (or groups) they're put under.  One choice would be that you could say that <em>unbound</em> words would act this way... making it a pretty easy behavior to get e.g. <strong>append block unbind word</strong>.  Then the default behavior would be to preserve whatever binding was traveling with the word.</p>
<p>This is something I cover in <strong><a href="../rebol-and-scopes-well-why-not/1751.html">Rebol and Scopes: Well, Why Not?</a></strong> (which is worth reading if you haven't already).  I have experimented with mechanisms that build chains of scope, which are indeed carried by the blocks:</p>
<blockquote>
<p><em>"FUNC stows the body block away in an ACTION! that it generates. Later when it gets invoked, it creates a FRAME! with <code>return</code> and <code>x</code> in it...and puts that in a chain <em>with</em> the module context. So upon entry to the function body, that body is being executed with a specifier that looks in the frame first (would find that x) and then in the module second (would find <code>global</code> and <code>foo</code> ). This compound specifier is what the evaluator state initially has for that body block."</em></p>
</blockquote>
<p>I should point out that it's block <em>values</em> that carry these virtualized scopes, not block <em>series</em>.  So each function invocation--even though it's using the same arrays of items in memory--gets its own "view" on that data.  Making a BLOCK! value as seen by the user a <code>(data, index, scope)</code> tuple under the hood.</p>
<p>In any case, it would be good to detail any proposal for giving blocks scope as how it contrasts to what I lay out in that post...</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>What’s quite interesting about R is that, like Rebol, it extensively uses unevaluated expressions as a substitute for macros.</p>
</blockquote>
</aside>
<p>That's interesting to know.  If you're familiar with R, then posting notable examples of its mechanisms in the <a href="../../c/development/foreign-inspiration.html">Foreign Inspiration</a> category would be quite helpful...I'd be interested to see.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-29T21:33:49Z' class='post-time'>
                    December 29, 2023,  9:33pm
                  </time>
                  <meta itemprop='dateModified' content='2023-12-29T21:33:49Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>This is something I cover in <strong><a href="../rebol-and-scopes-well-why-not/1751.html">Rebol and Scopes: Well, Why Not?</a></strong> (which is worth reading if you haven't already). I have experimented with mechanisms that build chains of scope, which are indeed carried by the blocks:</p>
</blockquote>
</aside>
<p>Ah, I hadn’t realised you’d considered this already. Good to know, thanks! (Especially since I’ve been considering this scoping mechanism for a programming language of my own.) I’ll read it when I get time later today.</p>
<aside class="quote no-group quote-modified" data-username="hostilefork" data-post="2" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>What’s quite interesting about R is that, like Rebol, it extensively uses unevaluated expressions as a substitute for macros.</p>
</blockquote>
</aside>
<p>That's interesting to know. If you're familiar with R, then posting notable examples of its mechanisms in the <a href="../../c/development/foreign-inspiration.html">Foreign Inspiration</a> category would be quite helpful...I'd be interested to see.</p>
</blockquote>
</aside>
<p>I’m not hugely familiar with R… but like Rebol, examples of this mechanism abound, so it shouldn’t be difficult to put together.a post on it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-12-30T09:40:53Z' class='post-time'>
                    December 30, 2023,  9:40am
                  </time>
                  <meta itemprop='dateModified' content='2023-12-30T09:40:53Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="3" data-topic="2085">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>I’m not hugely familiar with R… but like Rebol, examples of this mechanism abound, so it shouldn’t be difficult to put together.a post on it.</p>
</blockquote>
</aside>
<p>And <a href="../r-a-very-rebol-like-language/2087.html">done</a>!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
