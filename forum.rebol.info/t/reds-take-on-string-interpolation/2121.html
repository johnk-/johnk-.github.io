<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Red&#39;s Take on String Interpolation - Redbol - AltRebol</title>
    <meta name="description" content="So Red is trying to attack string interpolation via a macro, which apparently can happen &amp;quot;before word binding&amp;quot; in some way. 
That kind of ties their hands representationally because macros always are signaled by ISSUE!s&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0.beta3-dev - https://github.com/discourse/discourse version 93983286b54a0e96b8073abce23f4566e9f296f7">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="2121.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_b36da8919caf93960d3b4470a90d0e79c6a110e2.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/checklist_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/footnote_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="https://forum.rebol.info/stylesheets/poll_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/spoiler-alert_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="spoiler-alert"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_eb475c67ca07665cb858ddf2ea6c953c2e3e2b85.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_bac9ab3eace9fe3f17026a3c4dbf25e3e9e1e9a0.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Red&#39;s Take on String Interpolation&#39;" href="2121.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/reds-take-on-string-interpolation/2121" />
<meta name="twitter:url" content="https://forum.rebol.info/t/reds-take-on-string-interpolation/2121" />
<meta property="og:title" content="Red&#39;s Take on String Interpolation" />
<meta name="twitter:title" content="Red&#39;s Take on String Interpolation" />
<meta property="og:description" content="So Red is trying to attack string interpolation via a macro, which apparently can happen &quot;before word binding&quot; in some way.  That kind of ties their hands representationally because macros always are signaled by ISSUE!s, so the callsites that want to use string interpolation must have a macro.  &gt;&gt; probe expand-directives [#composite {&quot;(player)&quot; &quot;(vfile)&quot; --audio-file &quot;(afile)&quot;}] [rejoin [{&quot;} (player) {&quot; &quot;} (vfile) {&quot; --audio-file &quot;} (afile) {&quot;}]]  Boris&#39;s remark about the usefulness of being ab..." />
<meta name="twitter:description" content="So Red is trying to attack string interpolation via a macro, which apparently can happen &quot;before word binding&quot; in some way.  That kind of ties their hands representationally because macros always are signaled by ISSUE!s, so the callsites that want to use string interpolation must have a macro.  &gt;&gt; probe expand-directives [#composite {&quot;(player)&quot; &quot;(vfile)&quot; --audio-file &quot;(afile)&quot;}] [rejoin [{&quot;} (player) {&quot; &quot;} (vfile) {&quot; --audio-file &quot;} (afile) {&quot;}]]  Boris&#39;s remark about the usefulness of being ab..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Redbol" />
<meta property="og:article:section:color" content="F1592A" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="6 â¤" />
<meta property="article:published_time" content="2021-06-26T04:06:20+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2121.html">Red&#39;s Take on String Interpolation</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/redbol/47" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/redbol/47" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Redbol</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Red&#39;s Take on String Interpolation'>
      <link itemprop='url' href='2121.html'>
      <meta itemprop='datePublished' content='2021-06-26T04:06:20Z'>
        <meta itemprop='articleSection' content='Redbol'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2121.html">


              <span class="crawler-post-infos">
                  <time  datetime='2021-06-26T04:06:20Z' class='post-time'>
                    June 26, 2021,  4:06am
                  </time>
                  <meta itemprop='dateModified' content='2021-06-26T04:06:20Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="8" data-topic="587">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"><a href="../could-strings-have-context/587/8.html">Could strings have context?</a></div>
<blockquote>
<p><strong>I've started to feel that supporting string interpolation is fairly important.</strong></p>
</blockquote>
</aside>
<p>So Red is trying to attack string interpolation <a href="https://gitter.im/red/red?at=60d4df778a40b1172827e4ff">via a macro</a>, which apparently can happen "before word binding" in some way.</p>
<p>That kind of ties their hands representationally because macros always are signaled by ISSUE!s, so the callsites that want to use string interpolation must have a macro.</p>
<pre><code>&gt;&gt; probe expand-directives [#composite {"(player)" "(vfile)" --audio-file "(afile)"}]
[rejoin [{"} (player) {" "} (vfile) {" --audio-file "} (afile) {"}]]
</code></pre>
<p><a href="https://gitter.im/red/red?at=60d636eb8a40b117282ae530">Boris's remark about the usefulness of being able to do string interpolation</a> in Rebol sums up probably how most of those who reject the idea at first would eventually come around:</p>
<blockquote>
<p>can add that first time I saw Gregg's <code>#composite</code> my reaction was "why would we ever want that?". But then with every <code>print</code> or <code>rejoin</code> I was using in my code I had this thought "what if..". Then I started using my experimental implementation, and after some time I believe it's a total must have.</p>
</blockquote>
<p><strong>But I still think this should be approached as a binding question.</strong>   It's very difficult to play with bricks in the "native" way that Rebol has been and overlay a <em>predictable</em> and useful idea of a "binding environment".  And keeping an open mind about it is necessary.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../could-strings-have-context/587/9.html">Could strings have context?</a>
                        <meta itemprop='position' content='4'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-02-23T19:18:05Z' class='post-time'>
                    February 23, 2022,  7:18pm
                  </time>
                  <meta itemprop='dateModified' content='2022-02-23T19:18:05Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Red is continuing their investment in a kind of string interpolation:</p>
<p><a href="https://github.com/red/red/pull/5085" class="inline-onebox">FEAT: String interpolation by hiiamboris Â· Pull Request #5085 Â· red/red Â· GitHub</a></p>
<p>They are defaulting to parentheses instead of $, and escaping parentheses with backslash <code>(\on the inside, curiously\)</code></p>
<p>It's worth thinking about what a good default is, though ultimately I think it should be customizable (as with historical REWORD).  I had been considering plain parentheses for the same reasons at first, but leaned to $ just because of how popular it is in other languages for interpolation.</p>
<p>My concept is different because it is not a hardcoded preprocessor behavior, but making binding information available on strings as a map of words to values.  See <a href="../rebol-and-scopes-well-why-not/1751.html">"Rebol and Scopes: Well, why not?"</a> for thoughts on that distinction and the challenges it presents.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-08T05:10:03Z' class='post-time'>
                    July 8, 2022,  5:10am
                  </time>
                  <meta itemprop='dateModified' content='2022-07-08T05:10:03Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2121">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forum.rebol.info/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Red is continuing their investment in a kind of string interpolation:</p>
</blockquote>
</aside>
<p>There's a <a href="https://github.com/red/red/pull/5085">pull request</a> regarding this, where they give some good bad examples:</p>
<blockquote>
<p>Here are just a few common examples written using <code>rejoin</code> function:</p>
<pre><code>avcmd: rejoin [{"} player {" "} vfile {" --audio-file "} afile {"}]

print rejoin ["Download OK: '" remote 
    "' [" info/Content-Type ", " info/Content-Length " bytes]"]

do make error! rejoin [token1 " cannot follow " token2 
     " in the " name " part of " mold .mask]
</code></pre>
<p>Try to look at these expressions and visualize how the resulting string will look like, and if I've got all spaces and quotes right.  Not a human task, eh?</p>
</blockquote>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-20T20:17:37Z' class='post-time'>
                    November 20, 2024,  8:17pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-20T22:52:09Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hiiamboris" data-post="3" data-topic="2121">
<div class="title">
<div class="quote-controls"></div>
 hiiamboris:</div>
<blockquote>
<p><em>"Try to look at these expressions and visualize how the resulting string will look like, and if I've got all spaces and quotes right. Not a human task, eh?"</em></p>
</blockquote>
</aside>
<p>I've proposed that COMPOSE be arity-2 and able to interpolate strings, e.g.</p>
<pre><code>&gt;&gt; num: 10

&gt;&gt; print compose ${{}} "Number is {{num}}, so there."
Number is 10, so there.
</code></pre>
<p>Having to say <strong>compose ${{}}</strong> is <em>noisy</em> for day to day use of a common construct like PRINT.</p>
<p>But even this trivial case shows a benefit of being able to put the comma right up against the number if you want to.  That's hard to do, as PRINT typically adds spaces around everything.  So you have to do something like this:</p>
<pre><code>&gt;&gt; print unspaced ["Number is" _ num ", so there."]
Number is 10, so there.
</code></pre>
<p>An experiment interprets BLOCK! in the source as grouping things tightly:</p>
<pre><code>&gt;&gt; print ["Number is" [num ","] "so there."]
Number is 10, so there.
</code></pre>
<p>Still, it's lousy compared to interpolation (see hiiamboris's examples for other ones).</p>
<h2><a name="p-7918-what-if-print-of-a-text-did-sneaky-interpolation-1" class="anchor" href="2121.html#p-7918-what-if-print-of-a-text-did-sneaky-interpolation-1"></a>What If PRINT of a TEXT! did "Sneaky Interpolation"?</h2>
<p>We could make it so that PRINT is one of the sneaky constructs that captures the binding from its callsite, and that it assumes some interpolation delimiter:</p>
<pre><code>&gt;&gt; num: 10

&gt;&gt; print "Number is {{num}}, so there."
Number is 10, so there.
</code></pre>
<p>Then we could say that if you don't want that, you can put the string in a block:</p>
<pre><code>&gt;&gt; print ["When using a block, {{...}} would not interpolate."]
When using a block, {{...}} would not interpolate.
</code></pre>
<p>There's another option to pass PRINT an <code>@var</code>, and if you did then that would suppress interpolation as well.</p>
<pre><code>&gt;&gt; str: "Number is {{num}}, so there."

&gt;&gt; print str
Number is 10, so there.

&gt;&gt; print [str]
Number is {{num}}, so there.

&gt;&gt; print @str
Number is {{num}}, so there.
</code></pre>
<h2><a name="p-7918-it-could-be-an-option-2" class="anchor" href="2121.html#p-7918-it-could-be-an-option-2"></a>It Could Be An Option</h2>
<p>There could be some way of turning this behavior on or off, and specifying what the delimiters are.</p>
<p>Maybe the default PRINT wouldn't have it, but you could say:</p>
<pre><code>/print: make-sneaky-print '(())  ; note unbound, since it captures binding
</code></pre>
<p>It's a little bit of a relearning of habits to know that plain <strong>print str</strong> would have this extra processing overhead.  But, I think it is learnable, and I'd definitely use it.</p>
<h2><a name="p-7918-other-options-brief-operators-other-names-3" class="anchor" href="2121.html#p-7918-other-options-brief-operators-other-names-3"></a>Other Options: Brief Operators, Other Names</h2>
<p>This could be a different word like <strong><code>echo</code></strong> or <strong><code>say</code></strong> or something like that, though I'm not crazy about either of those.</p>
<p>It could also be an operator you could make arbitrarily brief:</p>
<pre><code>print op "Number is {{num}}, so there."
</code></pre>
<p>But I don't know there's anything on the <a href="../tapping-the-untapped-potential-of-short-words/395.html">list of short words</a> that would make the cut.</p>
<p>It could be the result of some decoration:</p>
<pre><code>print @["Number is {{num}}, so there."]
</code></pre>
<p>But that's not what that is intended to mean.</p>
<p>It could be done with a different string type:</p>
<pre><code>print %"Number is {{num}}, so there."

print &lt;Number is {{num}}, so there.&gt;
</code></pre>
<p>The TAG! doesn't seem completely crazy, though I have other ideas for what TAG! means in PRINT as a formatting instruction.</p>
<p>It seems to me that giving the power to a plain PRINT is the most useful.</p>
<h2><a name="p-7918-most-likely-alternative-sneaky-compose-4" class="anchor" href="2121.html#p-7918-most-likely-alternative-sneaky-compose-4"></a>Most Likely Alternative: Sneaky COMPOSE</h2>
<p>I've debated if COMPOSE should use sneaky binding, and maybe it should.</p>
<p>Maybe its default should be <strong>{{...}}</strong> as well, and just make that out of band, as something that doesn't get other meaning in the system.</p>
<pre><code>&gt;&gt; compose '[(1 + 2) {{3 + 4}} {5 + 6}]
== [(1 + 2) 7 {5 + 6}]

print compose "Number is {{num}}, so there."

print compose:with $() "Number is (num), so there."
</code></pre>
<p>Or maybe the default should stay at <code>(...)</code> for the natural brevity:</p>
<pre><code>&gt;&gt; compose '[(1 + 2) {{3 + 4}} {5 + 6}]
== [3 {{3 + 4}} {5 + 6}]

print compose "Number is (num), so there."

print compose:with ${{}} "Number is {{num}}, so there."
</code></pre>
<p>It's just that parentheses seem so common in code and text that you'd often be pushing them out of the way.</p>
<p><em>I still feel like having it built into PRINT is a sort of convenience that it's hard to like any extra word in there, even just COMPOSE.</em>  And if it's built-in, then {{...}} seems better than (...)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-21T01:38:47Z' class='post-time'>
                    November 21, 2024,  1:38am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-21T01:38:47Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>On PRINT, I tend towards not doing implicit interpolation there. But it could work quite well as a refinement: <code>print:interpolate "Number is {{num}}"</code>.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-21T01:41:19Z' class='post-time'>
                    November 21, 2024,  1:41am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-21T05:12:51Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The key is making it very light, and not to break the readability flow.</p>
<p><strong><code>print*</code></strong> might be light enough, with the <code>*</code> warning "I'm doing extra processing on this string" (and "I'm doing implicit environment capture"?)</p>
<pre><code>&gt;&gt; print* "Number is {{num}}"
Number is 10
</code></pre>
<p>There's also <strong><code>print+</code></strong>... a little less noisy, but maybe too much so... the <code>+</code> blends a bit and looks like a T, right against a T.</p>
<pre><code>&gt;&gt; print+ "Number is {{num}}"
Number is 10
</code></pre>
<p>I can empathize that there needs to be <em>something</em> there to clue you into the extra work going on.</p>
<p>It may look nicer--but it is less efficient to have to scan the code every time.  (Though investing on making that scan fast helps the whole system.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-21T08:18:16Z' class='post-time'>
                    November 21, 2024,  8:18am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-21T08:23:30Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I'm a bit torn regarding default interpolation (and COMPOSE in general).</p>
<p>Conventional wisdom for interpolation or templating would be to use something fairly uncommon.</p>
<p>But if you can customize it and choose alternatives, that makes it seem like maybe you should capitalize on a more common thing...even if it competes for the notational space.</p>
<p><a href="https://github.com/red/REP/issues/112">Red gives some examples, e.g. in URL interpolation</a>, so consider something like:</p>
<pre><code>&gt;&gt; compose* http://(site)/(resource)?param=(date as "yyyy")
== http://example.com/whatever.html?param=1998
</code></pre>
<p>Compare that to:</p>
<pre><code>&gt;&gt; compose* http://{{site}}/{{resource}}?param={{date as "yyyy"}}
== http://example.com/whatever.html?param=1998
</code></pre>
<p>Something gets lost, there.</p>
<p>Single braces might be more out-of-band than parentheses, while not looking all that bad, and maybe two stars could be used when you want to double them up:</p>
<pre><code>&gt;&gt; compose* http://{site}/{resource}?param={date as "yyyy"}
== http://example.com/whatever.html?param=1998

&gt;&gt; compose** http://{{site}}/{{resource}}?param={{date as "yyyy"}}
== http://example.com/whatever.html?param=1998
</code></pre>
<p>Though it still doesn't look quite as good as the plain parentheses do.  And it has the problem that you're frequently interpolating braced strings:</p>
<pre><code>compose* -{Here's your {1 + 2} escape}-

compose* -{Here's your (1 + 2) escape}-  ; feels better
</code></pre>
<p>Parentheses could use the doubled-up shorthand idea with <code>**</code>:</p>
<pre><code>&gt;&gt; compose* http://(site)/(resource)?param=(date as "yyyy")
== http://example.com/whatever.html?param=1998

&gt;&gt; compose** http://((site))/((resource))?param=((date as "yyyy"))
== http://example.com/whatever.html?param=1998
</code></pre>
<p>There's a sort of weird logic to going with plain parentheses that I'm finding compelling.  On the surface it's naive, but in practice it may be that if you offer enough ways to raise and alter the escaping then picking something that simple makes sense.</p>
<p>I think that having the "real" COMPOSE be arity-2 helps the whole thing come across as less naive, because you're passing in not just a pattern but also a binding environment.  So saying <em>"look, this <code>compose*</code> and <code>print*</code> stuff is just for convenience, the real COMPOSE is solid"</em> feels more intelligent.</p>
<p>There's a non-zero benefit to aligning with historical Rebol in this design aspect.  (But certainly a lot of benefit from being able to customize the pattern!)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
