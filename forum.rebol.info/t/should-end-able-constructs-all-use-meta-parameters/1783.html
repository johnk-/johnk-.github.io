<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Should END-able constructs all use ^META parameters? - Internals - AltRebol</title>
    <meta name="description" content="R3-Alpha and Rebol2 could only have functions that were &amp;quot;endable&amp;quot; if the argument they took was quoted.  This feature was added primarily for HELP, so that you could say either: 
&amp;gt;&amp;gt; help
; (would display generic HELP usa&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1783.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Should END-able constructs all use ^META parameters?&#39;" href="1783.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/should-end-able-constructs-all-use-meta-parameters/1783" />
<meta name="twitter:url" content="https://forum.rebol.info/t/should-end-able-constructs-all-use-meta-parameters/1783" />
<meta property="og:title" content="Should END-able constructs all use ^META parameters?" />
<meta name="twitter:title" content="Should END-able constructs all use ^META parameters?" />
<meta property="og:description" content="R3-Alpha and Rebol2 could only have functions that were &quot;endable&quot; if the argument they took was quoted.  This feature was added primarily for HELP, so that you could say either:  &gt;&gt; help ; (would display generic HELP usage information)  &gt;&gt; help topic ; (would display help for the given topic)  It was a very limited form of variadic-ness...generally used only in console-oriented commands (HELP, LS).  You couldn&#39;t write a function that was evaluative, like:  redbol&gt;&gt; printer 1 + 2 3  redbol&gt;&gt; prin..." />
<meta name="twitter:description" content="R3-Alpha and Rebol2 could only have functions that were &quot;endable&quot; if the argument they took was quoted.  This feature was added primarily for HELP, so that you could say either:  &gt;&gt; help ; (would display generic HELP usage information)  &gt;&gt; help topic ; (would display help for the given topic)  It was a very limited form of variadic-ness...generally used only in console-oriented commands (HELP, LS).  You couldn&#39;t write a function that was evaluative, like:  redbol&gt;&gt; printer 1 + 2 3  redbol&gt;&gt; prin..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Internals" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="8 â¤" />
<meta property="article:published_time" content="2022-01-21T17:01:03+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1783.html">Should END-able constructs all use ^META parameters?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/internals.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Internals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Should END-able constructs all use ^META parameters?'>
        <meta itemprop='articleSection' content='Internals'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1783.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-01-21T17:01:03Z' class='post-time'>
                    January 21, 2022,  5:01pm
                  </time>
                  <meta itemprop='dateModified' content='2023-06-29T00:46:47Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <p>R3-Alpha and Rebol2 could only have functions that were "endable" if the argument they took was quoted.  This feature was added primarily for HELP, so that you could say either:</p>
<pre><code>&gt;&gt; help
; (would display generic HELP usage information)

&gt;&gt; help topic
; (would display help for the given topic)
</code></pre>
<p>It was a <em>very limited form of variadic-ness</em>...generally used only in console-oriented commands (HELP, LS).  You couldn't write a function that was evaluative, like:</p>
<pre><code>redbol&gt;&gt; printer 1 + 2
3

redbol&gt;&gt; printer
You called the PRINTER function with no arguments
    ; ^-- not possible to accomplish with an otherwise evaluative argument!
</code></pre>
<p>Being able to handle getting to the end of input was entwined with taking quoted arguments.</p>
<h2>
<a name="ren-c-added-end-able-evaluative-parameters-1" class="anchor" href="1783.html#ren-c-added-end-able-evaluative-parameters-1"></a>Ren-C added <code>&lt;end&gt;</code>-able Evaluative Parameters</h2>
<p>To facilitate certain demos in Ren Garden, Ren-C could mark an ordinary parameter as being <code>&lt;end&gt;</code>-able.  This would mean that the argument would show up as being NULL if the end was reached before an argument was seen.</p>
<p>This was--however--ambiguous with if you actually passed an evaluative NULL.</p>
<pre><code>ren-c&gt;&gt; printer 1 + 2
3

ren-c&gt;&gt; printer
You called the PRINTER function with no arguments

ren-c&gt;&gt; printer null  
You called the PRINTER function with no arguments  ; d'oh
</code></pre>
<p><strong>This kind of ambiguity wasn't new...the Redbol version had it.</strong>  The signal for quoted parameters that were endable-and-missing was to make the parameter an UNSET!.  Which meant they couldn't tell the difference between <strong>help #[unset!]</strong> and just-plain-help:</p>
<pre><code>red&gt;&gt; help #[unset!]
To use HELP, supply a word or value as its
argument:

    help insert
    help system
    help system/script

To view all words that...
</code></pre>
<p><strong>Interestingly enough, Ren-C has a solution for this with quoted parameters, because NULL cannot appear literally in source...so it can't be at the callsite.  Thus NULL can represent a missing quoted argument.</strong>  Which is neat.</p>
<h2>
<a name="meta-parameters-can-do-end-another-way-2" class="anchor" href="1783.html#meta-parameters-can-do-end-another-way-2"></a>^META parameters can do <code>&lt;end&gt;</code> another way...</h2>
<p>A meta parameter is quoted, but will be a quoted void if the callsite was passing a void:</p>
<p>So if our PRINTER took a ^META argument:</p>
<pre><code>&gt;&gt; printer 1 + 2
3
; (it actually received '3, quoted)

&gt;&gt; printer '
You called the PRINTER function with no arguments
; (it actually received ')
</code></pre>
<p>The ambiguity is still there, though...</p>
<pre><code>&gt;&gt; printer void
You called the PRINTER function with no arguments
; (again, it actually received ')
</code></pre>
<p><strong>But at least you could differentiate NULL from an end.</strong>  The conflation of an invisible argument with the end doesn't seem as troubling to me, as the problem with HELP is fixed since it quotes and can tell when you say <strong>help void</strong> vs. plain <strong>help</strong></p>
<h2>
<a name="killing-off-end-as-a-core-parameter-flag-would-simplify-things-3" class="anchor" href="1783.html#killing-off-end-as-a-core-parameter-flag-would-simplify-things-3"></a>Killing off <code>&lt;end&gt;</code> as a core parameter flag would simplify things...</h2>
<ul>
<li>
<p>If a quoted parameter tolerates NULL as one of its legal types that's sufficient to say it is "endable"</p>
</li>
<li>
<p>If an evaluative parameter needs to detect endability, it could be your job to make it a ^META parameter and look for void, and unquote it to handle other results.</p>
</li>
</ul>
<p>The code and typeset flags for <code>&lt;end&gt;</code> could then be scrapped.</p>
<p>If someone really liked the NULL conflating version of endability they could write something to do it in usermode.</p>
<p><strong>You'd have to see the code to understand why I would think throwing away <strong><code>&lt;end&gt;</code></strong> is worth it.</strong> The way the type checking is done frames have to be filled first, which means if a function doesn't want an actual null but wants just ends to reflect as null... or wants an actual null but doesn't want ends reflected as null... hidden bits need to be grafted onto these nulls at the time of frame fulfillment to say whether it's an "endish" null or a regular null.  Various parts of the system then need to test a NULL for this invisible property.  <strong>^META parameters pull such invisible state into the light.</strong></p>
<p><strong>Basically take my word for it: meta is much cleaner, and offers a way to expose these distinctions to the user--so I think the odds are that <code>&lt;end&gt;</code> and its current mechanics need to die.</strong></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1783.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-02-20T17:34:08Z' class='post-time'>
                    February 20, 2022,  5:34pm
                  </time>
                  <meta itemprop='dateModified' content='2022-02-20T17:34:08Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1783">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Killing off <code>&lt;end&gt;</code> as a core parameter flag would simplify things...</p>
</blockquote>
</aside>
<p>Trying to do this creates an unappealing situation, because it means all ^META parameters start accepting end conditions by default.  <img src="../../images/emoji/twitter/frowning.png%3Fv=9" title=":frowning:" class="emoji" alt=":frowning:"></p>
<p>That's a bit of an overreach.  Just because you say you want an argument to be passed via meta protocol, having to handle the ~void~ case of there being nothing there becomes a hassle.  Labeling things <code>&lt;end&gt;</code> is much more convenient, otherwise you will end up with a lot of accidental tolerance of ends...producing particularly troublemaking invisibility signals.</p>
<p>Nevertheless, I think we can say that if you care about the difference between an end and an evaluated NULL then we now have an answer: an endable ^META parameter which receives ~void~ can only get that if at an end.  With what I observed about <strong>^(...)</strong> I think we can say there are no "supermeta" parameters... so the only way you will get a ~void~ indication will be if the evaulation reaches an END (or a comma).</p>
<p>So "endish nulls" are dying, which should get rid of bugs like this:</p>
<aside class="onebox githubissue">
  <header class="source">
      <a href="https://github.com/metaeducation/ren-c/issues/1129" target="_blank" rel="noopener">github.com/metaeducation/ren-c</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewbox="0 0 14 16" aria-hidden="true"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/metaeducation/ren-c/issues/1129" target="_blank" rel="noopener">END being tolerated when it shouldn't</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2021-07-06" data-time="03:35:27" data-timezone="UTC">03:35AM - 06 Jul 21 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/hostilefork" target="_blank" rel="noopener">
          <img alt="hostilefork" src="https://avatars.githubusercontent.com/u/20440?v=4" class="onebox-avatar-inline" width="20" height="20">
          hostilefork
        </a>
      </div>
    </div>
  </div>
</div>

<div class="github-row">
  <p class="github-content">&gt;&gt; collect [keep/line [a b c] keep/dup/line [d e f]]
== [
 a b c
 d e f
]
Is missing /DUP count, this...</p>
</div>

<div class="labels">
    <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">type.bug</span>
</div>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1783.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-25T14:45:20Z' class='post-time'>
                    August 25, 2022,  2:45pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-25T14:45:20Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1783">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>But at least you could differentiate NULL from an end. The conflation of an invisible argument with the end doesn't seem that troubling to me, as the problem with HELP is fixed since it quotes and can tell when you say <strong>help ~void~</strong> vs. plain <strong>help</strong></p>
</blockquote>
</aside>
<p><strong>...but now...there is a solution!</strong></p>
<p>I've mentioned how we're now at a point where when you ^META things you always get something that's either QUOTED! or QUASI!, <a href="https://forum.rebol.info/t/the-meta-of-null-and-void/1941">because the edges of VOID and NULL are now spoken for</a></p>
<pre><code>&gt;&gt; meta null
== '

&gt;&gt; meta void
== ~
</code></pre>
<p>That leaves a ton of representations open for what an <code>&lt;end&gt;</code> could be... but of course the best one jumps out at us right away... NULL !</p>
<p><strong>NULL is now a viable ^META answer for "I couldn't even get you that meta argument you wanted"!</strong>  And it has just the right amount of orneryness.  Easy to check for, and you won't likely be passing it on to places</p>
<p>With that issue solved, we can come back to the original question:</p>
<h2>Should END-able constructs all use ^META parameters?</h2>
<p>I have reasons beyond the scope of this post, but:</p>
<ul>
<li>
<p>I think you should be able to make any parameter endable</p>
</li>
<li>
<p>It's probably best if NULL is used to represent that across the board.</p>
</li>
<li>
<p>This doesn't create conflation in the case of quoted arguments (you can't quote a NULL because nulls can't exist in the input array or variadic feed)</p>
</li>
<li>
<p>There won't be conflation for typed normal parameters, like <strong><code>arg [word! integer! &lt;end&gt;]</code></strong></p>
<ul>
<li>If the conflation bothers you then you are officially a fancy-pants client... use <strong><code>^arg</code></strong>
</li>
</ul>
</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="1783.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-06-21T20:13:27Z' class='post-time'>
                    June 21, 2023,  8:13pm
                  </time>
                  <meta itemprop='dateModified' content='2023-06-21T20:56:26Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="1783">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<ul>
<li>I think you should be able to make any parameter endable</li>
<li>It's probably best if NULL is used to represent that across the board.</li>
<li>This doesn't create conflation in the case of quoted arguments (you can't quote a NULL because nulls can't exist in the input array or variadic feed)</li>
<li>There won't be conflation for typed normal parameters, like <strong><code>arg [word! integer! &lt;end&gt;]</code></strong>
</li>
<li>If the conflation bothers you then you are officially a fancy-pants client... use <strong><code>^arg</code></strong>
</li>
</ul>
</blockquote>
</aside>
<p>This was the right spirit, but <a href="../match-in-rust-vs-switch/1835/5.html">given some further thought</a> I am proposing to go ahead and reserve the isotopic word of <strong>~end~</strong> for this purpose (and in general, go ahead and probably reserve all isotopic words for system use)</p>
<p><strong>If your argument is endable and not ^META, it will be something like this.</strong></p>
<pre><code>&gt;&gt; foo
Congratulations, you got an ~end~ isotope

&gt;&gt; foo ~end~
** Error: ~end~ is not a legitimate callsite argument

&gt;&gt; f: make frame! :foo
== make frame! [value: ~]

&gt;&gt; f.value: ~end~
&gt;&gt; do f
Congratulations, you got an ~end~ isotope
</code></pre>
<p><strong>If your argument is ^META and not endable, you can get this</strong></p>
<pre><code>&gt;&gt; bar
** Error: bar.value is not endable

&gt;&gt; bar ~end~
Congratulations, you got an ~end~ quasiform

&gt;&gt; f: make frame! :bar
== make frame! [value: ~]

&gt;&gt; f.value: ~end~
&gt;&gt; do f
** Error: bar.value is not endable

&gt;&gt; f: make frame! :bar
== make frame! [value: ~]

&gt;&gt; f.value: '~end~
&gt;&gt; do f
Congratulations, you got an ~end~ quasiform
</code></pre>
<p><strong>And if you have an endable ^META parameter, it meshes both possibilities together:</strong></p>
<pre><code>&gt;&gt; baz
Congratulations, you got an ~end~ isotope

&gt;&gt; baz ~end~
Congratulations, you got an ~end~ quasiform

&gt;&gt; f: make frame! :baz
== make frame! [value: ~]

&gt;&gt; f.value: ~end~
&gt;&gt; do f
Congratulations, you got an ~end~ isotope

&gt;&gt; f: make frame! :baz
== make frame! [value: ~]

&gt;&gt; f.value: '~end~
&gt;&gt; do f
Congratulations, you got an ~end~ quasiform
</code></pre>
<p>...under these rules <em>there is no conflation</em>...</p>
<p><strong>Functions only receive ~end~ isotopes on <code>&lt;end&gt;</code>-able parameters, but those isotopes can come from deliberate assignment in frames as well as an end encountered at the callsite.</strong></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../line-continuation-and-arity-bugs-thoughts/1965/3.html">Line Continuation and Arity Bugs: Thoughts?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
