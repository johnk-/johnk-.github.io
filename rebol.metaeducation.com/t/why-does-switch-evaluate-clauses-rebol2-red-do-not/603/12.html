<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not) - #12 by hostilefork - Questions - AltRebol</title>
    <meta name="description" content="In Ren-C, we evaluate expressions in SWITCH: 
x: 304
switch x [
   300 + 4 [
       print &amp;quot;this prints in Ren-C&amp;quot;
   ]
   ...
]

That is not the case in Rebol2/etc.  You get instead the likes of: 
 switch &amp;#39;+ [
     300 + &amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../../facing-the-facts-switch-must-evaluate-clauses/603.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not)&#39;" href="../603.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/why-does-switch-evaluate-clauses-rebol2-red-do-not/603/12" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/why-does-switch-evaluate-clauses-rebol2-red-do-not/603/12" />
<meta property="og:title" content="Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not)" />
<meta name="twitter:title" content="Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not)" />
<meta property="og:description" content="So on this note: what if we presume values and branches alternate, unless COMMA! is used...in which case each element of the comma clause is assumed to be a value to match?  That would avoid the explicit search for BLOCK!, allowing QUOTED! and GROUP! branches:  &gt;&gt; x: 5 &gt;&gt; switch x [    1 [2 3]    4, 5 &#39;[6] ] == [6]  You&#39;d be able to switch on blocks:  &gt;&gt; x: [a b] &gt;&gt; switch x [     [a b] [print &quot;first match!&quot;]  ] first match!  &gt;&gt; x: [a b] &gt;&gt; switch x [     [a b], [c d] [print &quot;first match!&quot;]  ] ..." />
<meta name="twitter:description" content="So on this note: what if we presume values and branches alternate, unless COMMA! is used...in which case each element of the comma clause is assumed to be a value to match?  That would avoid the explicit search for BLOCK!, allowing QUOTED! and GROUP! branches:  &gt;&gt; x: 5 &gt;&gt; switch x [    1 [2 3]    4, 5 &#39;[6] ] == [6]  You&#39;d be able to switch on blocks:  &gt;&gt; x: [a b] &gt;&gt; switch x [     [a b] [print &quot;first match!&quot;]  ] first match!  &gt;&gt; x: [a b] &gt;&gt; switch x [     [a b], [c d] [print &quot;first match!&quot;]  ] ..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Questions" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="article:published_time" content="2021-02-27T21:12:59+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../../facing-the-facts-switch-must-evaluate-clauses/603.html">Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Questions</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Why does SWITCH Evaluate Clauses? (Rebol2/Red Do Not)'>
      <link itemprop='url' href='../../facing-the-facts-switch-must-evaluate-clauses/603.html'>
      <meta itemprop='datePublished' content='2018-05-05T19:06:58Z'>
        <meta itemprop='articleSection' content='Questions'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='In Ren-C, we evaluate expressions in SWITCH: 
x: 304
switch x [
   300 + 4 [
       print &amp;quot;this prints in Ren-C&amp;quot;
   ]
   ...
]

That is not the case in Rebol2/etc.  You get instead the likes of: 
 switch &amp;#39;+ [
     300 + &amp;hellip;'>

          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-27T21:12:59Z' class='post-time'>
                    February 27, 2021,  9:12pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-27T21:24:31Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="rgchris" data-post="11" data-topic="603">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p>Benefits from expression barrier, be it comma or other:</p>
<pre><code>switch true [
    expression-1 [...]
    expression-2,
    expression-3 [...]
]
</code></pre>
</blockquote>
</aside>
<p>So on this note: what if we presume values and branches alternate, unless COMMA! is used...in which case each element of the comma clause is assumed to be a value to match?</p>
<p>That would avoid the explicit search for BLOCK!, allowing QUOTED! and GROUP! branches:</p>
<pre><code>&gt;&gt; x: 5
&gt;&gt; switch x [
   1 [2 3]
   4, 5 '[6]
]
== [6]
</code></pre>
<p>You'd be able to switch on blocks:</p>
<pre><code>&gt;&gt; x: [a b]
&gt;&gt; switch x [
    [a b] [print "first match!"]
 ]
first match!

&gt;&gt; x: [a b]
&gt;&gt; switch x [
    [a b], [c d] [print "first match!"]
 ]
first match!

&gt;&gt; x: [a b]
&gt;&gt; switch x [
    [a b], [c d] '[print "first match!"]
 ]
== [print "first match!"]
</code></pre>
<p>You'd still be able to match commas, though we might have to make it legal to say <strong><code>',,</code></strong> ... for now it works if you space it out:</p>
<pre><code>&gt;&gt; x: ',
&gt;&gt; switch x [
   1, ', , 2 [print "match!"]
]
match!
</code></pre>
<p>Weird, but, if it comes up you could express it.  For those concerned with legibility, there's other ways since it's an evaluative slot:</p>
<pre><code>switch x [
    1, first [,], 2 [print "match!"]
]
</code></pre>
<p>This seems like it might be a good compromise, and normal cases should look pretty good:</p>
<pre><code>switch type of x [
    integer!, block! [
        print "It was an integer or a block"
    ]
 ]
</code></pre>
<p>The same feature could be implemented for CASE.  Since commas cannot appear internally to single expressions, the only place they could have appeared would have been right before the branch anyway.</p>
<pre><code>case [
     x &gt; 5, x &lt; 20 [
         print "This would be kind of cool, eh?"
     ]
     y &gt; 10,
     y &lt; 1000 [
        print "Looks good with multiple lines too."
    ]
]
</code></pre>
<p>But in that situation you could have done it before with an ANY [ ].  Still, it looks pretty nice.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../match-in-rust-vs-switch/1835.html">MATCH in Rust vs. SWITCH</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../../facing-the-facts-switch-must-evaluate-clauses/603.html#post_12">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
