<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Why do ANY and ALL ignore VOID, when IF errors on it? - Questions - AltRebol</title>
    <meta name="description" content="The evolution of &amp;quot;invisibility&amp;quot; in Ren-C gave rise to two &amp;quot;vaporizing intents&amp;quot; the VOID and GHOST antiforms. 
The default evaluator (and UPARSE) accept that void is an &amp;quot;opt-out state&amp;quot; that can&amp;#39;t be put in blocks.  But th&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="2040.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Why do ANY and ALL ignore VOID, when IF errors on it?&#39;" href="2040.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/why-do-any-and-all-ignore-void-when-if-errors-on-it/2040" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/why-do-any-and-all-ignore-void-when-if-errors-on-it/2040" />
<meta property="og:title" content="Why do ANY and ALL ignore VOID, when IF errors on it?" />
<meta name="twitter:title" content="Why do ANY and ALL ignore VOID, when IF errors on it?" />
<meta property="og:description" content="The evolution of &quot;invisibility&quot; in Ren-C gave rise to two &quot;vaporizing intents&quot; the VOID and GHOST antiforms.  The default evaluator (and UPARSE) accept that void is an &quot;opt-out state&quot; that can&#39;t be put in blocks.  But they don&#39;t vaporize VOID on a whim: it will still be the result of expressions whose last result is a void.  &gt;&gt; 1 + 2 void == ~[]~  ; anti  On the other hand, the antiform comma of GHOST truly vaporizes unless you pipe it around with ^META:  &gt;&gt; 1 + 2 ghost == 3  This means it&#39;s up ..." />
<meta name="twitter:description" content="The evolution of &quot;invisibility&quot; in Ren-C gave rise to two &quot;vaporizing intents&quot; the VOID and GHOST antiforms.  The default evaluator (and UPARSE) accept that void is an &quot;opt-out state&quot; that can&#39;t be put in blocks.  But they don&#39;t vaporize VOID on a whim: it will still be the result of expressions whose last result is a void.  &gt;&gt; 1 + 2 void == ~[]~  ; anti  On the other hand, the antiform comma of GHOST truly vaporizes unless you pipe it around with ^META:  &gt;&gt; 1 + 2 ghost == 3  This means it&#39;s up ..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Questions" />
<meta property="og:article:section:color" content="3AB54A" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />
<meta property="article:published_time" content="2023-06-29T02:09:57+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2040.html">Why do ANY and ALL ignore VOID, when IF errors on it?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Questions</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Why do ANY and ALL ignore VOID, when IF errors on it?'>
      <link itemprop='url' href='2040.html'>
      <meta itemprop='datePublished' content='2023-06-29T02:09:57Z'>
        <meta itemprop='articleSection' content='Questions'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2040.html">


              <span class="crawler-post-infos">
                  <time  datetime='2023-06-29T02:09:57Z' class='post-time'>
                    June 29, 2023,  2:09am
                  </time>
                  <meta itemprop='dateModified' content='2025-06-01T20:22:24Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The evolution of "invisibility" in Ren-C gave rise to two "vaporizing intents" <a href="../invisibility-reviewed-through-modern-eyes/2034.html">the VOID and GHOST antiforms</a>.</p>
<p>The default evaluator (and UPARSE) accept that void is an "opt-out state" that can't be put in blocks.  But they don't vaporize VOID on a whim: it will still be the result of expressions whose last result is a void.</p>
<pre><code>&gt;&gt; 1 + 2 void
== ~[]~  ; anti
</code></pre>
<p>On the other hand, the antiform comma of GHOST truly vaporizes unless you pipe it around with ^META:</p>
<pre><code>&gt;&gt; 1 + 2 ghost
== 3
</code></pre>
<p>This means it's up to constructs to decide if they want to erase voids or not.  DELIMIT does, so you will see that reflected in things like UNSPACED.</p>
<p>Here's a few ways of making voids:</p>
<pre><code>&gt;&gt; unspaced ["A" (if 1 &gt; 2 ["B"] else [void]) "C"]
== "AC"

&gt;&gt; unspaced ["A" (if 1 &gt; 2 ["B"] else []) "C"]
== "AC"

&gt;&gt; unspaced ["A" (opt if 1 &gt; 2 ["B"]) "C"]
== "AC"

&gt;&gt; unspaced ["A" (? if 1 &gt; 2 ["B"]) "C"]
== "AC"

&gt;&gt; unspaced ["A" (when 1 &gt; 2 ["B"]) "C"]
== "AC"
</code></pre>
<p>COMPOSE vaporizes void slots (and errors on null ones).  <a href="../vaporizing-failed-conditionals-in-reduce/1665.html">REDUCE is currently vaporizing VOID</a> because it seems like the default people want.</p>
<h2><a name="p-6643-but-what-should-any-and-all-do-1" class="anchor" href="2040.html#p-6643-but-what-should-any-and-all-do-1"></a>But What Should ANY and ALL Do?</h2>
<p>We can consider that VOID is neither truthy nor falsey, and IF will reject it:</p>
<pre><code>&gt;&gt; if (if false [true]) [&lt;unreachable&gt;]
** Error: IF doesn't accept VOID as its condition argument
</code></pre>
<p>When there was no VOID/GHOST distinction, then ANY and ALL were backed into a corner.  If they decided to error on void, you couldn't use an ELIDE or ASSERT in the middle of them.  If they didn't error on VOID then the risk was that you could write something like <strong><code>all [1 = 1, 2 = 2, while [...] [...]]</code></strong> and if the while was just incidentally void you'd get the 2 = 2 result, which may not have been your intent.</p>
<p>Today, things like ELIDE and ASSERT return GHOST and can be safely vaporized by ANY and ALL.  This would seem to open up the choice to be consistent with IF, in erroring on voids as being neither true nor false.</p>
<p>One might suggest that if you really want to erase voids...you'd have something that converted voids to ghosts (call it ELIDE-IF-VOID, or VANISH, or whatever)</p>
<pre><code>&gt;&gt; all [1 = 1, 2 = 2, some-void-expr]
** Error: SOME-VOID-EXPR is VOID which is neither truthy nor falsey

&gt;&gt; all [1 = 1, 2 = 2, elide-if-void some-void-expr]
== ~okay~  ; anti
</code></pre>
<h2><a name="p-6643-things-like-for-bothhttpsrebolmetaeducationcomtdemonstrating-for-both-loop-composability-for-the-win1833-would-get-more-awkward-2" class="anchor" href="2040.html#p-6643-things-like-for-bothhttpsrebolmetaeducationcomtdemonstrating-for-both-loop-composability-for-the-win1833-would-get-more-awkward-2"></a>Things Like <a href="../demonstrating-for-both-loop-composability-for-the-win/1833.html">FOR-BOTH</a> Would Get More Awkward...</h2>
<p>I was fairly proud of this formulation:</p>
<pre><code>for-both: func [var blk1 blk2 body] [
    return unlift:lite all [
        lift:lite for-each var blk1 body
        lift:lite for-each var blk2 body
    ]
]
</code></pre>
<p>(I wound up deciding that LIFT would lift everything--including pure null and void--so the LITE was probably best included as the alternative formulation.)</p>
<p>But if ALL and ANY errored on void, and you had to erase it, this would become:</p>
<pre><code>for-both: func [var blk1 blk2 body] [
    return unlift:lite all [
        elide-if-void lift:lite for-each var blk1 body
        elide-if-void lift:lite for-each var blk2 body
    ]
]
</code></pre>
<p>If I put on my formalism hat, I can see how this is <em>safer</em>.  But I've made similar arguments about why I don't want this:</p>
<pre><code>&gt;&gt; compose [a (if 1 &gt; 2 ['b] else []) c]
** Error: COMPOSE cannot erase VOID (use ELIDE-IF-VOID if intentional)

&gt;&gt; compose [a (elide-if-void if 1 &gt; 2 ['b] else []) c]
== [a c]
</code></pre>
<p>It is admittedly a bit different in ANY and ALL's case, because they're mixing in a test for truthiness.  But erasing voids by default has other advantages in writing wild control constructs.</p>
<h2><a name="p-6643-erroring-when-you-dont-have-to-inhibits-creativity-3" class="anchor" href="2040.html#p-6643-erroring-when-you-dont-have-to-inhibits-creativity-3"></a>Erroring When You Don't Have To Inhibits Creativity</h2>
<p><strong>When all things are mostly equal, safety isn't as compelling as enabling creativity in my current view of the language.</strong></p>
<p>I haven't seen any bad consequences of vaporizing the voids.  Yet the conveniences have been proven.</p>
<p>So that's the decision that has been made.  If you want to make a version of ANY and ALL that error on voids, you can do so with a :PREDICATE.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../*what-are-null-void-nothing-blank-and-nihil/2283.html">What Are NULL, VOID, and TRASH?</a>
                        <meta itemprop='position' content='4'>
                      </div>
                </div>
          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
