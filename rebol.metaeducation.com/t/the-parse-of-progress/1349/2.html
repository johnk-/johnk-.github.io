<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>The PARSE of PROGRESS - #2 by hostilefork - Parsing - AltRebol</title>
    <meta name="description" content="There has been a lot of fiddling over time with PARSE&amp;#39;s return value.  :violin: 
It was long believed that a failed PARSE should return NULL.  This would make it play nicely with ELSE and THEN.  The question was thus wha&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1349.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;The PARSE of PROGRESS&#39;" href="../1349.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/the-parse-of-progress/1349/2" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/the-parse-of-progress/1349/2" />
<meta property="og:title" content="The PARSE of PROGRESS" />
<meta name="twitter:title" content="The PARSE of PROGRESS" />
<meta property="og:description" content="I&#39;ve mentioned that this is pretty easy to write.  But it doesn&#39;t mean there shouldn&#39;t be a name for it...  It seems to me a reasonably good name for this is PARSE-THRU..  &gt;&gt; parse-thru &quot;aaabbb&quot; [some &quot;a&quot;] == &quot;bbb&quot;  It can be implemented any number of ways, but an easy one is to ADAPT the rules slightly before running the PARSE.  Since RULES is a BLOCK!, you can just compose it in, and follow it with an ACCEPT of wherever the current position is.  /parse-thru: adapt parse/ [     rules: compose ..." />
<meta name="twitter:description" content="I&#39;ve mentioned that this is pretty easy to write.  But it doesn&#39;t mean there shouldn&#39;t be a name for it...  It seems to me a reasonably good name for this is PARSE-THRU..  &gt;&gt; parse-thru &quot;aaabbb&quot; [some &quot;a&quot;] == &quot;bbb&quot;  It can be implemented any number of ways, but an easy one is to ADAPT the rules slightly before running the PARSE.  Since RULES is a BLOCK!, you can just compose it in, and follow it with an ACCEPT of wherever the current position is.  /parse-thru: adapt parse/ [     rules: compose ..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Parsing" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="article:published_time" content="2025-03-07T00:32:05+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1349.html">The PARSE of PROGRESS</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/parsing/16" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/parsing/16" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Parsing</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='The PARSE of PROGRESS'>
      <link itemprop='url' href='../1349.html'>
      <meta itemprop='datePublished' content='2020-09-28T17:02:25Z'>
        <meta itemprop='articleSection' content='Parsing'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='There has been a lot of fiddling over time with PARSE&amp;#39;s return value.  :violin: 
It was long believed that a failed PARSE should return NULL.  This would make it play nicely with ELSE and THEN.  The question was thus wha&amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-03-07T00:32:05Z' class='post-time'>
                    March 7, 2025, 12:32am
                  </time>
                  <meta itemprop='dateModified' content='2025-05-11T11:58:04Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<ol>
<li>Returning how far a successful parse got was strictly more informative, as the information on a partial process is difficult to reconstruct otherwise.</li>
</ol>
<p>For at least some time, <a class="mention" href="https://rebol.metaeducation.com/u/rgchris">@rgchris</a> favored <span class="hashtag-raw">#3</span></p>
</blockquote>
</aside>
<p>I've mentioned that this is pretty easy to write.  But it doesn't mean there shouldn't be a name for it...</p>
<p>It seems to me a reasonably good name for this is <strong><code>PARSE-THRU</code></strong>..</p>
<pre><code>&gt;&gt; parse-thru "aaabbb" [some "a"]
== "bbb"
</code></pre>
<p>It can be implemented any number of ways, but an easy one is to ADAPT the rules slightly before running the PARSE.  Since RULES is a BLOCK!, you can just compose it in, and follow it <a href="../../uparses-spin-on-return/1589.html">with an ACCEPT</a> of wherever the current position is.</p>
<pre><code>/parse-thru: adapt parse/ [
    rules: compose [(rules) accept &lt;here&gt;]
]
</code></pre>
<p>This will default to erroring if it doesn't match, so you'd have to use <code>try parse-thru</code> if you wanted a null when there was a deliberate mismatch:</p>
<pre><code>&gt;&gt; parse-thru "bbbaaa" [some "a"]
** Error: PARSE BLOCK! combinator did not match input

&gt;&gt; try parse-thru "bbbaaa" [some "a"]
== ~null~
</code></pre>
<p>If you want to work around this, there's lots of ways to do it.  You could make an alternative to return null:</p>
<pre><code>/parse-thru: adapt parse/ [
    rules: compose:deep [[(rules) accept &lt;here&gt;] | accept null]
]
</code></pre>
<p>Or rig it up so that the rule is optional, and use PARSE:RELAX to remove the requirement that it reach the end:</p>
<pre><code>/parse-thru: adapt parse:relax/ [
    rules: compose*:deep [opt [(rules) accept &lt;here&gt;]]
]
</code></pre>
<p>Lots of ways to get the effect:</p>
<pre><code>&gt;&gt; parse-thru "bbbaaa" [some "a"]
== ~null~  ; anti
</code></pre>
<h2><a name="p-8024-another-interesting-interface-parse-match-1" class="anchor" href="2.html#p-8024-another-interesting-interface-parse-match-1"></a>Another Interesting Interface: PARSE-MATCH</h2>
<p>Being able to get the input, or a NULL, can be useful as well.  Similar technique will get it, just swap the <strong><code>&lt;input&gt;</code></strong> combinator for the <strong><code>&lt;here&gt;</code></strong> combinator, and don't remove the requirement to reach the end:</p>
<pre><code>/parse-match: adapt parse/ [
    rules: compose [(rules) &lt;end&gt; &lt;input&gt; | accept null]
]

&gt;&gt; parse-match "aaabbb" [some "a" some "b"]
== "aaabbb"

&gt;&gt; parse-match "bbbaaa" [some "a" some "b"]
== ~null~  ; anti

&gt;&gt; parse-match "aaabbb" [some "a"]
== ~null~  ; anti
</code></pre>
<h2><a name="p-8024-endless-possibilities-but-how-to-compose-them-2" class="anchor" href="2.html#p-8024-endless-possibilities-but-how-to-compose-them-2"></a>Endless Possibilities... But How To Compose Them?</h2>
<p>In the <strong><a href="../../visual-parse-on-the-web-has-arrived/1837.html">Visual Parse Demo</a></strong> I showed how a tweaked PARSE variant, that I called <strong>eparse</strong>, could be rigged up to make underlines in the web-based text editor for anything you marked with a MARK combinator (with rollback, such that marks would not be made if the whole rule did not ultimately match...)</p>
<p>So do you have to write <code>EPARSE-THRU</code> and <code>EPARSE-MATCH</code>?</p>
<p>If instead of having these modes be done with wrappers--that they were instead refinements on PARSE itself--you'd get <code>EPARSE:THRU</code> and <code>EPARSE:MATCH</code> "for free".  Perhaps they could be more efficient in their implementation as well.</p>
<p>But then you start having situations where people can do nonsensical combinatorics, like <strong><code>eparse:thru:match</code></strong>.  <img src="../../../images/emoji/twitter/frowning.png%3Fv=14" title=":frowning:" class="emoji" alt=":frowning:" loading="lazy" width="20" height="20"></p>
<h3><a name="p-8024-or-weird-idea-could-parse-have-some-other-hookability-3" class="anchor" href="2.html#p-8024-or-weird-idea-could-parse-have-some-other-hookability-3"></a>...or (Weird Idea) Could PARSE Have Some Other Hookability?</h3>
<p>It might be that if you ask to PARSE an OBJECT!, that the object could act as some kind of specification... like providing the combinators and where to look for the data.</p>
<p>e.g. <strong><code>parse editor [some "a"]</code></strong> could look at the editor object, and have behaviors particular to that object.  This would mean that <strong><code>parse-match editor [some "a"]</code></strong> could work as well.</p>
<h2><a name="p-8024-separate-entry-points-vs-refinements-is-the-safer-bet-4" class="anchor" href="2.html#p-8024-separate-entry-points-vs-refinements-is-the-safer-bet-4"></a>Separate Entry Points vs. Refinements Is The Safer Bet</h2>
<p>In the scheme of things, having PARSE-MATCH and a PARSE-THRU entry points is easiest, because you'll be able to do that regardless.</p>
<p>But like I say, the default being the synthesized result of the rules... with error by default if a match or ACCEPT is not reached... that's a super powerful default that I'm really happy with.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1349.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
