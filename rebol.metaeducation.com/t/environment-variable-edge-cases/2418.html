<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Environment Variable Edge Cases - System Tools - AltRebol</title>
    <meta name="description" content="Environment variables have some nasty edge cases 
Windows Environment Var Names are not Case-Sensitive
Whoever sets the variable first lays claim to the case, so: 
C:\&amp;gt; set WHATEVER=&amp;quot;foo&amp;quot;

C:\&amp;gt; set WhAtEvEr=&amp;quot;bar&amp;quot;

If yo&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="2418.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Environment Variable Edge Cases&#39;" href="2418.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/environment-variable-edge-cases/2418" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/environment-variable-edge-cases/2418" />
<meta property="og:title" content="Environment Variable Edge Cases" />
<meta name="twitter:title" content="Environment Variable Edge Cases" />
<meta property="og:description" content="Environment variables have some nasty edge cases  Windows Environment Var Names are not Case-Sensitive Whoever sets the variable first lays claim to the case, so:  C:\&gt; set WHATEVER=&quot;foo&quot;  C:\&gt; set WhAtEvEr=&quot;bar&quot;  If you list the environment variables after that, it will say WHATEVER=&quot;bar&quot;  I nearly hate this enough to want to fix it by layering on a case-sensitive default behavior, and try and force Windows users to straighten out their systems and use consistent casing.  &gt;&gt; env.WhAtEvEr: &quot;bar..." />
<meta name="twitter:description" content="Environment variables have some nasty edge cases  Windows Environment Var Names are not Case-Sensitive Whoever sets the variable first lays claim to the case, so:  C:\&gt; set WHATEVER=&quot;foo&quot;  C:\&gt; set WhAtEvEr=&quot;bar&quot;  If you list the environment variables after that, it will say WHATEVER=&quot;bar&quot;  I nearly hate this enough to want to fix it by layering on a case-sensitive default behavior, and try and force Windows users to straighten out their systems and use consistent casing.  &gt;&gt; env.WhAtEvEr: &quot;bar..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="System Tools" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="article:published_time" content="2025-04-17T18:39:29+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2418.html">Environment Variable Edge Cases</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/system-tools/17" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/system-tools/17" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>System Tools</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Environment Variable Edge Cases'>
      <link itemprop='url' href='2418.html'>
      <meta itemprop='datePublished' content='2025-04-17T18:39:29Z'>
        <meta itemprop='articleSection' content='System Tools'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2418.html">


              <span class="crawler-post-infos">
                  <time  datetime='2025-04-17T18:39:29Z' class='post-time'>
                    April 17, 2025,  6:39pm
                  </time>
                  <meta itemprop='dateModified' content='2025-04-20T18:18:41Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="1857">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"><a href="../from-get-env-foo-to-environment-foo-to-env-foo-to-foo/1857/3.html">From (get-env "FOO") to (environment.FOO) to (env.FOO) to $FOO</a></div>
<blockquote>
<p>We have standardized methods now where if you say <strong><code>env.FOO</code></strong> and it doesn't find it, then you get a raised error. So you say <strong><code>try env.FOO</code></strong> and get NULL, or <strong><code>maybe env.FOO</code></strong> and get VOID.</p>
</blockquote>
</aside>
<p>Environment variables have some nasty edge cases</p>
<h2><a name="p-8153-windows-environment-var-names-are-not-case-sensitive-1" class="anchor" href="2418.html#p-8153-windows-environment-var-names-are-not-case-sensitive-1"></a>Windows Environment Var Names are not Case-Sensitive</h2>
<p>Whoever sets the variable first lays claim to the case, so:</p>
<pre><code>C:\&gt; set WHATEVER="foo"

C:\&gt; set WhAtEvEr="bar"
</code></pre>
<p>If you list the environment variables after that, it will say <strong><code>WHATEVER="bar"</code></strong></p>
<p>I nearly hate this enough to want to fix it by layering on a case-sensitive default behavior, and try and force Windows users to straighten out their systems and use consistent casing.</p>
<pre><code>&gt;&gt; env.WhAtEvEr: "bar"
** Error: existing environment variable casing is WHATEVER, not WhAtEvEr
</code></pre>
<p>Beyond just bringing about more sanity in the world, this would mean your programs would run better cross-platform (as I try to maintain Windows, Mac, Linux, HaikuOS, etc. I'm particularly attuned to when these undesirable design choices make that miserable.)</p>
<p>It's technically possible to do this.  But you'd need a way to get past it if.</p>
<ul>
<li>
<p>There could be a setting on the ENVIRONMENT! you can tweak regarding case sensitivity.</p>
</li>
<li>
<p>It could be a difference in behavior between WORD! lookup and TEXT! lookup</p>
<ul>
<li>(I like this less, because it seems unmotivated)</li>
</ul>
</li>
</ul>
<h2><a name="p-8153-empty-strings-unset-variables-but-apis-confuse-2" class="anchor" href="2418.html#p-8153-empty-strings-unset-variables-but-apis-confuse-2"></a>Empty Strings &lt;&gt; Unset Variables (But APIs Confuse...)</h2>
<p>Setting an environment variable to an empty string is possible, and it's not the same as the environment variable not being set.</p>
<p>The prescriptivist in me says you should avoid this pattern.  One thought I have is that this could be a "null-vs-trash-vs-text" distinction, e.g. if:</p>
<pre><code>C:\&gt; set SOME_VAR=""
</code></pre>
<p>Then...</p>
<pre><code>&gt;&gt; env.SOME_VAR
== ~null~  ; anti
</code></pre>
<p>Basically, disallow you from setting environment variables to empty strings, and consider that empty state to be something you have to handle specially.</p>
<p>Although...this dovetails in an interestingly with raised errors for variables that aren't there:</p>
<pre><code>&gt;&gt; env.ASDFASDF
** Error: ASDFASDF not assigned in environment
</code></pre>
<p>Because TRY converts that raised error to a null (and I'm considering this to be what leading-colon does, which is an interesting parallel to history, though it will give you null and not a TRASH antiform):</p>
<pre><code>&gt;&gt; try env.ASDFASDF
== ~null~  ; anti

&gt;&gt; :env.ASDFASDF
== ~null~  ; anti
</code></pre>
<p>This means that if you're willing to accept non-set environment variables, you can conflate their intents just by getting null for them and environment variables set to empty strings.  If you need to discern them, then you'd use EXCEPT or TRAP to say what to do with the not set case differently from the set to empty string case.</p>
<p>I like it... BUT I'm not so keen on letting you set environment variables to NULL and producing empty strings casually, when what you meant to do was set them to TRASH to remove them.  But you have to know the difference when setting fields in objects.</p>
<p>Anyway, just throwing this out there.  As usual, I think we have opportunities to be a force for sanity, and there can always be a fallback for people who want to live in the ugly world... just don't make ugly the default.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
