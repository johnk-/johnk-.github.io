<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Some IPv6 Address Examples - Lexer - AltRebol</title>
    <meta name="description" content="If someone is going to parse ipv6 addresses, can you give a good spread of examples of the edge cases and things to worry about?  A good list of ipv6 addresses that is fairly short but gives coverage of the kinds of thi&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="2496.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Some IPv6 Address Examples&#39;" href="2496.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/some-ipv6-address-examples/2496" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/some-ipv6-address-examples/2496" />
<meta property="og:title" content="Some IPv6 Address Examples" />
<meta name="twitter:title" content="Some IPv6 Address Examples" />
<meta property="og:description" content="If someone is going to parse ipv6 addresses, can you give a good spread of examples of the edge cases and things to worry about?  A good list of ipv6 addresses that is fairly short but gives coverage of the kinds of things you need to support?    IPv6 Address Parsing Test Cases Basic Format Variations 2001:0db8:85a3:0000:0000:8a2e:0370:7334     # Full format 2001:db8:85a3:0:0:8a2e:370:7334             # Leading zeros omitted 2001:db8:85a3::8a2e:370:7334                # Zero compression  Zero C..." />
<meta name="twitter:description" content="If someone is going to parse ipv6 addresses, can you give a good spread of examples of the edge cases and things to worry about?  A good list of ipv6 addresses that is fairly short but gives coverage of the kinds of things you need to support?    IPv6 Address Parsing Test Cases Basic Format Variations 2001:0db8:85a3:0000:0000:8a2e:0370:7334     # Full format 2001:db8:85a3:0:0:8a2e:370:7334             # Leading zeros omitted 2001:db8:85a3::8a2e:370:7334                # Zero compression  Zero C..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Lexer" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2025-06-23T22:52:12+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2496.html">Some IPv6 Address Examples</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/lexer/64" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/lexer/64" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Lexer</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Some IPv6 Address Examples'>
      <link itemprop='url' href='2496.html'>
      <meta itemprop='datePublished' content='2025-06-23T22:52:12Z'>
        <meta itemprop='articleSection' content='Lexer'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/rebolbot.html'><span itemprop='name'>rebolbot</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2496.html">


              <span class="crawler-post-infos">
                  <time  datetime='2025-06-23T22:52:12Z' class='post-time'>
                    June 23, 2025, 10:52pm
                  </time>
                  <meta itemprop='dateModified' content='2025-06-23T22:54:33Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>If someone is going to parse ipv6 addresses, can you give a good spread of examples of the edge cases and things to worry about?  A good list of ipv6 addresses that is fairly short but gives coverage of the kinds of things you need to support?</p>
</blockquote>
<hr>
<h1><a name="p-8454-ipv6-address-parsing-test-cases-1" class="anchor" href="2496.html#p-8454-ipv6-address-parsing-test-cases-1"></a>IPv6 Address Parsing Test Cases</h1>
<h2><a name="p-8454-basic-format-variations-2" class="anchor" href="2496.html#p-8454-basic-format-variations-2"></a>Basic Format Variations</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">2001:0db8:85a3:0000:0000:8a2e:0370:7334     # Full format
2001:db8:85a3:0:0:8a2e:370:7334             # Leading zeros omitted
2001:db8:85a3::8a2e:370:7334                # Zero compression
</code></pre>
<h2><a name="p-8454-zero-compression-edge-cases-3" class="anchor" href="2496.html#p-8454-zero-compression-edge-cases-3"></a>Zero Compression Edge Cases</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">::1                                         # Loopback (all zeros except last)
::                                          # All zeros address
2001:db8::                                  # Trailing zeros compressed
::2001:db8                                  # Leading zeros compressed
2001::1                                     # Middle zeros compressed
fe80::1%lo0                                 # With zone identifier
</code></pre>
<h2><a name="p-8454-special-addresses-4" class="anchor" href="2496.html#p-8454-special-addresses-4"></a>Special Addresses</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">::ffff:192.0.2.1                           # IPv4-mapped IPv6
::ffff:0:192.0.2.1                         # IPv4-mapped (alternative)
64:ff9b::192.0.2.33                        # IPv4-embedded IPv6
2002:cb00:7100::                            # 6to4 prefix
ff02::1                                     # Multicast
fe80::1                                     # Link-local
fc00::1                                     # Unique local
</code></pre>
<h2><a name="p-8454-bracket-and-port-notation-5" class="anchor" href="2496.html#p-8454-bracket-and-port-notation-5"></a>Bracket and Port Notation</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">[2001:db8::1]:80                            # With port
[::1]:8080                                  # Loopback with port
[fe80::1%eth0]:22                           # Zone ID with port
</code></pre>
<h2><a name="p-8454-maximum-length-cases-6" class="anchor" href="2496.html#p-8454-maximum-length-cases-6"></a>Maximum Length Cases</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff     # All F's (maximum)
2001:0db8:85a3:0000:0000:8a2e:0370:7334     # Full expanded form
</code></pre>
<h2><a name="p-8454-tricky-parsing-cases-7" class="anchor" href="2496.html#p-8454-tricky-parsing-cases-7"></a>Tricky Parsing Cases</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">2001:db8:0:0:1:0:0:1                        # Multiple zero groups (can't compress)
2001:0:0:0:0:0:0:1                          # Could be 2001::1
a:b:c:d:e:f:1:2                             # All single hex digits
::1:2:3:4:5:6:7                             # Compression at start with 7 groups
1:2:3:4:5:6:7::                             # Compression at end with 7 groups
</code></pre>
<h2><a name="p-8454-case-sensitivity-8" class="anchor" href="2496.html#p-8454-case-sensitivity-8"></a>Case Sensitivity</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">2001:DB8:85A3::8A2E:370:7334                # Uppercase
2001:db8:85a3::8a2e:370:7334                # Lowercase
2001:Db8:85A3::8a2E:370:7334                # Mixed case
</code></pre>
<h2><a name="p-8454-invalid-cases-should-reject-9" class="anchor" href="2496.html#p-8454-invalid-cases-should-reject-9"></a>Invalid Cases (Should Reject)</h2>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">2001:db8::1::2                              # Double compression (invalid)
2001:db8:85a3::8a2e:370:7334:extra          # Too many groups
2001:db8:85a3:8a2e:370:7334                 # Too few groups (7 instead of 8)
2001:db8:85ag::1                            # Invalid hex character 'g'
2001:db8:12345::1                           # Group too long (&gt;4 hex digits)
</code></pre>
<h2><a name="p-8454-key-parsing-rules-to-implement-10" class="anchor" href="2496.html#p-8454-key-parsing-rules-to-implement-10"></a>Key Parsing Rules to Implement</h2>
<ol>
<li><strong>Zero Compression</strong>: Only one <code>::</code> allowed per address</li>
<li><strong>Group Count</strong>: Must have exactly 8 groups when expanded</li>
<li><strong>Hex Validation</strong>: Each group is 1-4 hexadecimal digits</li>
<li><strong>Case Insensitive</strong>: Accept both upper and lowercase</li>
<li><strong>Leading Zeros</strong>: Optional in each group</li>
<li><strong>Zone Identifiers</strong>: Handle <code>%</code> suffix for link-local addresses</li>
<li><strong>Brackets</strong>: Required when specifying ports</li>
<li><strong>IPv4 Mapping</strong>: Special handling for <code>::ffff:</code> prefix</li>
</ol>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-06-23T23:09:02Z' class='post-time'>
                    June 23, 2025, 11:09pm
                  </time>
                  <meta itemprop='dateModified' content='2025-06-23T23:09:02Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Every now and again I wonder if Ren-C's lexing is robust enough to represent things like IPv6.  So I wanted to take a look at some examples.</p>
<p>Right now there is a rule that you can't have internal SPACE in CHAIN!, PATH!, or TUPLE!.  So no <code>a//b</code> or <code>a::b</code> or <code>a..b</code>.  This rule is enforced in order to let <code>http://example.com/stuff</code> be recognized as a URL!, and not a PATH! like:</p>
<pre><code>to path! [http: _ example.com stuff]
</code></pre>
<p>If we relaxed this rule for CHAIN!, then things like this would be closer to LOAD-able syntax:</p>
<aside class="quote no-group" data-username="rebolbot" data-post="1" data-topic="2496">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rebolbot/48/40_2.png" class="avatar"> rebolbot:</div>
<blockquote>
<p><code>2001:db8:85a3::8a2e:370:7334                # Zero compression</code></p>
</blockquote>
</aside>
<p>But it runs afoul of the fact that we don't support things that start with digits and have letters after them.</p>
<p>Then there's wackiness like:</p>
<aside class="quote no-group" data-username="rebolbot" data-post="1" data-topic="2496">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rebolbot/48/40_2.png" class="avatar"> rebolbot:</div>
<blockquote>
<p><code>fe80::1%lo0                                 # With zone identifier</code></p>
</blockquote>
</aside>
<p>While it's interesting to see us getting closer to LOAD-ability for these things, I'm thinking we need to draw the line and use strings.  People have praised Rebol's crazy literals in the past, there's just too much competition in the lexical space and it makes a mess.</p>
<p><strong>So I'm fully abandoning any idea that IPv6 addresses scan as some weird CHAIN! (just as I had fully abandoned the idea that URL!s scan as some weird PATH!</strong></p>
<p>We're moving toward this, which isn't terrible for when you want to do some dynamic creation:</p>
<pre><code>address: {ipv6! join "fe80::" "1%lo0"}
</code></pre>
<p>And it occurs to me the opening up of <code>-{...}-</code> strings is a perfect opportunity to let them become "construction strings".  This would be where you get a hook into LOAD itself, where you run on fully unbound data... and let whatever "recognizers" you choose duke it out:</p>
<pre><code>address: -{fe80::1%lo0}-
cash: -{$10.20}-
</code></pre>
<p>So I'll be transitioning things like existing MONEY! code to use this.  (It's better than <a href="../backtick-literals-and-an-axis-of-extensibility/2235.html">using backticks, which was proposed before.</a>)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
