<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>COLLECT-LINES: an adaptation story - Show &amp; Tell - AltRebol</title>
    <meta name="description" content="Here&amp;#39;s an interesting cookbook recipe.  Frequently, the goal of a COLLECT process is to collect a certain number of strings representing command lines, or something like that.  Each line is represented by a block, but ne&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="945.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;COLLECT-LINES: an adaptation story&#39;" href="945.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/collect-lines-an-adaptation-story/945" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/collect-lines-an-adaptation-story/945" />
<meta property="og:title" content="COLLECT-LINES: an adaptation story" />
<meta name="twitter:title" content="COLLECT-LINES: an adaptation story" />
<meta property="og:description" content="Here&#39;s an interesting cookbook recipe.  Frequently, the goal of a COLLECT process is to collect a certain number of strings representing command lines, or something like that.  Each line is represented by a block, but needs to be SPACED.  This can be a bit annoying to have to say every time:   collect [      keep spaced [...]      if condition [          keep spaced [...]      ]  ]  What if you wanted to specialize COLLECT as COLLECT-LINES so it would do the SPACED automatically?   collect-lines..." />
<meta name="twitter:description" content="Here&#39;s an interesting cookbook recipe.  Frequently, the goal of a COLLECT process is to collect a certain number of strings representing command lines, or something like that.  Each line is represented by a block, but needs to be SPACED.  This can be a bit annoying to have to say every time:   collect [      keep spaced [...]      if condition [          keep spaced [...]      ]  ]  What if you wanted to specialize COLLECT as COLLECT-LINES so it would do the SPACED automatically?   collect-lines..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Show &amp; Tell" />
<meta property="og:article:section:color" content="3AB54A" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="10 ❤" />
<meta property="article:published_time" content="2018-12-06T21:36:37+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="945.html">COLLECT-LINES: an adaptation story</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/show-and-tell/33" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/show-and-tell/33" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Show &amp; Tell</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='COLLECT-LINES: an adaptation story'>
      <link itemprop='url' href='945.html'>
      <meta itemprop='datePublished' content='2018-12-06T21:36:37Z'>
        <meta itemprop='articleSection' content='Show &amp; Tell'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="945.html">


              <span class="crawler-post-infos">
                  <time  datetime='2018-12-06T21:36:37Z' class='post-time'>
                    December 6, 2018,  9:36pm
                  </time>
                  <meta itemprop='dateModified' content='2019-10-30T02:10:07Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Here's an interesting cookbook recipe.  Frequently, the goal of a COLLECT process is to collect a certain number of strings representing command lines, or something like that.  Each line is represented by a block, but needs to be SPACED.  This can be a bit annoying to have to say every time:</p>
<pre><code> collect [
     keep spaced [...]
     if condition [
         keep spaced [...]
     ]
 ]
</code></pre>
<p>What if you wanted to specialize COLLECT as COLLECT-LINES so it would do the SPACED automatically?</p>
<pre><code> collect-lines: adapt 'collect [
      body: compose [
           keep: adapt 'keep [value: spaced value]
           (as group! body)
      ]
  ]
</code></pre>
<p>So you're augmenting the body with a little bit of prelude code that adapts the keep.  What's nice is that by using AS you don't need to deep copy that body, you're just aliasing it.  This means that when COLLECT goes through and binds the augmented body to keep, the little adapter has the same binding...so it affects that keep.</p>
<blockquote>
<p>There's a particular finesse in Ren-C because when you put something in a stream of code using AS GROUP!, that won't synthesize anything.  If your group is empty, it will act like it's not there.</p>
<pre><code>&gt;&gt; do [1 + 2 ()]
== 3
</code></pre>
<p>That's actually pretty important for when you're doing these kinds of code splicings, you can really "opt out" of sections.</p>
</blockquote>
<p>If you're going to do it this simply, you can eliminate some of the repetition <a href="https://trello.com/c/8Bmwvwya">with MY</a> (which quotes a set word on the left, and injects the value as the first parameter of what comes next).</p>
<pre><code> collect-lines: adapt 'collect [
      body: compose [
           keep: my adapt [value: my spaced]
           (as group! body)
      ]
  ]
</code></pre>
<p>That's quick and dirty enough for casual usage.  But this looks nice enough we might even want it in the box.<br>
So thinking through a few edge cases...</p>
<p>Some of the refinements to KEEP don't make sense any more, like /ONLY and perhaps /PART (you'd be passing in a block and then specifying a /PART based on the text...probably not what you meant).  You probably want each line to be on its own line when collected in the list, so /LINE should be true.  Other refinements, like /DUP can probably be left as-is.</p>
<p>So let's get rid of the refinements that don't make sense and set it up to default to a newline on each string in the collected block.  Also, you need to TRY on the value because it might be null, and then you'd want SPACED to see it as a BLANK! instead of an error, returning a null and thus preserving it:</p>
<pre><code> collect-lines: adapt 'collect [
      body: compose [
           keep: adapt specialize 'keep [
               line: true | only: false | part: _
           ] [value: spaced try :value]
           (as group! body)
      ]
  ]
</code></pre>
<p>Now we have a nice little routine:</p>
<pre><code> &gt;&gt; collect-lines [
       keep ["How" "about" "this?"]
       keep case [
           1 = 2 [["Not" "Kept"]]
           3 = 4 [["This" "Neither"]]
       ]
       keep/dup ["Pretty" "cool" "eh?"] 2
    ]
== [
    "How about this?"
    "Pretty cool eh?"
    "Pretty cool eh?"
]
</code></pre>
<p>So... how difficult would that be to do in Rebol2/R3-Alpha/Red?  And how likely are you to get it wrong while trying?</p>
<h3><a name="p-2788-one-issue-to-think-about-1" class="anchor" href="945.html#p-2788-one-issue-to-think-about-1"></a>One issue to think about...</h3>
<p>With the recent change to where COLLECT only creates a block if you do a KEEP of some non-null material, there was a workaround to say <code>keep []</code> as a no-op at the top of the collect body, to get the block.  That won't work here, since <code>keep []</code> will add an empty string to the collected lines.</p>
<p>Off the top of my head:</p>
<ul>
<li>
<p>Since COLLECT-LINES is not "full band" any more (it knows you don't want to collect a BLANK!), it might use BLANK! to be the "no-op, but means you kept something".  So <code>keep _</code> would execute the un-adapted <code>keep []</code> internally, yielding the same effect.</p>
</li>
<li>
<p>COLLECT-LINES could just sneak in a <code>keep []</code> before it does the specialization and always return a block, foregoing COLLECT's "null if no KEEPs" property.</p>
</li>
</ul>
<p>What's nice about actually doing these little experiments is you get to think about what pressures it puts on routines like SPACED.  Increasingly I am of the opinion that SPACED of a TEXT! should just return that text--there's almost no case where enforcing that it's a BLOCK! has value.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../2018-retrospective-elevating-the-art/992.html">2018 Retrospective: Elevating the Art</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-07T00:01:48Z' class='post-time'>
                    December 7, 2018, 12:01am
                  </time>
                  <meta itemprop='dateModified' content='2018-12-07T18:13:37Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I said this is a "cookbook" entry more than a feature discover entry (even though I'm thinking COLLECT-LINES needs to be in the box).</p>
<p>But this actually leads to a rather interesting take on another historical problem: how to collect <em>a single line</em> where some of the components want to be spaced apart, but others want to be tight together.</p>
<p>Crickets and gentleman(s), I give you... COLLECT-TEXT (because calling it COLLECT-LINE would not be different enough from COLLECT-LINES to spot easily):</p>
<pre><code>collect-text: chain [
     adapt 'collect [
         body: compose/only [
             keep [] // make sure no null return, an empty block at the least
             keep: adapt specialize 'keep [
                 line: false | only: false | part: false
              ] [value: unspaced try :value]
             (as group! body)
         ]
     ]
         |
     :spaced // if an empty block gets here, it becomes a null result
 ]
</code></pre>
<p>The individual bits you KEEP with single blocks will be tight together, with the final result being spaced out:</p>
<pre><code> &gt;&gt; warnings: ["crazy-spectre-thing" "ms-ships-buggy-headers"]

 &gt;&gt; command: collect-text [
        keep "$(REBOL)"
        for-each w warnings [keep ["-Wno-" w]]
    ]

== "$(REBOL) -Wno-crazy-spectre-thing -Wno-ms-ships-buggy-headers"
</code></pre>
<p>This seems another nice tool to go in.  I'll say that as hard as it is having the heavy amount of code in the make system being all Rebol, being able to use the language to attack it with new Ren-C features redeems it (this was why I endorsed it in the first place, even though it was very...big).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/BlackATTR.html'><span itemprop='name'>BlackATTR</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-07T14:52:07Z' class='post-time'>
                    December 7, 2018,  2:52pm
                  </time>
                  <meta itemprop='dateModified' content='2018-12-07T14:52:07Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>(Applause!) Very cool, and instructive. Anything which makes text munging more powerful and literate is a huge win for me.<br>
Great stuff, Brian. Reading posts like this feels like:</p><div class="youtube-onebox lazy-video-container" data-video-id="xyjn8aybPBs" data-video-title="Step Bros night vision goggles" data-video-start-time="" data-provider-name="youtube">
  <a href="https://www.youtube.com/watch?v=xyjn8aybPBs" target="_blank" class="video-thumbnail" rel="noopener">
    <img class="youtube-thumbnail" src="https://img.youtube.com/vi/xyjn8aybPBs/hqdefault.jpg" title="Step Bros night vision goggles" width="480" height="360">
  </a>
</div>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-12-09T17:02:35Z' class='post-time'>
                    December 9, 2018,  5:02pm
                  </time>
                  <meta itemprop='dateModified' content='2018-12-09T17:02:35Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="BlackATTR" data-post="3" data-topic="945">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/blackattr/48/204_2.png" class="avatar"> BlackATTR:</div>
<blockquote>
<p>Reading posts like this feels like:</p>
</blockquote>
</aside>
<p>From my end, it usually feels like the holographic instruction manual from Invader Zim <img src="../../images/emoji/twitter/slight_smile.png%3Fv=14" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>
<div class="youtube-onebox lazy-video-container" data-video-id="NB8vk8Zrwak" data-video-title="Invader Zim  - Because It's Cool" data-video-start-time="" data-provider-name="youtube">
  <a href="https://www.youtube.com/watch?v=NB8vk8Zrwak" target="_blank" class="video-thumbnail" rel="noopener">
    <img class="youtube-thumbnail" src="https://img.youtube.com/vi/NB8vk8Zrwak/hqdefault.jpg" title="Invader Zim  - Because It's Cool" width="480" height="360">
  </a>
</div>

<p>"Why would you do all that?"<br>
"Because it's Cool."</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-11-05T01:22:14Z' class='post-time'>
                    November 5, 2020,  1:22am
                  </time>
                  <meta itemprop='dateModified' content='2020-11-05T04:02:37Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<pre><code>&gt;&gt; collect-lines [
      keep ["How" "about" "this?"]
      keep case [
          1 = 2 [["Not" "Kept"]]
          3 = 4 [["This" "Neither"]]
      ]
      keep/dup ["Pretty" "cool" "eh?"] 2
   ]
== [
    "How about this?"
    "Pretty cool eh?"
    "Pretty cool eh?"
]
</code></pre>
</blockquote>
<p>Getting the fabric behind COLLECT-LINES working is important, and this has kept pushing on the state of the art.</p>
<p>But going beyond it, I think even better is POINTFREE.  It's more general and keeps the definitions right in front of you.</p>
<p>POINTFREE can't do partial argument invocations like the following yet, but it should be able to eventually:</p>
<pre><code>&gt;&gt; collect [
      keep: (&lt;- keep unspaced)

      keep ["How" "about" "this?"]
      keep case [
          1 = 2 [["Not" "Kept"]]
          3 = 4 [["This" "Neither"]]
      ]
      keep/dup ["Pretty" "cool" "eh?"] 2
   ]
</code></pre>
<p>And I think that's probably the right way to go with this.</p>
<p>With comma as the new experiment for expression barriers, I'm not sure how I feel about:</p>
<pre><code>      keep: &lt;- keep unspaced,
</code></pre>
<p>That comma flies a little under the radar.  Maybe not so bad with a space.</p>
<pre><code>      keep: &lt;- keep unspaced ,
</code></pre>
<p>Anyway that could be an alternate option.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-03T09:07:30Z' class='post-time'>
                    October 3, 2021,  9:07am
                  </time>
                  <meta itemprop='dateModified' content='2021-10-04T05:11:45Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="945">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>But going beyond it, I think even better is POINTFREE. It's more general and keeps the definitions right in front of you.</p>
</blockquote>
</aside>
<p>I was looking at a line of code with COLLECT-TEXT and didn't really remember what it did, so I had to look it up.</p>
<p>This supports my argument that really, we're better off letting people define these specializations on an as-needed basis.  Also, that lets you give the keep operation the name you want:</p>
<pre><code>collect [
    keep: (&lt;- keep/line spaced)  ; if you don't think name reuse is confusing
    ...
]

collect [
    keepline: (&lt;- keep/line spaced)  ; if you only want it a little briefer
    ...
]

collect [
    keepL: (&lt;- keep/line spaced)  ; if you're this kind of person
    ...
]
</code></pre>
<aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="945">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Getting the fabric behind COLLECT-LINES working is important, and this has kept pushing on the state of the art.</p>
</blockquote>
</aside>
<p>Having these examples has certainly been good for testing, so I do want to thank these specializations for their service.  <img src="../../images/emoji/twitter/vulcan_salute.png%3Fv=14" title=":vulcan_salute:" class="emoji" alt=":vulcan_salute:" loading="lazy" width="20" height="20"></p>
<p>But I think it's good enough to just put COLLECT-TEXT and COLLECT-LINES in the test suite.  Having them in the mezzanine is just "that much more stuff" that needs documentation and for people reading the (few) callsites to trip over.  I think the case-by-case specializations are clearer.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
