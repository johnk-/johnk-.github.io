<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>[[Variadics, and naming ...]]</title>
    <link>https://rebol.metaeducation.com/t/variadics-and-naming/717</link>
    <description>The title is literal--I&#39;m really talking about **`...`**

My proposal, which I like and @IngoHohmann liked, is that `...` be a form of interactive breakpoint that triggers the debugger and lets you type in something.  More or less like:

    &gt;&gt; x: 10

    &gt;&gt; print [&quot;The value plus x is&quot; ... + x]
    ** Encountered `...`, use RESUME/WITH to continue with value
    ** Debug Break

    |0|&gt;&gt; x
    == 10

    &gt;&gt; resume/with 20
    The value plus x is 30

Symbolically, it stands out a bit.  And also, this would make it kind of reasonable as a sort of &quot;TBD&quot;.  If you&#39;re working on code and haven&#39;t gotten to something yet, you can indicate that pretty easily:

    solve-virtual-binding: function [
        {Avoid exponential cost from nested binds}
    ][
        ...
    ]

And when people are stubbing in examples on the internet for code snippets, it&#39;s good there too.  If you ever actually run the code, you&#39;ll get something more useful than an error.

But that brings up a question... ... ...

### What to use for variadics?

If `...` means &quot;unfinished&quot; or &quot;breakpoint&quot;, it seems bad to borrow it as we are today for variadic function arguments.  Currently those are with the tag `&lt;...&gt;`:

    foo: function [args [integer! &lt;...&gt;]] [...]

Right there, juxtaposed against the coolness of the proposed usage, it seems we should pick something better, rather than blindly following along with what C and some other languages use.

So, what are the options?  I actually initially used double brackets, when I wanted the system to be avoiding keywords to make it more skinnable:

    foo: function [args [[integer!]]] [...]

But that&#39;s not necessarily very communicative, and looks a bit more like it&#39;s some kind of composition tool, a la [composeII](https://trello.com/c/ko89tF2Y).
 
@gchiu suggests `&lt;any&gt;`, syncing up more with the PARSE sense of the word, and that might look good going before, though it might look weird doubling up with ANY-VALUE!:

    foo: function [args [&lt;any&gt; integer!]] [...]
    foo: function [args [&lt;any&gt; any-value!]] [...] ;-- too weird?

In a PARSE rule you can write **[any any-value!]**, so it&#39;s not like it&#39;s that bad.

On the one hand, it&#39;s bad to make up names when CS agrees on it.  So using the word `&lt;variadic&gt;` could be argued for over things like `&lt;multi&gt;` or somesuch.  Then again, if the goal is to be accessible and non-intimidating then variadic and VARARGS! as the name of the type might should be reconsidered.

Either way I think `&lt;...&gt;` should be avoided, so as to let the new meaning of `...` take the stage.  So, ideas/votes on the fate of variadics?</description>
    
    <lastBuildDate>Fri, 11 Apr 2025 13:03:11 +0000</lastBuildDate>
    <category>Naming</category>
    <atom:link href="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="717">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>My proposal, which I like and <a class="mention" href="https://rebol.metaeducation.com/u/ingohohmann">@IngoHohmann</a> liked, is that <code>...</code> be a form of interactive breakpoint that triggers the debugger and lets you type in something. More or less like:</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">&gt;&gt; x: 10

&gt;&gt; print ["The value plus x is" ... + x]
** Encountered `...`, use RESUME/WITH to continue with value
** Debug Break
</code></pre>
</blockquote>
</aside>
<h2><a name="p-8134-seven-years-later-roll_eyes-1" class="anchor" href="https://rebol.metaeducation.com#p-8134-seven-years-later-roll_eyes-1"></a>Seven Years Later... <img src="https://rebol.metaeducation.com/images/emoji/twitter/roll_eyes.png?v=14" title=":roll_eyes:" class="emoji" alt=":roll_eyes:" loading="lazy" width="20" height="20"></h2>
<p>I've found myself considering really only two options for TBD: <strong><code>...</code></strong> and <strong><code>???</code></strong></p>
<pre><code>my-unfinished-function [thing [object!] other [...]] [
    register thing
    ...
    close other
]

my-unfinished-function [thing [object!] other [???]] [
    register thing
    ???
    close other
]
</code></pre>
<p>And I'm leaning pretty heavily toward <code>...</code></p>
<p>It's a novel concept to imagine taking something like "..." which is usually confined to variadics and such, letting it serve this purpose.</p>
<p>And I've mentioned this debug option if you hit these situations to supply the code--either permanently and editing the file (somehow?) or at the least for that session.</p>
<p>The fact that I use "..." in examples to mean "there's some stuff here" makes me feel like it really does belong in the meta domain.</p>
<h2><a name="p-8134-breaking-the-variadic-status-quo-2" class="anchor" href="https://rebol.metaeducation.com#p-8134-breaking-the-variadic-status-quo-2"></a>Breaking the Variadic Status Quo</h2>
<p>I think this is a higher calling.</p>
<p>While I don't think writing out <strong><code>&lt;variadic&gt;</code></strong> in function specs is any particular labor over <strong><code>...</code></strong>, we could still use <strong><code>&lt;...&gt;</code></strong> as a TAG! and have that mean something different, though I don't know that I like that being so visually close to "unfinished thing".</p>
<p>One place I do find this a bit more of a loss than variadics is in PARSE</p>
<pre><code>&gt;&gt; parse [blablah (foo bar) blablablah] [... between "(" ")" ...]
== "foo bar"
</code></pre>
<p>That's pretty darn nice.  But we have lots of options open, like the question-mark tag or the asterisk tag:</p>
<pre><code>&gt;&gt; parse [blablah (foo bar) blablablah] [&lt;?&gt; between "(" ")" &lt;?&gt;]
== "foo bar"

&gt;&gt; parse [blablah (foo bar) blablablah] [&lt;*&gt; between "(" ")" &lt;*&gt;]
== "foo bar"
</code></pre>
<p>Or maybe even a "something between left and right" weird tag:</p>
<pre><code>&gt;&gt; parse [blablah (foo bar) blablablah] [&lt;-&gt; between "(" ")" &lt;-&gt;]
== "foo bar"

&gt;&gt; parse [blablah (foo bar) blablablah] [&lt;--&gt; between "(" ")" &lt;--&gt;]
== "foo bar"
</code></pre>
<p>This is one of those cases where one has to think of the big picture.  In isolation, the <code>...</code> does look better and it seems like you're giving something up by using less visually distinct things.  But that just points out how good <strong><code>...</code></strong> is at jumping out to your perception.  Using that to draw attention to unfinished code feels right to me.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/8">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/8</link>
        <pubDate>Fri, 11 Apr 2025 07:55:56 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-8</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="IngoHohmann" data-post="4" data-topic="717">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/ingohohmann/48/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>+1 for const, I was thinking about it as well these days.</p>
</blockquote>
</aside>
<p>Const series <em>values</em> by default may be better than actual immutable series by default.</p>
<p>It would take care of the bug like with routines such as <code>func [...] [switch ... [... ["foo"]]]</code>, where the caller winds up accidentally thinking they can mutate and changing the string in the body of your switch.  Today the protection for that comes from LOCK at the source level--which is somewhat heavy handed due to irreversibility, and also it doesn't have you covered when you build the function dynamically.</p>
<p>People might gripe if parameters defaulted const, but they can use their own function generators that adds mutable on everything.  I think it's better to have to mark things mutable, then you get the information in the HELP etc. to know what changes.  It's a pretty important thing.</p>
<p>But, again <code>&lt;mutable&gt;</code> is a very heavy word for a function spec.  <code>&lt;update&gt;</code> ?  <code>&lt;modify&gt;</code> (<code>&lt;modifies&gt;</code>)?  <code>&lt;write&gt;</code>?</p>
<p>As an operator that converts const to modifiable, I think <code>mutable</code> being ugly is a good thing--you should think twice about using it.  <code>mutable</code> and <code>const</code> operators might make the issues with source locking more palatable.  If you're unhappy something is const, and you didn't put it in a MAP! or do something that absolutely required it be invariantly LOCKed, you could just <code>mutable</code> it if you had to.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/6">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/6</link>
        <pubDate>Tue, 03 Jul 2018 08:25:48 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-6</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[IngoHohmann]]></dc:creator>
        <description><![CDATA[
            <p>I'm actually not sure I like the symbols, but maybe I would just need time.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/5">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/5</link>
        <pubDate>Sat, 30 Jun 2018 22:41:04 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-5</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[IngoHohmann]]></dc:creator>
        <description><![CDATA[
            <p>+1 for const, I was thinking about it as well these days. As an added benefit, ot would be great to define object fields as const, so they can only be set from the objects methods.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/4">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/4</link>
        <pubDate>Sat, 30 Jun 2018 22:39:52 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-4</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="IngoHohmann" data-post="2" data-topic="717">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/ingohohmann/48/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>I don’t know a better word than …</p>
</blockquote>
</aside>
<p>If we want to go with symbolic over word, maybe <code>&lt;*&gt;</code> to evoke wildcarding?  I dunno.</p>
<p><em>tangent</em> -&gt; I've been thinking about introducing "const" sooner rather than later.  Basically it would be a way of saying that although a series wasn't locked, you're passing someone a "view" of that series that they can't modify through the value you've given them.  As with C/C++ const, it doesn't mean the value won't change through other references, it just means if you only have a const reference then <em>you won't be the one who changes it</em>.</p>
<p>But one of the big classic questions is whether const or mutable should be the default:</p>
<aside class="onebox stackexchange" data-onebox-src="https://stackoverflow.com/questions/19478034/why-arent-c-types-const-by-default">
  <header class="source">

      <a href="https://stackoverflow.com/questions/19478034/why-arent-c-types-const-by-default" target="_blank" rel="noopener">stackoverflow.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://stackoverflow.com/users/1613983/quant" target="_blank" rel="noopener">
    <img alt="quant" src="https://i.sstatic.net/lAhj3.png?s=256" class="thumbnail onebox-avatar" width="256" height="256">
  </a>

<h4>
  <a href="https://stackoverflow.com/questions/19478034/why-arent-c-types-const-by-default" target="_blank" rel="noopener">Why aren't C++ types const by default?</a>
</h4>

<div class="tags">
  <strong>c++</strong>
</div>

<div class="date">
  asked by
  
  <a href="https://stackoverflow.com/users/1613983/quant" target="_blank" rel="noopener">
    quant
  </a>
  on <a href="https://stackoverflow.com/questions/19478034/why-arent-c-types-const-by-default" target="_blank" rel="noopener">01:40PM - 20 Oct 13 UTC</a>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Rebol has avoided the idea that APPEND! with the exclamation point mean mutable, but I still rather like the idea that <code>&lt;!&gt;</code> might mean mutable:</p>
<pre><code>reverse: function [
     series [&lt;!&gt; any-series!]
][
    ... 
]
</code></pre>
<p>I guess my point there being that I sort of like the look of symbols in there, maybe even <code>&lt;?&gt;</code> instead of for <code>&lt;opt&gt;</code>...</p>
<pre><code>append: function [
     series [&lt;!&gt; any-series!]
     value [&lt;?&gt; any-value!]
][
    ... 
]
</code></pre>
<p>Maybe <code>?</code> could be null.  <strong>x: ?</strong>  <em>(assuming the trick about being able to unset variables explicitly via functions that variadically left quote the left... you can't save nulls or voids in variables through ordinary set words usually)</em></p>
<p>Just thinking out loud here, wondering about the use of symbols and if <code>&lt;*&gt;</code> could make sense in a family of symbolic annotations or not.  If <code>&lt;?&gt;</code> feels uneasy compared to <code>&lt;opt&gt;</code> then maybe that's a sign that these should use short words and not symbols.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/3">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/3</link>
        <pubDate>Sat, 30 Jun 2018 16:20:26 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-3</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[IngoHohmann]]></dc:creator>
        <description><![CDATA[
            <p>I don't know a better word than ... just brainstorming: take, walk, stream, multi, lookahead, any, some, eternal, get, variadic, ...</p>
<p>I actually kinda like the direction get hints at.</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/2">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/2</link>
        <pubDate>Sat, 30 Jun 2018 14:08:14 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-2</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
      <item>
        <title>[[Variadics, and naming ...]]</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>The title is literal--I'm really talking about <strong><code>...</code></strong></p>
<p>My proposal, which I like and <a class="mention" href="https://rebol.metaeducation.com/u/ingohohmann">@IngoHohmann</a> liked, is that <code>...</code> be a form of interactive breakpoint that triggers the debugger and lets you type in something.  More or less like:</p>
<pre><code>&gt;&gt; x: 10

&gt;&gt; print ["The value plus x is" ... + x]
** Encountered `...`, use RESUME/WITH to continue with value
** Debug Break

|0|&gt;&gt; x
== 10

&gt;&gt; resume/with 20
The value plus x is 30
</code></pre>
<p>Symbolically, it stands out a bit.  And also, this would make it kind of reasonable as a sort of "TBD".  If you're working on code and haven't gotten to something yet, you can indicate that pretty easily:</p>
<pre><code>solve-virtual-binding: function [
    {Avoid exponential cost from nested binds}
][
    ...
]
</code></pre>
<p>And when people are stubbing in examples on the internet for code snippets, it's good there too.  If you ever actually run the code, you'll get something more useful than an error.</p>
<p>But that brings up a question... ... ...</p>
<h3><a name="p-2393-what-to-use-for-variadics-1" class="anchor" href="https://rebol.metaeducation.com#p-2393-what-to-use-for-variadics-1"></a>What to use for variadics?</h3>
<p>If <code>...</code> means "unfinished" or "breakpoint", it seems bad to borrow it as we are today for variadic function arguments.  Currently those are with the tag <code>&lt;...&gt;</code>:</p>
<pre><code>foo: function [args [integer! &lt;...&gt;]] [...]
</code></pre>
<p>Right there, juxtaposed against the coolness of the proposed usage, it seems we should pick something better, rather than blindly following along with what C and some other languages use.</p>
<p>So, what are the options?  I actually initially used double brackets, when I wanted the system to be avoiding keywords to make it more skinnable:</p>
<pre><code>foo: function [args [[integer!]]] [...]
</code></pre>
<p>But that's not necessarily very communicative, and looks a bit more like it's some kind of composition tool, a la <a href="https://trello.com/c/ko89tF2Y">composeII</a>.</p>
<p><a class="mention" href="https://rebol.metaeducation.com/u/gchiu">@gchiu</a> suggests <code>&lt;any&gt;</code>, syncing up more with the PARSE sense of the word, and that might look good going before, though it might look weird doubling up with ANY-VALUE!:</p>
<pre><code>foo: function [args [&lt;any&gt; integer!]] [...]
foo: function [args [&lt;any&gt; any-value!]] [...] ;-- too weird?
</code></pre>
<p>In a PARSE rule you can write <strong>[any any-value!]</strong>, so it's not like it's that bad.</p>
<p>On the one hand, it's bad to make up names when CS agrees on it.  So using the word <code>&lt;variadic&gt;</code> could be argued for over things like <code>&lt;multi&gt;</code> or somesuch.  Then again, if the goal is to be accessible and non-intimidating then variadic and VARARGS! as the name of the type might should be reconsidered.</p>
<p>Either way I think <code>&lt;...&gt;</code> should be avoided, so as to let the new meaning of <code>...</code> take the stage.  So, ideas/votes on the fate of variadics?</p>
          <p><a href="https://rebol.metaeducation.com/t/variadics-and-naming/717/1">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/variadics-and-naming/717/1</link>
        <pubDate>Fri, 29 Jun 2018 08:21:24 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-717-1</guid>
        <source url="https://rebol.metaeducation.com/t/variadics-and-naming/717.rss">[[Variadics, and naming ...]]</source>
      </item>
  </channel>
</rss>
