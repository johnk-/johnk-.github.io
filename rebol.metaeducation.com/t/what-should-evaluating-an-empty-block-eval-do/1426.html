<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What should evaluating an empty block (`EVAL []`) do? - Semantics - AltRebol</title>
    <meta name="description" content="(Related question: What should do of empty string (`DO &amp;quot;&amp;quot;`) do?)

I&amp;#39;ve pointed out that the answer for things like &amp;quot;what should a loop that never runs its body&amp;quot; have varied. 
rebol2/r3-alpha&amp;gt;&amp;gt; type? while [false] [&amp;quot;whate&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../what-should-do-of-empty-block-do-do/1426.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;What should evaluating an empty block (`EVAL []`) do?&#39;" href="1426.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/what-should-evaluating-an-empty-block-eval-do/1426" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/what-should-evaluating-an-empty-block-eval-do/1426" />
<meta property="og:title" content="What should evaluating an empty block (`EVAL []`) do?" />
<meta name="twitter:title" content="What should evaluating an empty block (`EVAL []`) do?" />
<meta property="og:description" content="(Related question: What should do of empty string (`DO &quot;&quot;`) do?)  I&#39;ve pointed out that the answer for things like &quot;what should a loop that never runs its body&quot; have varied.  rebol2/r3-alpha&gt;&gt; type? while [false] [&quot;whatever&quot;] == none!  red&gt;&gt; type? while [false] [&quot;whatever&quot;] == unset!  But it&#39;s consistent historically that if something runs do [] (what Ren-C calls EVAL when it&#39;s a BLOCK! you&#39;re evaluating) then you get an &quot;UNSET!&quot;  rebol2/r3-alpha/red&gt;&gt; type? do [] == unset!  New Antiform States ..." />
<meta name="twitter:description" content="(Related question: What should do of empty string (`DO &quot;&quot;`) do?)  I&#39;ve pointed out that the answer for things like &quot;what should a loop that never runs its body&quot; have varied.  rebol2/r3-alpha&gt;&gt; type? while [false] [&quot;whatever&quot;] == none!  red&gt;&gt; type? while [false] [&quot;whatever&quot;] == unset!  But it&#39;s consistent historically that if something runs do [] (what Ren-C calls EVAL when it&#39;s a BLOCK! you&#39;re evaluating) then you get an &quot;UNSET!&quot;  rebol2/r3-alpha/red&gt;&gt; type? do [] == unset!  New Antiform States ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Semantics" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2020-12-09T23:45:38+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../what-should-do-of-empty-block-do-do/1426.html">What should evaluating an empty block (`EVAL []`) do?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/semantics/55" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/semantics/55" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Semantics</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='What should evaluating an empty block (`EVAL []`) do?'>
      <link itemprop='url' href='../what-should-do-of-empty-block-do-do/1426.html'>
      <meta itemprop='datePublished' content='2020-12-09T23:45:38Z'>
        <meta itemprop='articleSection' content='Semantics'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="../what-should-do-of-empty-block-do-do/1426.html">


              <span class="crawler-post-infos">
                  <time  datetime='2020-12-09T23:45:38Z' class='post-time'>
                    December 9, 2020, 11:45pm
                  </time>
                  <meta itemprop='dateModified' content='2025-05-07T10:14:54Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <h3><a name="p-4393-related-question-httpsrebolmetaeducationcomtwhat-should-do-of-empty-string-do-do2035-1" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-4393-related-question-httpsrebolmetaeducationcomtwhat-should-do-of-empty-string-do-do2035-1"></a><em>(Related question: <a href="../what-should-do-of-empty-string-do-do/2035.html" class="inline-onebox">What should do of empty string (`DO ""`) do?</a>)</em></h3>
<hr>
<p>I've pointed out that the answer for things like "what should a loop that never runs its body" have varied.</p>
<pre><code>rebol2/r3-alpha&gt;&gt; type? while [false] ["whatever"]
== none!

red&gt;&gt; type? while [false] ["whatever"]
== unset!
</code></pre>
<p>But it's consistent historically that if something runs <strong><code>do []</code></strong> (what Ren-C calls EVAL when it's a BLOCK! you're evaluating) then you get an "UNSET!"</p>
<pre><code>rebol2/r3-alpha/red&gt;&gt; type? do []
== unset!
</code></pre>
<h2><a name="p-4393-new-antiform-states-available-2" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-4393-new-antiform-states-available-2"></a>New Antiform States Available</h2>
<p>Ren-C has a choice most corresponding to UNSET!, which is TRASH.  <a href="../console-treatment-of-void-vs-nothing/2045.html">Trash does not display in the console</a>, which might be considered an advantage.</p>
<pre><code>&gt;&gt; eval []  ; imagine this returns TRASH
</code></pre>
<p>But if you evaluate to trash during something like REDUCE, it would give you an error.</p>
<pre><code>&gt;&gt; reduce [1 + 2 ~ 3 + 4]
** Script Error: Invalid use of ~ antiform
</code></pre>
<p>To get opt-out behavior, it would have to give VOID or GHOST.</p>
<pre><code>&gt;&gt; 1 + 2 eval []
== ~[]~  ; anti (void)

&gt;&gt; 1 + 2 eval []  ; if ghost, vaporizes
== 3
</code></pre>
<p>VOID is what you use to opt out of expressions in COMPOSE, and it's the established result of an ANY or ALL in which all the expressions opt out:</p>
<pre><code>&gt;&gt; all [maybe if false ["hello"] comment "world"]
== ~[]~  ; anti (void)
</code></pre>
<p><strong>Can anyone think of a case where there's a balance of provable value for something like a <code>do compose [...]</code> whose contents have all boiled away to be TRASH instead of VOID or GHOST?</strong></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-12-10T05:19:49Z' class='post-time'>
                    December 10, 2020,  5:19am
                  </time>
                  <meta itemprop='dateModified' content='2025-05-07T10:23:35Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="rgchris" data-post="1" data-topic="1427">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"><a href="https://rebol.metaeducation.com/t/1427/1">On another topic</a></div>
<blockquote>
<p>Either way, I feel <code>eval []</code> should vaporize:</p>
<pre><code>   reduce [eval []] =&gt; []
</code></pre>
</blockquote>
</aside>
<p>The historical rule is that there are no vaporizations by default in REDUCE.  If you have N expressions in, you will have N values out.  <a href="https://rebol.metaeducation.com/t/why-or-why-not-have-unset-in-rebol-like-languages/113/2">There is a religiosity about it in Red</a>.</p>
<p>If you think <strong>reduce [eval []]</strong> should be <strong>[]</strong> then that would require both EVAL [] to be VOID and REDUCE to vaporize them:</p>
<pre><code> &gt;&gt; maybe if false ["not"]
 == ~[]~  ; anti (void)

 &gt;&gt; reduce ["This will" (maybe if false ["not"]) "make you a Red heretic"]
 == ["This will" "make you a Red heretic"]
</code></pre>
<p>(It would still be possible to use REDUCE/PREDICATE and use a predicate function that errors on voids.)</p>
<h2><a name="p-4395-i-dont-know-how-pivotal-the-particular-point-of-eval-is-1" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-4395-i-dont-know-how-pivotal-the-particular-point-of-eval-is-1"></a>I don't know how pivotal the particular point of <strong><code>eval []</code></strong> is...</h2>
<p>I don't really think we have code examples where this comes up all that often, which is probably why it hasn't been given that much thought.</p>
<p>OTOH the REDUCE default behavior does come up, I just don't tend to use REDUCE that often compared to COMPOSE.  <strong>reduce ['x: 1 + 2]</strong> seems awkward compared to <strong>compose [x: (1 + 2)]</strong>.  So it's like the only time I would use REDUCE would be to build the "block of precisely N values", and the restriction hasn't bothered me so far.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-12-10T14:06:24Z' class='post-time'>
                    December 10, 2020,  2:06pm
                  </time>
                  <meta itemprop='dateModified' content='2020-12-10T14:06:24Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I hadn't pondered the absolutism of REDUCE. I've embraced your concept of vaporization for UNSPACED/SPACED/COMPOSE and don't see why REDUCE would be different. I notice that Ren-C (in R3C as well as current) does vaporize in the case of <code>reduce [( )]</code> which to mind is the same thing.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-12-10T18:26:05Z' class='post-time'>
                    December 10, 2020,  6:26pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-03T07:24:08Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="rgchris" data-post="5" data-topic="1426">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p>I notice that Ren-C (in R3C as well as current) does vaporize in the case of <code>reduce [( )]</code> which to mind is the same thing.</p>
</blockquote>
</aside>
<p>That actually arises from a more universal rule about GROUP!:</p>
<p><a href="../permissive-group-invisibility/1153.html"><em>"groups just group things, they don't synthesize values of their own."</em></a></p>
<p>I tried changing <strong><code>eval []</code></strong> to be void (and related places where empty blocks had to have <em>an answer</em>) and I don't really see any particularly obvious bad side to it.  Nothing crashed.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-12-10T19:49:37Z' class='post-time'>
                    December 10, 2020,  7:49pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-03T07:23:58Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="1426">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I tried changing <strong><code>eval []</code></strong> to be void (and related places where empty blocks had to have <em>an answer</em>) and I don't really see any particularly obvious bad side to it. Nothing crashed.</p>
</blockquote>
</aside>
<p>So we're through the looking glass then? I think it's the right thing to do, we'll see...</p>
<p>I'd be interested to dig into this a bit more: <em>"Redbol languages are based on denotational semantics, where the meaning of every expression needs to have a representation"</em> / <em>"I suppose he hasn't read Godel, Escher, Bach"</em>. The first statement seems quite inflexible and possibly restrictive.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_20' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-22T00:55:23Z' class='post-time'>
                    August 22, 2024, 12:55am
                  </time>
                  <meta itemprop='dateModified' content='2025-05-07T10:17:39Z'>
              <span itemprop='position'>20</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><em>(Note: I've pared the above conversation down to the minimum, updating it with 2024 terminology and behaviors.)</em></p>
<aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1426">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Can anyone think of a case where there's a balance of provable value for something like an <code>eval compose [...]</code> whose contents have all boiled away to be TRASH instead of VOID or GHOST?</p>
</blockquote>
</aside>
<p>There's a few interesting developments that inform the thinking on this...</p>
<h3><a name="p-7353-passing-trash-to-comparison-operations-now-failshttpsrebolmetaeducationcomtmaking-call-raise-a-definitional-error-for-bad-exit-codes20682-1" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-7353-passing-trash-to-comparison-operations-now-failshttpsrebolmetaeducationcomtmaking-call-raise-a-definitional-error-for-bad-exit-codes20682-1"></a><a href="../making-call-raise-a-definitional-error-for-bad-exit-codes/2068/2.html">Passing TRASH to Comparison Operations Now Fails</a></h3>
<pre><code>&gt;&gt; if (10 = get/any $asdf) [print "Not legal in Ren-C"]
** Script Error: = expects [something?] for its value2 argument
</code></pre>
<p>This decision aligns with Rebol2's treatment of UNSET! in comparisons (though Red and R3-Alpha allow it).</p>
<h3><a name="p-7353-func-returns-trash-unless-you-use-an-explicit-returnhttpsrebolmetaeducationcomthow-attached-are-we-to-functions-return-last-result1219-2" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-7353-func-returns-trash-unless-you-use-an-explicit-returnhttpsrebolmetaeducationcomthow-attached-are-we-to-functions-return-last-result1219-2"></a><a href="../how-attached-are-we-to-functions-return-last-result/1219.html">FUNC returns TRASH unless you use an explicit RETURN</a></h3>
<p>A side effect of this is that it's a lot harder to accidentally return VOID from a function:</p>
<pre><code> whatever: func [x [block! group!]] [
     if block? x [append x spread [a b c]]
     if group? x [append x spread [d e f]]
 ]
</code></pre>
<p>Under the historical behavior, if you pass in a GROUP! the final function result would be the branch result of the APPEND which will be the group with [d e f] added.  But if you passed in a BLOCK! then the IF GROUP? test would be false and the overall return result would be a VOID.</p>
<h3><a name="p-7353-void-is-an-unstable-antiform-3" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-7353-void-is-an-unstable-antiform-3"></a>VOID Is An Unstable Antiform</h3>
<ul>
<li>
<p>Cannot store in variables</p>
</li>
<li>
<p>Ilegal in comparisons</p>
</li>
<li>
<p>Illegal in isolated conditional testing</p>
</li>
<li>
<p>Opts-out when testing conditionally in aggregate (e.g. ANY and ALL).</p>
</li>
</ul>
<h2><a name="p-7353-func-change-means-the-world-overall-is-more-full-of-trash-4" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-7353-func-change-means-the-world-overall-is-more-full-of-trash-4"></a>FUNC Change Means The World Overall Is More Full Of Trash</h2>
<p>In this case it's a good thing.  The fewer accidental VOIDs that are being produced in the ecology overall, the better I feel about constructs like EVAL being willing to produce them, or for things like REDUCE (or anything else) being willing to discard them.</p>
<h2><a name="p-7353-honestly-its-barely-come-up-yet-5" class="anchor" href="../what-should-do-of-empty-block-do-do/1426.html#p-7353-honestly-its-barely-come-up-yet-5"></a>Honestly, It's Barely Come Up... Yet</h2>
<p>Which is an indication it doesn't happen on accident.  So the main way it's going to come up is if people know that's the behavior, and start designing code that purposefully uses the pattern.</p>
<p>And if they do that, then that is a good thing, because they're getting use out of it?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_24' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-05-18T10:05:02Z' class='post-time'>
                    May 18, 2025, 10:05am
                  </time>
                  <meta itemprop='dateModified' content='2025-05-18T10:05:02Z'>
              <span itemprop='position'>24</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="1426">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p><strong>I don't know how pivotal the particular point of <strong><code>eval []</code></strong> is...</strong></p>
</blockquote>
</aside>
<p>So this turns out to actually be <em>very</em> pivotal, when you are thinking about the coherence of the system as a whole.</p>
<p>For instance:</p>
<pre><code>&gt;&gt; 1 + 2 (comment "vanishes")
== 3
</code></pre>
<p>In order for that to be true, we have to consider that when comment vanishes, it leaves whatever state the evaluation was initialized with in the output cell.  Hence, this must give the same result as:</p>
<pre><code>&gt;&gt; 1 + 2 ()
== 3
</code></pre>
<p>In other words, the evaluation of that empty GROUP! has to be a GHOST!.</p>
<p>More specifically, <strong>it has to be an "unsurprising" GHOST!</strong>  <img src="../../images/emoji/twitter/neutral_face.png%3Fv=14" title=":neutral_face:" class="emoji" alt=":neutral_face:" loading="lazy" width="20" height="20"></p>
<p>"Surprisingness" is a flag which drives whether a ghost will vanish in the evaluator or not.  If a ghost is not surprising, then it will just evaluate to a GHOST! value.  Surprising ghosts are those that come from functions whose type signature indicates that it may return something besides ghosts.</p>
<p><strong>If we believe <code>()</code> and <code>eval []</code> should have parity (and they should), then <code>eval []</code> needs to be a <code>GHOST!</code> ... however, it has to be a <strong>SURPRISING</strong> <code>GHOST!</code></strong></p>
<p>This is because unlike COMMENT, EVAL returns more than just GHOST!... it can return literally any value in the system.</p>
<p>(If you went back in time and said that the outcome of this discussion was not "trash" or "void", but rather <em>"surprising ghost"</em>, that would have sounded pretty strange.  It still sounds strange, but it's the correct and fascinating answer.)</p>
<p>Now that surprising ghosts exists, it raises questions at a lot of the sites that were forcing ghosts to become voids to help avoid accidents.  Surprising ghosts are less accident-prone than unsurprising ones... (if you get too comfortable with ghosts, and start getting complacent, they might do some damage).  But they do introduce a variability that isn't really desirable when vanishing isn't on the table.  Surprising ghosts really should only be used when piping fully arbitrary values around (e.g. combinators).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
