<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>.WORD as Member Selection - #3 by hostilefork - Binding - AltRebol</title>
    <meta name="description" content="I just got bit by a situation where there was something like this: 
 obj: make object! [
     spec: &amp;lt;whatever&amp;gt;
     actor: make object! [
          thing: function [port] [
               spec: any [global.spec, port.spe&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1843.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;.WORD as Member Selection&#39;" href="../1843.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/word-as-member-selection/1843/3" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/word-as-member-selection/1843/3" />
<meta property="og:title" content=".WORD as Member Selection" />
<meta name="twitter:title" content=".WORD as Member Selection" />
<meta property="og:description" content="Pure Virtual Binding opened the door to this, so I tried it.  I made the CONSTRUCT primitive a version of MAKE OBJECT! that didn&#39;t bind everything inside the block.  It only binds the SET-WORDs at the top level, so you can do things like this:  &gt;&gt; x: 10  &gt;&gt; construct [x: x + 10] == make object! [x: 20]  Then, my &quot;naive&quot; first approach to enable .WORD was simply to make tuple selection stow the object that it picked out of in the function value returned.  &gt;&gt; global: ~  &gt;&gt; obj: construct [x: 10, ..." />
<meta name="twitter:description" content="Pure Virtual Binding opened the door to this, so I tried it.  I made the CONSTRUCT primitive a version of MAKE OBJECT! that didn&#39;t bind everything inside the block.  It only binds the SET-WORDs at the top level, so you can do things like this:  &gt;&gt; x: 10  &gt;&gt; construct [x: x + 10] == make object! [x: 20]  Then, my &quot;naive&quot; first approach to enable .WORD was simply to make tuple selection stow the object that it picked out of in the function value returned.  &gt;&gt; global: ~  &gt;&gt; obj: construct [x: 10, ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2024-11-14T00:20:32+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1843.html">.WORD as Member Selection</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='.WORD as Member Selection'>
      <link itemprop='url' href='../1843.html'>
      <meta itemprop='datePublished' content='2022-06-16T09:17:41Z'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='I just got bit by a situation where there was something like this: 
 obj: make object! [
     spec: &amp;lt;whatever&amp;gt;
     actor: make object! [
          thing: function [port] [
               spec: any [global.spec, port.spe&amp;hellip;'>

          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-14T00:20:32Z' class='post-time'>
                    November 14, 2024, 12:20am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-14T02:47:01Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1843">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I had a lot of trouble deciphering Rebmake due to not knowing what was a function, an object, a member, or a global. It's a big advantage just to have dots for member selection distinct from slashes for refinements. But it would be a bigger advantage to be able to see at a glance that something was a member with the relatively brief dot annotation on <strong>.member</strong></p>
<p>As with most things pertaining to binding, I have no real clue how to make it work or cohere.</p>
</blockquote>
</aside>
<p>Pure Virtual Binding opened the door to this, so I tried it.</p>
<p>I made the CONSTRUCT primitive a version of MAKE OBJECT! that didn't bind everything inside the block.  It only binds the SET-WORDs at the top level, so you can do things like this:</p>
<pre><code>&gt;&gt; x: 10

&gt;&gt; construct [x: x + 10]
== make object! [x: 20]
</code></pre>
<p>Then, my "naive" first approach to enable .WORD was simply to make tuple selection stow the object that it picked out of in the function value returned.</p>
<pre><code>&gt;&gt; global: ~

&gt;&gt; obj: construct [x: 10, set $global /foo: does [.x]]

&gt;&gt; obj/x
== 10

&gt;&gt; /test: obj.x/
== ~#[frame! []]~  ; anti

&gt;&gt; test
== 10

&gt;&gt; global
** Error: .x has no object coupling in effect
</code></pre>
<p>In the case where you're extracting the action value to store in TEST, the value you get has a pointer to the OBJ object embedded inside it.  So it knows how to run it.</p>
<p>But the global variable that was set didn't get that.  It just has the uncoupled function.  There's a way for you to fix that:</p>
<pre><code> &gt;&gt; /global: couple global/ obj

 &gt;&gt; global
 == 10
</code></pre>
<p>We could make that easier, by letting you pass in a variable to update instead of an "immediate" ACTION! value, e.g. <strong><code>couple $global obj</code></strong>.  <em>(Being able to do both might be interesting for more functions of this nature.)</em></p>
<p>In any case, I don't really have a problem with the fact that doing something like that gives you an "uncoupled" method.  That seems fine.</p>
<p>But other things raise questions, some easier to address than others.</p>
<h2><a name="p-7891-what-about-enumerations-1" class="anchor" href="3.html#p-7891-what-about-enumerations-1"></a>What About Enumerations?</h2>
<pre><code>obj: make object! [x: 10, /foo: lambda [y] [.x + y]]

for-each [key ~/val] [  ; proposed notation for "maybe action"
    if action? val/~ [  ; proposed notation for "don't run, maybe action"
        print [val 1000]
    ]
]
</code></pre>
<p>If this is going to work, then the enumeration behind FOR-EACH has to add the coupling.</p>
<h2><a name="p-7891-when-to-override-2" class="anchor" href="3.html#p-7891-when-to-override-2"></a>When To Override?</h2>
<p>The current idea is that once an action gets a coupling, it sticks.</p>
<pre><code>&gt;&gt; obj1: make object! [x: 10, /foo: does [.x]]

&gt;&gt; obj2: make object! [x: 20, foo: ~]

&gt;&gt; /obj2.foo: obj1.foo/

&gt;&gt; obj2/foo
== 10
</code></pre>
<p>If you don't want this, you'd have to store an UNCOUPLE-d version of the function.</p>
<pre><code>&gt;&gt; /obj2.foo: uncouple obj1.foo/

&gt;&gt; obj2/foo
== 20
</code></pre>
<p>I don't really have a problem with that.</p>
<h2><a name="p-7891-should-all-functions-get-couplings-3" class="anchor" href="3.html#p-7891-should-all-functions-get-couplings-3"></a>Should ALL Functions Get Couplings?</h2>
<p>For starters, METHOD and FUNCTION were synonyms.  All actions would get "couplings" when picked out of contexts.</p>
<p>This is a bit dodgy in the sense that it seems to put the information in places that it doesn't belong.</p>
<p>So you might argue that if you fetch a function out of a word, then it should get a special state that isn't just "uncoupled", but "anti-coupled", e.g. it won't <em>ever</em> pick up a coupling (until you uncouple it).</p>
<p>Then we might ask how this should behave:</p>
<pre><code> obj: construct [
     x: 10
     /foo: func [y] [
        helper: does [print [.x + y]]
        helper
    ]
 ]
</code></pre>
<p>In order for that to work, the "anti-coupled" state would have to keep climbing the virtual bind chain vs. stopping at the frame for DOES, to use the <strong>.x</strong> from FOO.</p>
<p>The problems here don't seem insurmountable...but I'm definitely mulling over whether the picking up of couplings should be limited to a different kind of function, e.g. a METHOD.  It seems to me like it's good documentation, but it would help avoid contention:</p>
<pre><code> obj: construct [
     x: 10
     /foo: method [y] [
        helper: does [print [.x + y]]
        helper
    ]
 ]
</code></pre>
<p>With a situation like that, it could be the non-method character of DOES which you can use to trust that it won't have a competing meaning for <strong>.x</strong></p>
<p>This stuff is all in its early stages, but it really is way more promising than what came before it...</p>
<p><strong>I am pretty sure that CONSTRUCT--not propagating the binding deeply of the object onto everything inside the object--is the better answer for the default of making objects, e.g. <code>{x: x}</code></strong></p>
<p>The other idea, of making something that spreads its influences deeply, should probably have a name.</p>
<p><strong><code>CONTEXT</code></strong> wouldn't be a bad name, actually (and has historical precedent as an alias for MAKE OBJECT!), but I'm using that word with another nuance.  It's the same functionality as WRAP but just returning the context, so maybe <strong><code>wrap:context</code></strong> could say that you want the context back, not the block?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../first-bootstrap-in-at-least-6-months-watershed-changes/2334.html">First Bootstrap In At Least 6 Months: Watershed Changes</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1843.html#post_3">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
