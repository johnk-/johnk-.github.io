<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>`call` asynchronously? - #3 by hostilefork - Usage - AltRebol</title>
    <meta name="description" content="On Atronix R3 when I run call &amp;quot;zathura&amp;quot; the program runs asynchronously. When I do the same in Ren-C it waits for the program to terminate. The available refinements do not seem to help.">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1509.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;`call` asynchronously?&#39;" href="../1509.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/call-asynchronously/1509/3" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/call-asynchronously/1509/3" />
<meta property="og:title" content="`call` asynchronously?" />
<meta name="twitter:title" content="`call` asynchronously?" />
<meta property="og:description" content="CALL is a specialization of a more basic CALL*, which forces it to wait:  /extensions/process/ext-process-init.reb#L58  So you can just use CALL* (which is itself a layer that does some usermode preprocessing over parameters before they get to CALL-INTERNAL*.  For anything not performance-criticial, it&#39;s best to avoid trying to write it in C where it is harder to change, so the C code tries to keep it to the bare minimum of what&#39;s needed to expose the system functions).  There&#39;s actually some k..." />
<meta name="twitter:description" content="CALL is a specialization of a more basic CALL*, which forces it to wait:  /extensions/process/ext-process-init.reb#L58  So you can just use CALL* (which is itself a layer that does some usermode preprocessing over parameters before they get to CALL-INTERNAL*.  For anything not performance-criticial, it&#39;s best to avoid trying to write it in C where it is harder to change, so the C code tries to keep it to the bare minimum of what&#39;s needed to expose the system functions).  There&#39;s actually some k..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="article:published_time" content="2021-02-15T19:40:06+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1509.html">`call` asynchronously?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/7" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='`call` asynchronously?'>
      <link itemprop='url' href='../1509.html'>
      <meta itemprop='datePublished' content='2021-02-15T17:19:03Z'>
        <meta itemprop='articleSection' content='Usage'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='okram'>
            <link itemprop='url' rel='nofollow' href='../../../u/okram.html'>
          </span>
        <meta itemprop='text' content='On Atronix R3 when I run call &amp;quot;zathura&amp;quot; the program runs asynchronously. When I do the same in Ren-C it waits for the program to terminate. The available refinements do not seem to help.'>

          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-15T19:40:06Z' class='post-time'>
                    February 15, 2021,  7:40pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-15T20:06:21Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="okram" data-post="1" data-topic="1509">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../letter_avatar_proxy/v4/letter/o/b9bd4f/48.png" class="avatar"> okram:</div>
<blockquote>
<p>On Atronix R3 when I run <code>call "zathura"</code> the program runs asynchronously. When I do the same in Ren-C it waits for the program to terminate.</p>
</blockquote>
</aside>
<p>CALL is a specialization of a more basic <code>CALL*</code>, which forces it to wait:</p>
<p><a href="https://github.com/metaeducation/ren-c/blob/5d54daea5979911b00455a98fbcfa28c15af6951/extensions/process/ext-process-init.reb#L58">/extensions/process/ext-process-init.reb#L58</a></p>
<p>So you can just use <code>CALL*</code> <em>(which is itself a layer that does some usermode preprocessing over parameters before they get to <code>CALL-INTERNAL*</code>.  For anything not performance-criticial, it's best to avoid trying to write it in C where it is harder to change, so the C code tries to keep it to the bare minimum of what's needed to expose the system functions)</em>.</p>
<p>There's actually some kind of interesting code going on here, glossing the command line differences between Windows and POSIX.  Windows operates on the basis of one big command line string, while UNIX expects an array of individual elements.</p>
<p>So if you're on POSIX and call with a single string, the native code hooked to exec() and pipe() will call out to the usermode <a href="https://github.com/metaeducation/ren-c/blob/5d54daea5979911b00455a98fbcfa28c15af6951/extensions/process/ext-process-init.reb#L60">parse-command-to-argv*</a></p>
<p>And if you're on Windows and call with a block, the native code hooked to CreateProcess will call out to the usermode <a href="https://github.com/metaeducation/ren-c/blob/5d54daea5979911b00455a98fbcfa28c15af6951/extensions/process/ext-process-init.reb#L60">argv-block-to-command*</a></p>
<p>I've written about this and I think it's neat.</p>
<aside class="quote quote-modified" data-post="1" data-topic="1100">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar">
    <a href="../../open-your-mind-a-collect-in-parse-meditation/1100.html">Open Your Mind: A COLLECT in PARSE Meditation</a> <a class="badge-category__wrapper " href="https://rebol.metaeducation.com/c/usage/show-and-tell/33"><span data-category-id="33" style="--category-badge-color: #3AB54A; --category-badge-text-color: #FFFFFF; --parent-category-badge-color: #3AB54A;" data-parent-category-id="7" data-drop-close="true" class="badge-category --has-parent" title="Created something short and syrupy sweet?  Then post your scripts here; not confined to infinite length one-liners!"><span class="badge-category__name">Show &amp; Tell</span></span></a>
  </div>
  <blockquote>
    The first time I used CALL, I griped that it was somewhat unusable (with a complaint that basically everyone else who tried it had, my complaint was far from unique).  I would have thought that if I said call {r3 --do "print {Hello}"} that it would "do what I meant".  Instead, what it did was try and find an executable file whose name (including spaces and quotes) was r3 --do "print {Hello}", and run it. 
As crazy as that interpretation may seem on the surface, it actually came from a desire to …
  </blockquote>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1509.html#post_3">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
