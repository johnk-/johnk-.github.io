<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What will Rebol on the Web Look Like? - #4 by hostilefork - Web - AltRebol</title>
    <meta name="description" content="First: We had emscripten as a black box %r3.js, which you could give a string to, and it would evaluate it and give a string back. 
Second: We had the variadic-based libRebol manifesting as JavaScript.  It&amp;#39;s important fo&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../850.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;What will Rebol on the Web Look Like?&#39;" href="../850.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/what-will-rebol-on-the-web-look-like/850/4" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/what-will-rebol-on-the-web-look-like/850/4" />
<meta property="og:title" content="What will Rebol on the Web Look Like?" />
<meta name="twitter:title" content="What will Rebol on the Web Look Like?" />
<meta property="og:description" content="I wanted to say that the #2 and #3 merge did indeed go very well, and we no longer have to think of these as separate scenarios.  To recap what that meant: #2 was the idea that people would be able to code applications from a &quot;Rebol Worldview&quot; in the browser.  They can use no JavaScript at all if they like (or throw in little bits of &quot;inline JavaScript&quot; when it suits them...e.g. they find there isn&#39;t something already bridged in the Rebol routines to do what they want.)  Because we have the bas..." />
<meta name="twitter:description" content="I wanted to say that the #2 and #3 merge did indeed go very well, and we no longer have to think of these as separate scenarios.  To recap what that meant: #2 was the idea that people would be able to code applications from a &quot;Rebol Worldview&quot; in the browser.  They can use no JavaScript at all if they like (or throw in little bits of &quot;inline JavaScript&quot; when it suits them...e.g. they find there isn&#39;t something already bridged in the Rebol routines to do what they want.)  Because we have the bas..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Web" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="article:published_time" content="2019-08-27T20:36:49+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../850.html">What will Rebol on the Web Look Like?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/web/48" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/web/48" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Web</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='What will Rebol on the Web Look Like?'>
      <link itemprop='url' href='../850.html'>
      <meta itemprop='datePublished' content='2018-10-10T02:45:50Z'>
        <meta itemprop='articleSection' content='Web'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='First: We had emscripten as a black box %r3.js, which you could give a string to, and it would evaluate it and give a string back. 
Second: We had the variadic-based libRebol manifesting as JavaScript.  It&amp;#39;s important fo&amp;hellip;'>

          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-08-27T20:36:49Z' class='post-time'>
                    August 27, 2019,  8:36pm
                  </time>
                  <meta itemprop='dateModified' content='2019-08-27T20:45:55Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="850">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>As a result, the merging of <span class="hashtag-raw">#2</span> and <span class="hashtag-raw">#3</span> has already started, which can be seen here:</p>
</blockquote>
</aside>
<p>I wanted to say that the <span class="hashtag-raw">#2</span> and <span class="hashtag-raw">#3</span> merge did indeed go very well, and we no longer have to think of these as separate scenarios.</p>
<p>To recap what that meant: <span class="hashtag-raw">#2</span> was the idea that people would be able to code applications from a "Rebol Worldview" in the browser.  They can use no JavaScript at all if they like (or throw in little bits of "inline JavaScript" when it suits them...e.g. they find there isn't something already bridged in the Rebol routines to do what they want.)</p>
<p>Because we have the baseline of that working, you can write a traditional app with PRINT and ASK TEXT! (formerly INPUT)...also doing READs from URL!s off their own domain (wherever the app is hosted) or from remote domains (if the files support CORS).</p>
<p>That isn't just enough to write a console with, <em>that's enough to run the actual common console extension used by the interpreter itself</em>.  Also, <a class="mention" href="../../../u/brianotto.html">@BrianOtto</a> made a game/tutorial demo, and I made a guided interactivity test.</p>
<p>The big question is now about how people will make such apps that make the ReplPad console disappear into the background.  I kind of want to punt on that until we know more...so if people could tolerate the idea that their applications are launched from the console I'd like to go that route.  We can find various ways of making the URL format that auto-launches your app more palatable.</p>
<h2><a name="p-3478-so-what-about-option-1-1" class="anchor" href="4.html#p-3478-so-what-about-option-1-1"></a>So what about option 1?</h2>
<p>Option 1 was the idea that someone's web page is mostly JavaScript, and Rebol sneaks in as an assistant...to do parsing, or other various things.</p>
<p>This isn't impossible, but it's very hard to guarantee that a Rebol script doesn't have any I/O.  And if it does have I/O...and there's no ReplPad...what should it do?  Write to the JavaScript console?  Should any ASK for input be treated as an error?</p>
<p>Imagine you want to do something like:</p>
<pre><code> var url = "http://hostilefork.com"  ; pretend I enabled CORS :-/
 var title = reb.Spell(
      "parse as text! read", url, 
          "[thru &lt;title&gt; copy title to &lt;/title&gt;]",
      "title"
 );
</code></pre>
<p>That seems pretty cool.  The variadic API even saves you from having to concatenate strings with <code>+</code>, which would make you put awkward spacing in that could be easy to forget (<code>"... read " + url + " [thru..."</code>).  It's more readable this way.</p>
<p>But the problem I mentioned is still there: <em>JavaScript cannot synchronously handle a network request like this</em>.  It just can't.  You have to write something more like:</p>
<pre><code> var url = "http://hostilefork.com"
 reb.Promise(
      "parse as text! read", url, 
          "[thru &lt;title&gt; copy title to &lt;/title&gt;]",
      "title"
 ).then(function(title) {
     ... do stuff with title ...
 );
</code></pre>
<p>Or, if you've followed all the rules of your <em>entire stack to the top of your JavaScript code with <code>async</code> functions</em>, you can say:</p>
<pre><code> var url = "http://hostilefork.com"
 var title = reb.Spell(await reb.Promise(
      "parse as text! read", url, 
          "[thru &lt;title&gt; copy title to &lt;/title&gt;]",
      "title"
 ));
</code></pre>
<p>We can probably make this slightly better as <code>title = await reb.SpellPromise(...)</code> (or PromiseSpell?  SpellAsync?)</p>
<p>But less important than the naming convention is the fundamental question: <strong>how did the caller know whether or not the Rebol code they called was going to be able to complete without doing something that requires yield processing in the JavaScript callsite</strong>?</p>
<p>This is one splendid argument for why Option <span class="hashtag-raw">#2</span> is a way forward for authoring code on the web.  Because when you're not putting arbitrary JavaScript code in the driver's seat, you just don't worry about it.  The entire application runs inside of <a href="https://github.com/hostilefork/replpad-js/blob/0f6adc899215d663048e28d6767ee7cf61789500/gui.js#L678">One Giant reb.Promise()</a>.</p>
<h2><a name="p-3478-but-would-js-programmers-see-value-in-1-2" class="anchor" href="4.html#p-3478-but-would-js-programmers-see-value-in-1-2"></a>But Would JS Programmers See Value in <span class="hashtag-raw">#1</span>?</h2>
<p>I think it's kind of odious to imagine every single thing you'd want to do with Rebol to require asynchronous handling.  But the design of the API is pretty clever IMO, and it means you don't necessarily have to do a bunch of nitpicky API calls to get the data you want...you can usually tie it all up with one single call where the Rebol code has pared out everything you need...and you get the JS result you want.  If we could transform BLOCK!s of data items to a JavaScript array (<strong>reb.UnboxArrayPromise()</strong>) then this could be even more true.</p>
<p>I also pointed out in the post <a href="../../on-giving-librebol-js-more-powers-than-javascript/849.html">"On Giving libRebol.JS More Powers Than JavaScript"</a>, I don't think JS programmers will see this as any particularly bad thing.  They just plug along.</p>
<p>So if every single entry point to calling the Rebol interpreter was a promise, they'd probably like it.  More time to let the main loop run!  In fact, they're getting a powerful WASM web worker experience for free...it's like they can do background processing and still paint and process input.  <em>Hence I may be overthinking this, and we should just tell people using <span class="hashtag-raw">#1</span> to always use the Promise APIs because the non-Promise ones might error if any asynchronous requirement creeps in.</em></p>
<p><strong>FWIW: This Is Pretty Well Understood Now, and Going Great</strong>...we just need to have people understand why it's great.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../850.html#post_4">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
