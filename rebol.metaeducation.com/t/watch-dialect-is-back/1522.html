<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>WATCH Dialect Is Back - Debugger - AltRebol</title>
    <meta name="description" content="For a while, the WATCH dialect wasn&amp;#39;t working in the ReplPad.  Fixing it actually turned out to be rather difficult, because ReplPad was changed to use FUNC and LET exclusively (no FUNCTION).  So this was really the firs&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="1522.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;WATCH Dialect Is Back&#39;" href="1522.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/watch-dialect-is-back/1522" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/watch-dialect-is-back/1522" />
<meta property="og:title" content="WATCH Dialect Is Back" />
<meta name="twitter:title" content="WATCH Dialect Is Back" />
<meta property="og:description" content="For a while, the WATCH dialect wasn&#39;t working in the ReplPad.  Fixing it actually turned out to be rather difficult, because ReplPad was changed to use FUNC and LET exclusively (no FUNCTION).  So this was really the first complex dialect whose implementation depended fully on virtual LET-binding.  Debugging in the browser is significantly harder, so that made it pretty mean.  But now that it&#39;s working, I have the headless browser test running the dialect.  It&#39;s a fun thing, so why not go ahead a..." />
<meta name="twitter:description" content="For a while, the WATCH dialect wasn&#39;t working in the ReplPad.  Fixing it actually turned out to be rather difficult, because ReplPad was changed to use FUNC and LET exclusively (no FUNCTION).  So this was really the first complex dialect whose implementation depended fully on virtual LET-binding.  Debugging in the browser is significantly harder, so that made it pretty mean.  But now that it&#39;s working, I have the headless browser test running the dialect.  It&#39;s a fun thing, so why not go ahead a..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Debugger" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2021-02-24T22:09:41+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1522.html">WATCH Dialect Is Back</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/debugger/34" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/debugger/34" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Debugger</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='WATCH Dialect Is Back'>
      <link itemprop='url' href='1522.html'>
      <meta itemprop='datePublished' content='2021-02-24T22:09:41Z'>
        <meta itemprop='articleSection' content='Debugger'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="1522.html">


              <span class="crawler-post-infos">
                  <time  datetime='2021-02-24T22:09:41Z' class='post-time'>
                    February 24, 2021, 10:09pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-24T22:09:41Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>For a while, the WATCH dialect wasn't working in the ReplPad.  Fixing it actually turned out to be rather difficult, because ReplPad was changed to use FUNC and LET exclusively (no FUNCTION).  So this was really the first complex dialect whose implementation depended fully on virtual LET-binding.  Debugging in the browser is significantly harder, so that made it pretty mean.</p>
<p>But now that it's working, I have the headless browser test running the dialect.</p>
<p>It's a fun thing, so why not go ahead and <a href="http://hostilefork.com/media/shared/replpad-js/">load up the ReplPad</a> and try it?</p>
<p>Interestingly, it loads the watch extension the first time you invoke WATCH.</p>
<pre><code>&gt;&gt; watch x  ; (slot 1): ~unset~
</code></pre>
<p>This should show <code>~unset~</code> in watch slot 1.  If you change the value of <code>x</code>, then you should see the slot update.</p>
<pre><code> &gt;&gt; x: 304
 == 304   ; (slot 1): 304
</code></pre>
<p>The way the updating works right now is by hooking the console's PRINT-RESULT function.  After the result has been printed, it updates the slots.  So you won't see the values change during the evaluation, only each time you get a console prompt.</p>
<p>If you want you can ask the watchlist to give you the value stored in a slot, by passing an integer.</p>
<pre><code>&gt;&gt; watch 1
== 304
</code></pre>
<p>You can hide the watchlist</p>
<pre><code>&gt;&gt; watch /off
</code></pre>
<p>And you can show the watchlist</p>
<pre><code>&gt;&gt; watch /on
</code></pre>
<p>If you want to delete a watch, you can use a negative number</p>
<pre><code>&gt;&gt; watch -1
</code></pre>
<p>It would be helpful if <a class="mention" href="https://rebol.metaeducation.com/u/rgchris">@rgchris</a> could look over the splitter and see how sane the strategy is.  What I would like is a way to make panels generically, so they can work in something like <a href="https://golden-layout.com/">Golden Layouts</a>.  I don't want to <em>require</em> something that heavy to run a replpad instance...I'd actually like it to be possible to just kind of load a console on-demand and have it pop up for debugging an app that was using Ren-C as a library.  But it would be great to be <em>able</em> to use Golden Layout (or similar).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-24T22:18:12Z' class='post-time'>
                    February 24, 2021, 10:18pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-24T22:18:12Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1522">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>What I would like is a way to make panels generically</p>
</blockquote>
</aside>
<p>Would it be enough for now to have a Ren Garden-like side panel? Would have some issues with layout on smaller screens, but otherwise wouldn't see it as being a major issue.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-24T22:23:04Z' class='post-time'>
                    February 24, 2021, 10:23pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-24T22:25:07Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="rgchris" data-post="2" data-topic="1522">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p>Would it be enough for now to have a Ren Garden-like side panel?</p>
</blockquote>
</aside>
<p>How do you mean different from how WATCH works now?  (It has a splitter and a side panel modeled after Ren Garden)</p>
<p>The splitter being used currently is <strong><a href="https://split.js.org/">split.js</a></strong>.  I don't actually remember where I got the table code, but it's not a library widget...those were all much too big, so I just <a href="https://github.com/hostilefork/replpad-js/blob/bc435c19822d12496abe08746f47dee2608ae20e/watchlist/watchlist.css#L62">cobbled something together</a> from the thinnest examples I could find.</p>
<p>What I'd like is a framework so we can plug into basically anything.  I'm really interested in a build that has no console in it...that can fetch the console and pop it up (e.g. on a page that ordinarily just does stuff like leverage PARSE behind the scenes, and it wouldn't need a console or watchlist for that).</p>
<p>Modularizing it so that the console code is pulled on-demand as a separate extension is interesting to me.  This can be done with what are called Wasm "side modules" (the webassembly equivalent of a DLL)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-24T22:37:31Z' class='post-time'>
                    February 24, 2021, 10:37pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-24T22:37:31Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="1522">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>How do you mean different from how WATCH works now?</p>
</blockquote>
</aside>
<p>Well I got as far as opening the console...</p>
<p>I could suggest a minimalist concept that would just involve managing DIVs and preset Flexbox/Grid layouts—less JavaScript, a little more CSS. Again, how much are you concerned about smaller screens? I notice it still has a split at phone widths?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-24T23:50:25Z' class='post-time'>
                    February 24, 2021, 11:50pm
                  </time>
                  <meta itemprop='dateModified' content='2021-02-24T23:50:25Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="rgchris" data-post="4" data-topic="1522">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p>how much are you concerned about smaller screens</p>
</blockquote>
</aside>
<p>I don't know about doing multiple panels at once on smaller screens.  Certainly seems docking windows wouldn't be a good fit.</p>
<p>Watchlist might be something that could do a vertical split on a phone, showing you one or two watches.</p>
<p>But generally I would think that if you have multiple panels on a phone, you'd be swiping between them...maybe left and right swiping?  I think it would be all right to assume each panel takes a full screen for starters if you use something in this abstract "panel model" on a phone.</p>
<p>Like I say, one of the more interesting panel models would be some kind of "zero panels to start with" model.  So you could have a mostly JavaScript website with its own UI that wanted to use some Ren-C services...but, if you needed to, you could call something to pop up a ReplPad to debug with.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
