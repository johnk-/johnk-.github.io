<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sample Custom Datatype Idea: Sound - #2 by rgchris - Datatypes - AltRebol</title>
    <meta name="description" content="As an example, lets build a simple custom structure: 
[[internal structures][data1][data2][data3][data4]]

I want that that head corresponds to data1, and index? returns1 when positioned there. 
If you have an internal a&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1899.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Sample Custom Datatype Idea: Sound&#39;" href="../1899.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/sample-custom-datatype-idea-sound/1899/2" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/sample-custom-datatype-idea-sound/1899/2" />
<meta property="og:title" content="Sample Custom Datatype Idea: Sound" />
<meta name="twitter:title" content="Sample Custom Datatype Idea: Sound" />
<meta property="og:description" content="You could do something like that now with the PORT! datatype, though awkwardly. The port actors return whatever you want them to:  my-sound: make port! [     scheme: &#39;simple-sound     [data1] [data2] [data3] ... ]  ; in Rebol 3, the only requirement creating a port with a block ; is that it begin [scheme: &#39;scheme-name ...], can be followed ; by any data sequence accessible to INIT/actors via ; PORT/SPEC/REF  length-of my-sound ; == whatever your &#39;length-of actor returns  sound-suite/play my-sou..." />
<meta name="twitter:description" content="You could do something like that now with the PORT! datatype, though awkwardly. The port actors return whatever you want them to:  my-sound: make port! [     scheme: &#39;simple-sound     [data1] [data2] [data3] ... ]  ; in Rebol 3, the only requirement creating a port with a block ; is that it begin [scheme: &#39;scheme-name ...], can be followed ; by any data sequence accessible to INIT/actors via ; PORT/SPEC/REF  length-of my-sound ; == whatever your &#39;length-of actor returns  sound-suite/play my-sou..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Datatypes" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2022-07-24T12:44:06+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1899.html">Sample Custom Datatype Idea: Sound</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Sample Custom Datatype Idea: Sound'>
      <link itemprop='url' href='../1899.html'>
      <meta itemprop='datePublished' content='2022-07-24T10:23:27Z'>
        <meta itemprop='articleSection' content='Datatypes'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='GiuseppeChillemi'>
            <link itemprop='url' rel='nofollow' href='../../../u/GiuseppeChillemi.html'>
          </span>
        <meta itemprop='text' content='As an example, lets build a simple custom structure: 
[[internal structures][data1][data2][data3][data4]]

I want that that head corresponds to data1, and index? returns1 when positioned there. 
If you have an internal a&amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-24T12:44:06Z' class='post-time'>
                    July 24, 2022, 12:44pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-24T12:44:06Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="GiuseppeChillemi" data-post="1" data-topic="1899">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../letter_avatar_proxy/v4/letter/g/838e76/48.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>I want that that <code>head</code> corresponds to <code>data1</code>, and <code>index?</code> returns1 when positioned there.</p>
</blockquote>
</aside>
<p>You could do something like that now with the PORT! datatype, though awkwardly. The <a href="../../could-strings-have-context/587/19.html">port actors return whatever you want them to</a>:</p>
<pre><code class="lang-plaintext">my-sound: make port! [
    scheme: 'simple-sound
    [data1] [data2] [data3] ...
]

; in Rebol 3, the only requirement creating a port with a block
; is that it begin [scheme: 'scheme-name ...], can be followed
; by any data sequence accessible to INIT/actors via
; PORT/SPEC/REF

length-of my-sound
; == whatever your 'length-of actor returns

sound-suite/play my-sound
; can check: port? my-sound; my-sound/scheme = 'simple-sound
</code></pre>
<p>One of the reasons I think PORT! is misunderstood is that this type of usage isn't really 'port' in the traditional sense of an interface between systems, I'd suggest this falls under the <a href="http://rebol.info/rebolsteps.html#section-8">traditional conception of Rebol objects</a> which I think could be improved upon. Hence...</p>
<aside class="quote no-group" data-username="GiuseppeChillemi" data-post="1" data-topic="1899">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../letter_avatar_proxy/v4/letter/g/838e76/48.png" class="avatar"> GiuseppeChillemi:</div>
<blockquote>
<p>If you have an internal action called "reposition" and "get-position" belonging to that datatype, Ren-C should look at the block if it carries an additional management object. If it contains "reposition" and "get-position" it should use this custom functions to override the standard ones for the datatype.</p>
</blockquote>
</aside>
<p>This sort of comports to the <a href="../../could-strings-have-context/587/18.html">Javascript object model</a> and is the intent behind my <a href="../../class-an-alternative-to-method/1440.html">Class proposal</a>. The efficiency in this model is that functions are not copied from the prototype to the kids, nor are default values—the kids only contain values where they deviate from the prototype. On further consideration, I would likely add verb actors to the Class model and possibly methods of handling iteration that it can be traversed by the *-EACH functions.</p>
<p><em>As an aside, Javascript objects (including arrays) are entirely built on associative arrays (MAP!) with string keys, there's no binding (the value of THIS within a function is determined by how it is called and can be overridden by .APPLY()/.CALL()). A path <code>myobject.thing</code> is shorthand for <code>myobject['thing']</code>, similarly <code>myarray[0]</code> is shorthand for <code>myarray['0']</code>; if <code>myobject</code> has no <code>'thing'</code> key, JS will keep looking up the prototype chain until it reaches <code>Object.prototype</code> (which is where, e.g. <code>apply/call</code> live) and will return <code>undefined</code> if it's not found. In this way it avoids Rebol OBJECT! needing every key in each kid, and <code>instanceof</code> gives you some assurance that your object value has the requisite set of method (there's no equivalent of this in Rebol objects, slight equivalent in Rebol ports—<code>value/scheme = 'myscheme</code>).</em></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1899.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
