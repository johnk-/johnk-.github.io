<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Errors on &quot;Locked&quot; Binding? - #2 by hostilefork - Binding - AltRebol</title>
    <meta name="description" content="Another thought—and this is definitely half-baked, but in the same vein as CONSTANT/MUTABLE, I&amp;#39;d prefer to get an error when an implied binding operation happens on a &amp;#39;locked&amp;#39; block. In this case, I might say bind/lock &amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1936.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Errors on &quot;Locked&quot; Binding?&#39;" href="../1936.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/errors-on-locked-binding/1936/2" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/errors-on-locked-binding/1936/2" />
<meta property="og:title" content="Errors on &quot;Locked&quot; Binding?" />
<meta name="twitter:title" content="Errors on &quot;Locked&quot; Binding?" />
<meta property="og:description" content="But this would raise a binding error:  baz: [foo] make object! compose/only [     foo: 2     bar: (baz) ] =&gt; ** Baz already bound to context   A problem with outlawing binding is that in the general case, code doesn&#39;t really know how much binding it has been through already.  That can be the loading process behind a module... or an abstract dialect that has slots in it where you can put code.  Just consider things like the OPERATION abstraction just added to Whitespace.  You want the code in th..." />
<meta name="twitter:description" content="But this would raise a binding error:  baz: [foo] make object! compose/only [     foo: 2     bar: (baz) ] =&gt; ** Baz already bound to context   A problem with outlawing binding is that in the general case, code doesn&#39;t really know how much binding it has been through already.  That can be the loading process behind a module... or an abstract dialect that has slots in it where you can put code.  Just consider things like the OPERATION abstraction just added to Whitespace.  You want the code in th..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2021-02-01T05:48:21+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1936.html">Errors on &quot;Locked&quot; Binding?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Errors on &quot;Locked&quot; Binding?'>
      <link itemprop='url' href='../1936.html'>
      <meta itemprop='datePublished' content='2021-01-31T14:44:14Z'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='rgchris'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'>
          </span>
        <meta itemprop='text' content='Another thought—and this is definitely half-baked, but in the same vein as CONSTANT/MUTABLE, I&amp;#39;d prefer to get an error when an implied binding operation happens on a &amp;#39;locked&amp;#39; block. In this case, I might say bind/lock &amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-02-01T05:48:21Z' class='post-time'>
                    February 1, 2021,  5:48am
                  </time>
                  <meta itemprop='dateModified' content='2021-02-01T06:22:23Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>But this would raise a binding error:</p>
<pre><code>baz: [foo]
make object! compose/only [
    foo: 2
    bar: (baz)
]
=&gt; ** Baz already bound to context
</code></pre>
</blockquote>
<p>A problem with outlawing binding is that in the general case, code doesn't really know how much binding it has been through already.  That can be the loading process behind a module... or an abstract dialect that has slots in it where you can put code.</p>
<p>Just consider things like the <a href="https://github.com/hostilefork/whitespacers/blob/4f9e6ce0137658e3809dc24ac1bcc988f1119d83/ren-c/whitespace.reb#L353">OPERATION abstraction just added to Whitespace</a>.  You want the code in the body to be able to see library definitions you load in to the module as a whole--that foundation is done by a bunch of binding.  Then it's building a function behind the scenes...a process that means binding to locals and (synthesized) arguments.</p>
<p>While it's using "global" variables to access parts of the virtual machine state, this needs to change to something that's more narrow.  Maybe it gets at everything through one variable like your STATE approach, so it would have to say things like <strong>state/stack</strong>.  But as I mentioned that feels heavy-handed... I think it's nice to just have an implicit <strong>stack</strong> variable since messing with it is so common.  So broadening this set out to N implicit variables seems better, maybe just a few shorthands (e.g. STACK allowed instead of VM/STACK, but other things might require VM/XXX)</p>
<p>In such a layered world, what kind of rule could MAKE OBJECT! enforce to disallow binding?  What's the test it does on a block to say "hmm, this is too bound up".</p>
<aside class="quote no-group" data-username="rgchris" data-post="1" data-topic="1936">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p>this is definitely half-baked</p>
</blockquote>
</aside>
<p>Yep!  <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=14" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>
<p>But I'm <strong>very</strong> glad you are picking up involvement in this line of thinking.  Because having an <em>interest</em> in this topic at all seems to be pathologically absent from most of the Rebolverse (whereas I believe it is kind of <strong>the</strong> essential question of what the semantic basis for the language could possibly be...)</p>
<p>In terms of inch-by-inch progress: the baby step I've been trying for starters is to stop mutable binds from happening to CONST data.  Since functions make their bodies CONST, that means anything that would "bind implicitly" (such as MAKE OBJECT!) would have to be switched from BIND-style binding to IN-style binding.</p>
<p>There's actually still some violators, due to a lot of little technicalities in a very sprawling and organically evolved codebase.  But good news is that the compiler can catch the violations (just by making a C++ build).  There just have to be little "ignore the violation" tweaks in--for now--for some bits to run.</p>
<p>I hope you take a look through the <a href="../../whitespace-interpreter-revisited/1482/5.html">steps to upgrade the Whitespace example</a> and some of the questions it raises.  Right out of the gate, it needed a variant of MAKE OBJECT! which didn't broadcast the bindings down through the body...and you can see how I did that <a href="https://github.com/hostilefork/whitespacers/commit/47d9c91505cd8922c170ed1ffbdf6d09df08ac59#diff-619ca62208d20bfa8042f5d5bec79e492afd7e59a84eadcc89e15e37e0aef660R64">in the CATEGORY implementation</a>.</p>
<p>This is a very excruciatingly manual form of what I talk about in "breaking MAKE OBJECT! into multiple operations".  <strong>But this is a very common need and people shouldn't have to write their own version of it.</strong></p>
<p>I doubt the needs are all that different from your Parse Machine.  But the advantage the whitespace case has is that it's a rather easy-to-understand and documented scenario that can be compared with implementations in other languages.  So I hope you can chime in on helping to solve these fundamental and mission-critical problems...what are the steps, what do we call them, and how does it all plug together to make a compelling story.</p>
<p>If a Redbol can't solve problems like this, then the big-picture promises are basically snake oil.  People are merely going down a Turing tarpit of making weirdly brittle spaghetti code in Rebol--simply because it can't <em>stop</em> you from solving a problem using it (not because it's providing material support).   I think Ren-C stands on reasonable ground to build the Actual Value solution.  But it needs your help.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1936.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
