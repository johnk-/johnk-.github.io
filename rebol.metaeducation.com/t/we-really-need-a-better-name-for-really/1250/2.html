<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Function That Errors on NULL (But Passes Thru Everything Else) - #2 by hostilefork - Naming - AltRebol</title>
    <meta name="description" content="If I&amp;#39;ve done my due diligence in reasoning through a world where NULL is normalized, then being able to have your code assert places where you didn&amp;#39;t expect a NULL is pretty important. 
Once upon a time, this was called &amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1250.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Function That Errors on NULL (But Passes Thru Everything Else)&#39;" href="../../function-that-errors-on-null-but-passes-thru-everything-else/1250.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/function-that-errors-on-null-but-passes-thru-everything-else/1250/2" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/function-that-errors-on-null-but-passes-thru-everything-else/1250/2" />
<meta property="og:title" content="Function That Errors on NULL (But Passes Thru Everything Else)" />
<meta name="twitter:title" content="Function That Errors on NULL (But Passes Thru Everything Else)" />
<meta property="og:description" content="After reading my list, I started feeling like nothing seemed to rival ENSURE.  Which gave me the idea of retaking it for ensuring something&#39;s not NULL and then doing the match in two steps.  So instead of just saying ensure [integer! text!] thing you&#39;d say ensure match [integer! text!] thing.  That looks pretty good to the casual observer, because all failed MATCH returns NULL, right?  It&#39;s a little more typing, but it&#39;s literate--and you can abbreviate it if you do it a lot.  (matches: chain [:..." />
<meta name="twitter:description" content="After reading my list, I started feeling like nothing seemed to rival ENSURE.  Which gave me the idea of retaking it for ensuring something&#39;s not NULL and then doing the match in two steps.  So instead of just saying ensure [integer! text!] thing you&#39;d say ensure match [integer! text!] thing.  That looks pretty good to the casual observer, because all failed MATCH returns NULL, right?  It&#39;s a little more typing, but it&#39;s literate--and you can abbreviate it if you do it a lot.  (matches: chain [:..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Naming" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2019-12-07T10:52:14+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1250.html">Function That Errors on NULL (But Passes Thru Everything Else)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Function That Errors on NULL (But Passes Thru Everything Else)'>
      <link itemprop='url' href='../1250.html'>
      <meta itemprop='datePublished' content='2019-12-07T07:52:46Z'>
        <meta itemprop='articleSection' content='Naming'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='If I&amp;#39;ve done my due diligence in reasoning through a world where NULL is normalized, then being able to have your code assert places where you didn&amp;#39;t expect a NULL is pretty important. 
Once upon a time, this was called &amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2019-12-07T10:52:14Z' class='post-time'>
                    December 7, 2019, 10:52am
                  </time>
                  <meta itemprop='dateModified' content='2023-06-26T01:50:40Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>After reading my list, I started feeling like nothing seemed to rival ENSURE.  Which gave me the idea of retaking it for ensuring something's not NULL and then doing the match in two steps.  So instead of just saying <strong>ensure [integer! text!] thing</strong> you'd say <strong>ensure match [integer! text!] thing</strong>.</p>
<p>That looks pretty good to the casual observer, because all failed MATCH returns NULL, right?  It's a little more typing, but it's literate--and you can abbreviate it if you do it a lot.  (<code>matches: chain [:match | :ensure]</code>)  Then you have a fully generic ENSURE as its own part.</p>
<p><em>Then I tried it and remembered why you can't do it this way.</em>  MATCH can be given falsey things to test, like BLANK! or LOGIC! false, or even <code>&lt;opt&gt;</code> to pass NULL itself.  When that happens and it matches, the result is converted to NONE.</p>
<p>This means that REALLY MATCH (or after the theorized renaming to ENSURE MATCH) is not a substitute for today's ENSURE behavior.  To illustrate the situation as it looks right now:</p>
<pre><code>block: [1 _ 3]

if ensure [blank! integer!] second block [
   print "Why would you test something that FAILs if it doesn't succeed?"
   print "You wouldn't, so no one writes this pattern!"
   print "So no need to worry about VOID!ing a blank"
]

if match [blank! integer!] second block [
    print "...but you might easily write something like this.  :-("
    print "It's good to catch if you do via VOID!"
    print "To mitigate it, you can say `if value? match [...]`"
    print "And there's EITHER-MATCH if your use was more complex"
]

data: really match [blank! integer!] second block
; ^-- you just got NONE and not the BLANK you wanted :-/
</code></pre>
<p>I might try to say this fell into the category of me overthinking things, except <em>this is a really easy mistake to make with a matching dialect</em>.  And for a double whammy, look at this:</p>
<pre><code> &gt;&gt; x: really match &lt;opt&gt; null
 == ~
</code></pre>
<p>There you have two problems compounded.  Firstly MATCH didn't want to give a deceptively falsey result (it <em>did</em> match) so it helped you know with NONE.  But even if it <em>had</em> given you a falsey result, REALLY would have rejected it...because the input you are matching was NULL.  Yet REALLY-MATCH can do this just fine due to understanding the combination:</p>
<pre><code> &gt;&gt; x: really-match &lt;opt&gt; null
 ; null
</code></pre>
<p><strong>Long story short: ENSURE is probably good how it is.</strong>  NONE may no longer make sense for MATCH on falsey input vs. raising an error, though.  Like I said--these are hard puzzles to fit together.</p>
<p>So maybe keep brainstorming.</p>
<pre><code>&gt;&gt; append x non-null select [a 10 b 20] 'c
** Script Error: e.g. "Being outright literal might not be the worst idea"
** Near: non-null ** select [a 10 ... (blah blah
</code></pre>
<p>For that matter, NON could be an anti-ENSURE that is generic.</p>
<pre><code>&gt;&gt; non integer! &lt;foo&gt;
== &lt;foo&gt;

&gt;&gt; non integer! 3
** Script Error: e.g. "you said it was not an integer and it was!"
</code></pre>
<p>So <strong>non null x</strong> would be just an instance of this generalized check.  <code>really</code> is 6 characters to that 8, but that's a much more powerful concept, and reads rather unambiguously.</p>
<hr>
<p>So far I'm liking:</p>
<ul>
<li>NON as the anti-ENSURE, providing <code>non null</code> as one option (along with being generalized)</li>
<li>GOT as a shorthand for <strong>non null get</strong></li>
</ul>
<p>After thinking about it, REALLY is probably not as bad as I've made it out to be--but given that it's not as patently obvious as <strong>non null</strong> you'd have to look it up.  By which point, you might as well have looked up THE and learned something much shorter that does the same thing.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="https://forum.rebol.info/t/what-should-do-do/1426/11">What should evaluating an empty block (`EVAL []`) do?</a>
                        <meta itemprop='position' content='1'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../from-liability-to-asset-word-and-path-always-running-code/1354/3.html">From Liability to Asset: WORD! and PATH! always running code</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1250.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
