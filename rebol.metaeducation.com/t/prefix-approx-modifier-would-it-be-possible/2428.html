<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Prefix APPROX Modifier... Would It Be Possible? - Math - AltRebol</title>
    <meta name="description" content="Just a thought, could you modify the behaviour of = with a prefix, e.g. (approx 1 = 1.0) (could perhaps get messy).">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="2428.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Prefix APPROX Modifier... Would It Be Possible?&#39;" href="2428.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/prefix-approx-modifier-would-it-be-possible/2428" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/prefix-approx-modifier-would-it-be-possible/2428" />
<meta property="og:title" content="Prefix APPROX Modifier... Would It Be Possible?" />
<meta name="twitter:title" content="Prefix APPROX Modifier... Would It Be Possible?" />
<meta property="og:description" content="Just a thought, could you modify the behaviour of = with a prefix, e.g. (approx 1 = 1.0) (could perhaps get messy)." />
<meta name="twitter:description" content="Just a thought, could you modify the behaviour of = with a prefix, e.g. (approx 1 = 1.0) (could perhaps get messy)." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Math" />
<meta property="og:article:section:color" content="F1592A" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />
<meta property="article:published_time" content="2017-10-23T18:07:02+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2428.html">Prefix APPROX Modifier... Would It Be Possible?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/math/60" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/math/60" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Math</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Prefix APPROX Modifier... Would It Be Possible?'>
      <link itemprop='url' href='2428.html'>
      <meta itemprop='datePublished' content='2017-10-23T18:07:02Z'>
        <meta itemprop='articleSection' content='Math'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/rgchris'><span itemprop='name'>rgchris</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2428.html">


              <span class="crawler-post-infos">
                  <time  datetime='2017-10-23T18:07:02Z' class='post-time'>
                    October 23, 2017,  6:07pm
                  </time>
                  <meta itemprop='dateModified' content='2025-04-29T00:53:17Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"><a href="../349/1.html">On another topic</a></div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">&gt;&gt; 1.0 like 1
== #[true]
</code></pre>
</blockquote>
</aside>
<p>Just a thought, could you modify the behaviour of <code>=</code> with a prefix, e.g. <strong><code>(approx 1 = 1.0)</code></strong> (could perhaps get messy).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../block-and-object-parity-in-pathing-picking/1086/2.html">BLOCK! and OBJECT! Parity in Pathing/Picking</a>
                        <meta itemprop='position' content='2'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../strict-equality-lax-equality-equivalence-sameness/349/20.html">Strict Equality, Lax Equality, Equivalence, Sameness</a>
                        <meta itemprop='position' content='3'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-04-29T00:53:08Z' class='post-time'>
                    April 29, 2025, 12:53am
                  </time>
                  <meta itemprop='dateModified' content='2025-04-29T12:16:53Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="rgchris" data-post="1" data-topic="2428">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/rgchris/48/14_2.png" class="avatar"> rgchris:</div>
<blockquote>
<p><strong><code>(approx 1 = 1.0)</code></strong></p>
</blockquote>
</aside>
<p><a class="mention" href="https://rebol.metaeducation.com/u/rgchris">@rgchris</a> made this suggestion 7 years ago.</p>
<p>It looked kind of neat, but I didn't see any real way to do it.</p>
<h2><a name="p-8178-in-the-isotopic-era-exclamation_question_mark-atom-exclamation_question_mark-you-might-sort-of-do-it-1" class="anchor" href="2428.html#p-8178-in-the-isotopic-era-exclamation_question_mark-atom-exclamation_question_mark-you-might-sort-of-do-it-1"></a>In The Isotopic Era <img src="../../images/emoji/twitter/exclamation_question_mark.png%3Fv=14" title=":exclamation_question_mark:" class="emoji" alt=":exclamation_question_mark:" loading="lazy" width="20" height="20"> <img src="../../images/emoji/twitter/atom.png%3Fv=14" title=":atom:" class="emoji" alt=":atom:" loading="lazy" width="20" height="20"> <img src="../../images/emoji/twitter/exclamation_question_mark.png%3Fv=14" title=":exclamation_question_mark:" class="emoji" alt=":exclamation_question_mark:" loading="lazy" width="20" height="20"> You Might Sort Of Do It</h2>
<p>This can be made to work <em>IF</em> you are comparing values where the baseline result can be a raised error.</p>
<p>Something like:</p>
<pre><code>&gt;&gt; 1 = 1.0
** (Raised) Error: Different-typed numeric values are only approximately equal
</code></pre>
<p>So you'd be able to have APPROX be a defuser for that <em>specific</em> error ID, and turn it into an ~okay~.</p>
<pre><code>&gt;&gt; approx 1 = 1.0
== ~okay~  ; anti
</code></pre>
<p>Where this wouldn't work would be if the baseline response was falsey, e.g.</p>
<pre><code>&gt;&gt; 1.000000001 = 1.000000000
== ~null~  ; anti
</code></pre>
<p>Hence the only way this would work out would be if you were willing to make that a raised error, forcing people to modify with something like EXACT</p>
<pre><code>&gt;&gt; 1.000000001 = 1.000000000
** (Raised) Error: Numeric values very close, use EXACT or APPROX

&gt;&gt; exact 1.000000001 = 1.000000000
== ~null~  ; anti

&gt;&gt; approx 1.000000001 = 1.000000000
== ~okay~  ; anti
</code></pre>
<h2><a name="p-8178-is-making-close-compares-raise-an-error-a-practical-default-2" class="anchor" href="2428.html#p-8178-is-making-close-compares-raise-an-error-a-practical-default-2"></a>Is Making Close Compares Raise An Error A Practical Default?</h2>
<p>Maybe.  <img src="../../images/emoji/twitter/thinking.png%3Fv=14" title=":thinking:" class="emoji" alt=":thinking:" loading="lazy" width="20" height="20">  But it couldn't be just close compares that raised an error, it would be <em>all</em> floating point EQUAL? tests</p>
<p>See... there is a school of thought saying that plain equality tests shouldn't work on floating point numbers at all.  You should only use SAME? to see if they're the exact same bit pattern, or comparison with some tolerance level.</p>
<p><a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/" class="inline-onebox">Comparing Floating Point Numbers, 2012 Edition | Random ASCII â€“ tech blog of Bruce Dawson</a></p>
<p>If we were to buck the norms, we could do this very bizarre thing where doing equality comparisons returned a raised error <em>that embedded the exact difference in the error</em>.  (Actually, it would probably have to embed the compared numbers themselves, because as the article points out...the specific magnitudes affect the ideal choices for epsilon.)</p>
<p>APPROX(IMATELY) might use some common epsilon by default, but let you be more specific and act on the amount specified in the error.</p>
<p><strong>This is a wacky idea that would let us help educate people on the innate perils of using equality on floating point numbers, while still letting people use the = operator on floating point numbers.</strong></p>
<p>I can't say I hate it.  It's... interesting.</p>
<p>But it propagates the concern to things like <strong><code>[foo 1.0] = [foo 1.0]</code></strong> ... if we say you can't do floating point comparisons without an approximation, then the moment you have two abstract blocks that want to compare it will trigger the raised error.  And if the error involves an epsilon, how are you going to get the epsilon for <em>all</em> the floating point values in the block.  <img src="../../images/emoji/twitter/frowning.png%3Fv=14" title=":frowning:" class="emoji" alt=":frowning:" loading="lazy" width="20" height="20">  You would have to compare the blocks in their entirety and find the "largest effective epsilon" somehow, and raise the error based on that.</p>
<p>Not impossible--and you have to compare the blocks in their entirety anyway in order to say they were equal--but wild.  If we say the mechanic stops applying when you're comparing blocks, that gives echoes of the historical gap in behavior between comparing individual elements and then comparing them when they're in blocks--which I pointed out as bad mojo.</p>
<p>Anyway... one of many things to think about.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
