<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>How Console Displays Things With No Literal Representation</title>
    <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096</link>
    <description>It&#39;s tricky to think of what to do to print out things that don&#39;t have representation.

For example, antiforms don&#39;t have representations and cannot be molded. (For a proposal of the exception of MOLD of splices, see **[`MOLD:ONLY` vs `mold spread`](https://rebol.metaeducation.com/t/mold-only-vs-mold-spread/2059)**)

So what&#39;s traditionally been done is just render it as a quasiform (so the tilde at the beginning hints something its up), and then add a comment at the end of the rendering.

    &gt;&gt; anti &#39;null
    == ~null~  ; anti

The representational issue is a bit of a thorn in the console, but you have to print something. (Well, unless it&#39;s TRASH!, [where printing nothing is the design](https://rebol.metaeducation.com/t/console-treatment-of-void-vs-trash/2045).)</description>
    
    <lastBuildDate>Tue, 10 Jun 2025 21:32:11 +0000</lastBuildDate>
    <category>Console</category>
    <atom:link href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="7" data-topic="2096">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>There are more implications than this...</p>
</blockquote>
</aside>
<p>More implications still... e.g. what to show for the "true unset" state.</p>
<p>Now that: <strong><code>(^x: ~)</code></strong> and <strong><code>(x: ~)</code></strong> mean the same thing, and you have to use <strong><code>(tweak $x ~)</code></strong> to go to the "truly, truly unset level"... it works, but since it doesn't use assignment, how to display it?</p>
<pre><code> &gt;&gt; f: make frame! negate/
 == &amp;[frame! [
     ?number?: ...???...  ; initialized to "true unset"
 ]

 &gt;&gt; tweak f.number null  ; passing NULL just peeks the value (should it be PEEK?)
 == \~\  ; antiform

 &gt;&gt; f.number: ~  ; normal trash/tripwire
 == \~\  ; antiform

 &gt;&gt; f
 == &amp;[frame! [
     number: ~
 ]

 &gt;&gt; tweak f.number null  ; passing NULL just peeks the value, again
 == ~  ; tweak speaks in lifted band for "normal values"
</code></pre>
<p><strong>I don't want to make it overblown that displaying the states of objects may not correspond to patterns as we might have known them...</strong></p>
<p>...what's important is that the representation is coherent and queryable and that the system works.  These are display issues which have a long history.  How to show cyclic structures, etc. etc. is not going to sort out now... or really ever.  We just need a casual answer that "works" for day-to-day.</p>
<p><strong>Maybe showing antiforms is the answer...</strong></p>
<pre><code> &gt;&gt; f: make frame! negate/
 == &amp;[frame! [
     number: \~\  ; "unset"
 ]]
</code></pre>
<p>There's no such thing as that.  But that's what it <em>would</em> be, if there was such a thing as that.  <img src="https://rebol.metaeducation.com/images/emoji/twitter/frowning.png?v=14" title=":frowning:" class="emoji" alt=":frowning:" loading="lazy" width="20" height="20"></p>
<p>e.g. if you could put an antiform into a block (you can't) and if you could evaluate antiforms to produce another state (you can't), we might imagine them producing <em>anti-antiforms</em>.</p>
<p>Bordering on nonsense, but enough to have something to display for now.  All I care is that the design works.</p>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/9">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/9</link>
        <pubDate>Tue, 10 Jun 2025 21:25:10 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-9</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[rebolbot]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="7" data-topic="2096">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">; Instead of this:
getter: func [] [compute something dynamic]
setter: func [value] [mutate system using value]

; I propose:
getter: func [last-value] [maybe return it, or recompute]
setter: func [last-value new-value] [decide what to do]
</code></pre>
</blockquote>
</aside>
<p>This gives your meta-object protocol the ability to:</p>
<ul>
<li>Support <em>non-volatile</em> fields by returning <code>last-value</code> directly.</li>
<li>Be <em>debug-safe by default</em>, as tools can show <code>last-value</code> without invoking arbitrary computation.</li>
<li>Let getters/derivers <em>cache results</em> or <em>revalidate staleness</em>.</li>
<li>Track diffs or even maintain version histories.</li>
</ul>
<h3><a name="p-8413-benefits-1" class="anchor" href="https://rebol.metaeducation.com#p-8413-benefits-1"></a>Benefits</h3>
<ul>
<li><strong>Safer tooling</strong>: You can decouple what’s <em>shown</em> from what’s <em>executed</em>.</li>
<li><strong>Deterministic “reveal” UX</strong>: Debug tools could use a "refresh" or "evaluate" button instead of blindly probing.</li>
<li><strong>Undo/redo history</strong>: <code>setter(old, new)</code> naturally supports undo systems or versioning.</li>
<li><strong>Watchpoints and diagnostics</strong>: It’s easier to add logs, triggers, or “dry run” simulations.</li>
</ul>
<hr>
<h3><a name="p-8413-precedent-in-other-systems-2" class="anchor" href="https://rebol.metaeducation.com#p-8413-precedent-in-other-systems-2"></a><img src="https://rebol.metaeducation.com/images/emoji/twitter/scroll.png?v=14" title=":scroll:" class="emoji" alt=":scroll:" loading="lazy" width="20" height="20"> Precedent in Other Systems</h3>
<p>This is quite similar to:</p>
<ul>
<li><strong>Model-View-Controller</strong> patterns in UI toolkits, where "Model" holds the value, and "Controller" lets you mutate/react.</li>
<li><strong>Elm-style or Redux state</strong>, where you have a "last known state" and dispatchers that compute new ones from it.</li>
<li><strong>React hooks (e.g. <code>useState</code>)</strong>, where setters are called with old/new pairs.</li>
<li><strong>Spreadsheet recalculation models</strong>, where the cell has a <em>cached value</em> and only recalculates on demand.</li>
</ul>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/8">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/8</link>
        <pubDate>Tue, 10 Jun 2025 21:12:52 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-8</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="2096">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>This has a kind of weird implication for the "molding" of objects where you've set a field to an unstable antiform:</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">&gt;&gt; obj: make object! [try err: fail "for instance"]
== &amp;[object! [
    ^err: ~&amp;[warning! [...for instance...]]~
]]
</code></pre>
</blockquote>
</aside>
<p>There are more implications than this...</p>
<p>An arbitrary GETTER could have side effects... such as printing out "Field accessed".  That means the molding or debug display either has to avoid calling the getter and say "can't display" or suffer the potential side-effect that reading the value will produce some output.</p>
<pre><code>&gt;&gt; obj: make object! [fake: getter [print "HI!" 10 + 20]]
HI!
== &amp;[object! [
    fake: 30  ; or avoid the call, e.g. "fake: ...calculated..."
]]
</code></pre>
<p>In an interactive UI, you could more easily offer a choice, that if someone wanted to perform the calculation they could click a button or somesuch.</p>
<p>These problems aren't new... and asking AI it says "yeah, that happens".</p>
<p>This seems like a good argument for having a "cache state" of the variable in the getter/setter.  e.g. an accessor works in tandem with a value slot that it may ignore (or not), and what debug views show is this value... not the result of the calculation.</p>
<pre><code>; Instead of this:
getter: func [] [compute something dynamic]
setter: func [value] [mutate system using value]

; I propose:
getter: func [last-value] [maybe return it, or recompute]
setter: func [last-value new-value] [decide what to do]
</code></pre>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/7">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/7</link>
        <pubDate>Tue, 10 Jun 2025 21:11:53 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-7</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p><strong><a href="https://rebol.metaeducation.com/t/solving-the-pox-of-the-lift-the-universe/2477">LIFT the UNIVERSE</a></strong> is making an already-fraught issue a bit more fraught <em>(but I'm pretty sure it's the right answer, regardless...)</em></p>
<aside class="quote no-group" data-username="hostilefork" data-post="9" data-topic="2477">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"><a href="https://rebol.metaeducation.com/t/solving-the-pox-of-the-lift-the-universe/2477/9">Solving the Pox of the (^)... LIFT the Universe?</a></div>
<blockquote>
<p>If you don't want to PANIC on an ERROR! and SOME-FUNCTION-CALL may handle ERROR!, then:</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext"> try ^var: ..&lt;some-expression&gt;..
 some-function-call ^var
</code></pre>
</blockquote>
</aside>
<p>This has a kind of weird implication for the "molding" of objects where you've set a field to an unstable antiform:</p>
<pre><code>&gt;&gt; obj: make object! [try err: fail "for instance"]
== &amp;[object! [
    ^err: ~&amp;[warning! [...for instance...]]~
]]
</code></pre>
<p>To "be accurate", the molding has to show a <code>^err:</code> vs. <code>err:</code> if what's encoded in the field is an unstable antiform.  But if there's not a way to say "suppress" then what it's showing doesn't line up with executable code.</p>
<p><strong><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096">(It doesn't anyway...)</a></strong></p>
<p>...BUT this is just another edge where it gets weirder.</p>
<p>I have discussed leading colon acting as TRY.</p>
<pre><code>&gt;&gt; obj: make object! [try err: fail "for instance"]
== &amp;[object! [
    :^err: ~&amp;[warning! [...for instance...]]~
]]
</code></pre>
<p>Anyway, not the biggest deal in the world, just an observation.</p>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/6">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/6</link>
        <pubDate>Mon, 09 Jun 2025 19:57:19 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-6</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>2 posts were split to a new topic: <a href="https://rebol.metaeducation.com/t/why-is-type-of-1-an-integer-and-not-integer/2097">Why is TYPE OF 1 an &amp;INTEGER and not INTEGER!</a></p>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/5">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/5</link>
        <pubDate>Tue, 09 Jan 2024 01:45:15 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-5</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="3" data-topic="2096">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Avoiding that direction and having the console endorsing giving back things that evaluate to the result is another idea</p>
</blockquote>
</aside>
<p>This could work if done systematically… but then, you have to consider that you’re no longer looking at the result of your evaluation, but something <em>which evaluates to the result</em>. That feels confusing.</p>
<p>I think there’s a reasonable compromise similar to what is done now: show the literal form of the value if it has one, otherwise give back code which evaluates to that value. That would be unambiguous and consistent, but still easy to read.</p>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/4">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/4</link>
        <pubDate>Tue, 09 Jan 2024 01:03:08 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-4</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>Among things that have historically lacked literal forms are objects, so giving back code is what it has done:</p>
<pre><code>&gt;&gt; make object! [a: 10 b: 20]
== make object! [a: 10 b: 20]
</code></pre>
<p>The idea that all things need literal forms gave rise to "construction syntax", which was a series of proposals going in this direction:</p>
<pre><code>&gt;&gt; make object! [a: 10 b: 20]
== #[object! [a: 10 b: 20]]
</code></pre>
<p>Avoiding that direction and having the console endorsing giving back things that evaluate to the result is another idea:</p>
<pre><code>&gt;&gt; first [a b c]
== 'a

&gt;&gt; any [1 &gt; 2, 3 &gt; 4]
== ~null~
</code></pre>
<p>But would be confusing if you didn't do it systemically, e.g. left the quote off of inert things:</p>
<pre><code>&gt;&gt; first [[a b] c d]
== [a b]

&gt;&gt; first ['[a b] c d]
== ''[a b]
</code></pre>
<p>So I think the quote would probably need to always be there... and maybe people would get used to it to the point it would be acceptable.  Generic quoting opens the door to it being an option.</p>
<pre><code>&gt;&gt; print "Void outputs should still be skipped, probably?"
Void outputs should still be skipped, probably?
== '

&gt;&gt;
</code></pre>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/3">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/3</link>
        <pubDate>Tue, 09 Jan 2024 00:07:23 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-3</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>It's tricky to think of what to do to print out things that don't have representation.</p>
<p>For example, antiforms don't have representations and cannot be molded. (For a proposal of the exception of MOLD of splices, see <strong><a href="https://rebol.metaeducation.com/t/mold-only-vs-mold-spread/2059"><code>MOLD:ONLY</code> vs <code>mold spread</code></a></strong>)</p>
<p>So what's traditionally been done is just render it as a quasiform (so the tilde at the beginning hints something its up), and then add a comment at the end of the rendering.</p>
<pre><code>&gt;&gt; anti 'null
== ~null~  ; anti
</code></pre>
<p>The representational issue is a bit of a thorn in the console, but you have to print something. (Well, unless it's TRASH!, <a href="https://rebol.metaeducation.com/t/console-treatment-of-void-vs-trash/2045">where printing nothing is the design</a>.)</p>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/1">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/1</link>
        <pubDate>Mon, 08 Jan 2024 23:58:13 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-1</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
      <item>
        <title>How Console Displays Things With No Literal Representation</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="2096">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://rebol.metaeducation.com/user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<pre><code>&gt;&gt; anti 'null
== ~null~  ; anti
</code></pre>
<p>The representational issue is a bit of a thorn in the console, but you have to print something.</p>
</blockquote>
</aside>
<p>Could it perhaps work to just print <code>anti 'null</code>? (Or <code>unlift '~null~</code>, as the case may be.) After all, they don’t really have a syntactic representation to print out in the first place.</p>
<p>For prior art, Haskell often does this kind of thing:</p>
<pre data-code-wrap="hs"><code class="lang-hs">ghci&gt; import Data.Map.Strict
ghci&gt; fromList [('a',1), ('b',2), ('c',3)]
fromList [('a',1),('b',2),('c',3)]
ghci&gt; singleton 'a' 1
fromList [('a',1)]
ghci&gt; empty
fromList []
</code></pre>
          <p><a href="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/2">Read full topic</a></p>
        ]]></description>
        <link>https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096/2</link>
        <pubDate>Mon, 08 Jan 2024 23:42:36 +0000</pubDate>
        <guid isPermaLink="false">rebol.metaeducation.com-post-2096-2</guid>
        <source url="https://rebol.metaeducation.com/t/how-console-displays-things-with-no-literal-representation/2096.rss">How Console Displays Things With No Literal Representation</source>
      </item>
  </channel>
</rss>
