<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Reduce Bloat, Increase Wikification: Web Error Messages - Errors - AltRebol</title>
    <meta name="description" content="We have a situation where giving descriptive errors with strings is often very possible.  But each time you write a long string, that&amp;#39;s taking up space: 
if (attr == tail or not Is_Integer(attr))
     return Error_Bad_Va&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="2395.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Reduce Bloat, Increase Wikification: Web Error Messages&#39;" href="2395.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/reduce-bloat-increase-wikification-web-error-messages/2395" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/reduce-bloat-increase-wikification-web-error-messages/2395" />
<meta property="og:title" content="Reduce Bloat, Increase Wikification: Web Error Messages" />
<meta name="twitter:title" content="Reduce Bloat, Increase Wikification: Web Error Messages" />
<meta property="og:description" content="We have a situation where giving descriptive errors with strings is often very possible.  But each time you write a long string, that&#39;s taking up space:  if (attr == tail or not Is_Integer(attr))      return Error_Bad_Value(attr); if (*raw_addr != 0)     return Error_User(&quot;FFI: duplicate raw memory&quot;); *raw_addr = cast(uint_64_t, Cell_Int64(attr)); if (*raw_addr == 0)     return Error_User(&quot;FFI: void pointer illegal for raw memory&quot;);  It&#39;s also hardcoding the message into the executable.  I&#39;ve be..." />
<meta name="twitter:description" content="We have a situation where giving descriptive errors with strings is often very possible.  But each time you write a long string, that&#39;s taking up space:  if (attr == tail or not Is_Integer(attr))      return Error_Bad_Value(attr); if (*raw_addr != 0)     return Error_User(&quot;FFI: duplicate raw memory&quot;); *raw_addr = cast(uint_64_t, Cell_Int64(attr)); if (*raw_addr == 0)     return Error_User(&quot;FFI: void pointer illegal for raw memory&quot;);  It&#39;s also hardcoding the message into the executable.  I&#39;ve be..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Errors" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2025-04-05T10:49:55+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="2395.html">Reduce Bloat, Increase Wikification: Web Error Messages</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/errors/54" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/errors/54" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Errors</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Reduce Bloat, Increase Wikification: Web Error Messages'>
      <link itemprop='url' href='2395.html'>
      <meta itemprop='datePublished' content='2025-04-05T10:49:55Z'>
        <meta itemprop='articleSection' content='Errors'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="2395.html">


              <span class="crawler-post-infos">
                  <time  datetime='2025-04-05T10:49:55Z' class='post-time'>
                    April 5, 2025, 10:49am
                  </time>
                  <meta itemprop='dateModified' content='2025-04-05T10:49:55Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>We have a situation where giving descriptive errors with strings is often very possible.  But each time you write a long string, that's taking up space:</p>
<pre><code>if (attr == tail or not Is_Integer(attr))
     return Error_Bad_Value(attr);
if (*raw_addr != 0)
    return Error_User("FFI: duplicate raw memory");
*raw_addr = cast(uint_64_t, Cell_Int64(attr));
if (*raw_addr == 0)
    return Error_User("FFI: void pointer illegal for raw memory");
</code></pre>
<p>It's also hardcoding the message into the executable.</p>
<p>I've been leaning toward the idea that instead of strings embedded into the program or scripts, that instead errors are just their symbol IDs.</p>
<pre><code>if (attr == tail)
     return ERROR(REACHED_END);
if (not Is_Integer(attr)
     return ERROR(EXPECTED, CANON(INTEGER_X));
if (*raw_addr != 0)
    return ERROR_FFI(DUPLICATE_RAW_MEMORY);
*raw_addr = cast(uint_64_t, Cell_Int64(attr));
if (*raw_addr == 0)
    return ERROR_FFI(VOID_POINTER_RAW_MEMORY);
</code></pre>
<p>Some error IDs would be for built-ins, others would be extension specific.</p>
<p>But the idea here is that:</p>
<pre><code> ERROR(REACHED_END);
 =&gt; Make_Error(Canon_Symbol(SYM_REACHED_END))
</code></pre>
<p>The error creation can be variadic, and take parameters, with validation in debug builds as it does today that the parameter count is right for the error.</p>
<p>So what you'd wind up getting from something like ERROR(EXPECTED, CANON(INTEGER_X)) would be:</p>
<pre><code>== #[error! [
    id: 'expected
    arg1: 'integer!
    near: '[...code location...]
    where: '[...call stack...]
    file: %file-name.r
    line: 1020
]]
</code></pre>
<p>And if you didn't have an internet connection, the message would be something like:</p>
<pre><code>** Error: [/expected integer!]
** Near: ...
** Where: ...
** File: %file-name.r
** Line: 1020
(i) Connect to the internet for more descriptive error messages
</code></pre>
<h2><a name="p-8111-my-theory-is-1" class="anchor" href="2395.html#p-8111-my-theory-is-1"></a>My Theory Is...</h2>
<ul>
<li>
<p>If you have an internet connection, then a message can be pulled from the network on demand for what should be displayed.</p>
<ul>
<li>Ideally you should also have an option to go to a wiki page where people write about things that may cause that error, what it means, and what to do about it.</li>
</ul>
</li>
<li>
<p>If you <em>don't</em> have an internet connection, then you are likely operating in a restricted and spare environment of some kind, in which you won't see the absence of a long and flowery message to be that big a deal.  Having the ID and the error arguments should be enough.</p>
</li>
</ul>
<p>If you wanted to build an executable that pulled all the known error messages off the network (or from the local files that are used to produce answers on the network) and snapshotted them to ship in the EXE, you could do that.  There'd be an option for it.</p>
<h2><a name="p-8111-how-to-turn-error-ids-into-urls-2" class="anchor" href="2395.html#p-8111-how-to-turn-error-ids-into-urls-2"></a>How To Turn Error IDs Into URLs?</h2>
<p>This is something that's been nagging me for a while.</p>
<p>R3-Alpha's error table <strong><a href="https://github.com/rebol/rebol/blob/25033f897b2bd466068d7663563cd3ff64740b94/src/boot/errors.r"><code>%errors.r</code></a></strong> has categories in it:</p>
<pre><code>Throw: [...]
Note: [...]
Syntax: [...]
Script: [...]
Math: [...]
Access: [...]
Command: [...]
resv700: [...]
User: [...]
Internal: [...]
</code></pre>
<p>This was based on the idea that giving errors numbers was meaningful or useful.  I don't think the numbering is meaningful, and the categories may not be either.</p>
<p>It seems to me that the only thing that would be useful would be some way of grouping errors together so that you'd be able to find them on a server.</p>
<p>This all requires some more thinking, but it's a direction I've been leaning in.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/bradrn'><span itemprop='name'>bradrn</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-04-05T12:04:47Z' class='post-time'>
                    April 5, 2025, 12:04pm
                  </time>
                  <meta itemprop='dateModified' content='2025-04-05T12:04:47Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I strongly oppose this. It means that if the user ever loses their Internet connection, they would also lose their error messages. Except that’s exactly the time when error messages are most vital!</p>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="2395">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>If you <em>don't</em> have an internet connection, then you are likely operating in a restricted and spare environment of some kind, in which you won't see the absence of a long and flowery message to be that big a deal. Having the ID and the error arguments should be enough.</p>
</blockquote>
</aside>
<p>In particular this is a mistaken assumption. An Internet connection can be lost for a variety of reasons, none of which necessarily has anything to do with a ‘restricted environment’.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-04-05T12:10:58Z' class='post-time'>
                    April 5, 2025, 12:10pm
                  </time>
                  <meta itemprop='dateModified' content='2025-04-05T12:10:58Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="2" data-topic="2395">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>In particular this is a mistaken assumption. An Internet connection can be lost for a variety of reasons, none of which necessarily has anything to do with a ‘restricted environment’.</p>
</blockquote>
</aside>
<p>If people are concerned about this, then wherever you get the interpreter from should be able to give you errors as well at that time.</p>
<p>Like I say, it can be a build option to pack things into the EXE (like picking which extensions to build in).  I just think the core should be centered around not building it in.</p>
<p>In particular... the webassembly build on the web, is generally going to be able to pull the error messages it needs on demand...so there's no reason that the core interpreter come packed with a ton of strings embedded in it.  Faster download if not, when you're not going to encounter 99% of those errors in a given run.</p>
<p>The modularization I'm going after will be such that it won't have a console in it by default either--so you can embed the interpreter in a web page and use services from it, and then if you need to break into a console it can <a href="https://emscripten.org/docs/compiling/Dynamic-Linking.html">download the side module</a>.</p>
<p>But again--with that--you can choose to build it in.</p>
<p>I'm just talking about decoupling things, and limiting what's actually required in the source to compile it.  How people package it is up to them.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
