<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Squaring the circle of LENGTH? and LENGTH-OF - Naming - AltRebol</title>
    <meta name="description" content="The stated goal of Ren-C was experimentation, to try things that may-or-may-not be good ideas... push them around and get experience with them, and possibly revert ideas that turn out to be bad (or create new ideas). 
Th&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="385.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Squaring the circle of LENGTH? and LENGTH-OF&#39;" href="385.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/squaring-the-circle-of-length-and-length-of/385" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/squaring-the-circle-of-length-and-length-of/385" />
<meta property="og:title" content="Squaring the circle of LENGTH? and LENGTH-OF" />
<meta name="twitter:title" content="Squaring the circle of LENGTH? and LENGTH-OF" />
<meta property="og:description" content="The stated goal of Ren-C was experimentation, to try things that may-or-may-not be good ideas... push them around and get experience with them, and possibly revert ideas that turn out to be bad (or create new ideas).  There a long and drawn-out description on the Trello card for getting rid of the name LENGTH?.  This is one of the operations for which people were most unhappy with calling it LENGTH-OF.  So even though LENGTH is very &quot;nouny&quot; (and the name of several refinement parameters storing ..." />
<meta name="twitter:description" content="The stated goal of Ren-C was experimentation, to try things that may-or-may-not be good ideas... push them around and get experience with them, and possibly revert ideas that turn out to be bad (or create new ideas).  There a long and drawn-out description on the Trello card for getting rid of the name LENGTH?.  This is one of the operations for which people were most unhappy with calling it LENGTH-OF.  So even though LENGTH is very &quot;nouny&quot; (and the name of several refinement parameters storing ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Naming" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="5 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="8 ❤" />
<meta property="article:published_time" content="2017-11-21T14:21:37+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="385.html">Squaring the circle of LENGTH? and LENGTH-OF</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Squaring the circle of LENGTH? and LENGTH-OF'>
      <link itemprop='url' href='385.html'>
      <meta itemprop='datePublished' content='2017-11-21T14:21:37Z'>
        <meta itemprop='articleSection' content='Naming'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="385.html">


              <span class="crawler-post-infos">
                  <time  datetime='2017-11-21T14:21:37Z' class='post-time'>
                    November 21, 2017,  2:21pm
                  </time>
                  <meta itemprop='dateModified' content='2025-03-17T06:18:37Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The stated goal of Ren-C was experimentation, to try things that may-or-may-not be good ideas... push them around and get experience with them, and possibly revert ideas that turn out to be bad (or create new ideas).</p>
<p>There a long and drawn-out description on the Trello card for getting rid of the name LENGTH?.  This is one of the operations for which people were most unhappy with calling it LENGTH-OF.  So even though LENGTH is very "nouny" (and the name of several refinement parameters storing lengths, e.g. /PART LENGTH), it was defaulted to a synonym of LENGTH-OF.</p>
<p>But...aesthetics matter.  For instance: I am turned off by the look of <strong>foo == bar</strong> and its deceptive supposed complement <strong>foo !== bar</strong> (vs. <strong>foo != bar</strong> which is actually the complement of <strong>foo = bar</strong>...good luck with that, C programmers).  That gives rise to <a href="../strict-equality-lax-equality-equivalence-sameness-is-and/349/9.html">musings on = and IS</a>.</p>
<p>So it should not be surprising that I have suffered a fair amount of cognitive dissonance on things like LENGTH?/LENGTH-OF/LENGTH.  We may be used to HEAD and TAIL but not LENGTH, kind of how we're used to FOREACH but not MAPEACH (which doesn't make FORECH good, nor HEAD or TAIL).  Still, correcting it pains me, to look at what might be called a kind of <strong>-OF</strong> pollution, which is throwing extra words in places they do not belong.</p>
<p>I was writing some example code and had this:</p>
<pre><code>foo: func [n /accum a] [
    case [
       not accum [a: 0 | recurse: true]
       n = 0 [return a]
    ]
    frame: context-of 'n
    n: n - 1
    a: a + 2
    redo frame
]
</code></pre>
<p>And while I found myself liking the elegance of it on the whole, I kind of couldn't get past how in Red, this would say <strong>frame: context? 'n</strong> and it would <em>look better</em>.  The -OF feels like a "wart".</p>
<p>But the Trello card on LENGTH-OF lays out the facts.  e.g. <strong>HEAD</strong> means give the head of a series, and <strong>HEAD?</strong> means ask for a LOGIC! of if the series is at its head.  So if you say <strong>context? system</strong> that seems like a yes or no question ("is system a context?") and hence <strong>context? 42</strong> should be false.</p>
<p>This got me to wondering if there was some thinking-outside-the-box option which might be a symbolic modifier of the word.  <strong><code>context* foo</code></strong>, <strong><code>context&amp; foo</code></strong>, anything that wasn't taken already that might look better than -OF (those don't, really).</p>
<p>In any case, I guess the point is that I am feeling unsettled with both the Ren-C "-OF warts" and Red's continuation of the non-LOGIC! convention for ?.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/Brett.html'><span itemprop='name'>Brett</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-11-21T23:27:01Z' class='post-time'>
                    November 21, 2017, 11:27pm
                  </time>
                  <meta itemprop='dateModified' content='2025-03-17T06:19:21Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>The -OF feels like a "wart".</p>
</blockquote>
</aside>
<p>Just being out of the box - perhaps the "-" is the "wart"?</p>
<pre><code>frame: context of 'n
</code></pre>
<p>and</p>
<pre><code>head: head of s
</code></pre>
<p>I admit that the "of" looks superfluous in the second example compared with prior experience, but not if one wants "head" as a variable.</p>
<p>It is also meant to point to the dual meanings of the word "head", each meaning valid for different contextual notions.  Mixing the same symbols from different contextual notions in the same expression is not something that has been cracked in Rebol yet, imo.  I'm still hanging out for the "relative expression" promise to be fulfilled <img src="../../images/emoji/twitter/slight_smile.png%3Fv=14" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../the-role-of-infix-infix-in-rebol/389.html">The Role of Infix in Rebol</a>
                        <meta itemprop='position' content='1'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../rationalizing-the-illusion-readability-over-writability/397.html">Rationalizing the Illusion: Readability over Writability</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-11-21T23:37:13Z' class='post-time'>
                    November 21, 2017, 11:37pm
                  </time>
                  <meta itemprop='dateModified' content='2025-03-17T06:23:47Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Brett" data-post="3" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/brett/48/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">frame: context of 'n
</code></pre>
</blockquote>
</aside>
<p><em><strong>This spin on OF is certainly better looking--and not as far flung!</strong></em>  I like the way you put it, that it's <code>-</code> that's the wart.</p>
<p>Mechanically we now have soft quoting on left infix, so you could do:</p>
<pre><code>x: (pick [length context] i) of 'n
</code></pre>
<p>It is "weird", but this is actually how "actions" work (like APPEND), they're really symbol dispatches on the word.</p>
<p>I'll point out that with specialization and OneFunction, if you were in a situation where you needed a single arity function you can always make one:</p>
<pre><code>takes-single-arity: func [f [function!]] [
    print (f "test")
]
takes-single-arity (specialize 'of [property: 'length])
</code></pre>
<p>So if you ever needed LENGTH-OF you can make it.</p>
<blockquote></blockquote>
<aside class="quote no-group" data-username="Brett" data-post="3" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/brett/48/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">head: head of s
</code></pre>
<p>I admit that the "of" looks superfluous in the second example compared with prior experience, but not if one wants "head" as a variable.</p>
</blockquote>
</aside>
<p>Unfamiliar at first, but it strikes me as learnable.</p>
<p>I say we push on this, because as I say, I'm just not happy with LENGTH? or LENGTH or LENGTH-OF...and already I feel more compelled to put up with some level of weirdness about this kind of strategy vs. going with any of those.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-11-26T15:37:41Z' class='post-time'>
                    November 26, 2017,  3:37pm
                  </time>
                  <meta itemprop='dateModified' content='2017-11-26T15:37:41Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>It didn't occur to me at first, but this concept already existed in R3-Alpha's REFLECT.  It had the same characteristic of taking a symbol and then doing a type-based dispatch to get it.</p>
<p><em>(Even though LENGTH and HEAD were "actions" and not "reflectors", this spirit of dispatch was already how they worked.  Each type had its own dispatch which received the symbol for a WORD! to react to in order to retrieve the property.  REFLECT just introduced another level in the dispatch which produces a kind of "reflection namespace", so you wouldn't be taking away a global name for it.  <strong>words obj</strong> must have seemed over the top, so <strong>reflect obj 'words</strong> meant WORDS itself wasn't an action, but then people wanted less typing so you got <strong>words-of</strong>.)</em></p>
<p>Not many people knew of REFLECT's existence, because they only used the specializations like SPEC-OF, BODY-OF, WORDS-OF, VALUES-OF... which were in the base definitions:</p>
<aside class="onebox githubblob" data-onebox-src="https://github.com/rebol/rebol/blob/25033f897b2bd466068d7663563cd3ff64740b94/src/mezz/base-defs.r#L19">
  <header class="source">

      <a href="https://github.com/rebol/rebol/blob/25033f897b2bd466068d7663563cd3ff64740b94/src/mezz/base-defs.r#L19" target="_blank" rel="noopener">github.com/rebol/rebol</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://github.com/rebol/rebol/blob/25033f897b2bd466068d7663563cd3ff64740b94/src/mezz/base-defs.r#L19" target="_blank" rel="noopener">src/mezz/base-defs.r</a></h4>

<div class="git-blob-info">
  <a href="https://github.com/rebol/rebol/blob/25033f897b2bd466068d7663563cd3ff64740b94/src/mezz/base-defs.r#L19" rel="noopener"><code>25033f897</code></a>
</div>



    <pre class="onebox"><code class="lang-r">
      <ol class="start lines" start="9" style="counter-reset: li-counter 8 ;">
          <li>		Licensed under the Apache License, Version 2.0</li>
          <li>		See: http://www.apache.org/licenses/LICENSE-2.0</li>
          <li>	}</li>
          <li>	Note: {</li>
          <li>		This code is evaluated just after actions, natives, sysobj, and other lower</li>
          <li>		levels definitions. This file intializes a minimal working environment</li>
          <li>		that is used for the rest of the boot.</li>
          <li>	}</li>
          <li>]</li>
          <li></li>
          <li class="selected">;-- Create the reflector functions (e.g. spec-of, body-of, ...)</li>
          <li></li>
          <li>; Must be defined in A108 (no forward refs)</li>
          <li>spec-of:</li>
          <li>body-of:</li>
          <li>words-of:</li>
          <li>values-of:</li>
          <li>types-of:</li>
          <li>title-of:</li>
          <li>	none</li>
          <li></li>
      </ol>
    </code></pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Very few properties were extracted this way, and the mechanisms were somewhat sketchy (par for the course with the sketchiness of most of the port and action code).  However, it was an existing mechanic that would need to be addressed one way or another.</p>
<p>Thus OF is just an infix left-quoting convenience version of REFLECT.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-11-26T18:19:42Z' class='post-time'>
                    November 26, 2017,  6:19pm
                  </time>
                  <meta itemprop='dateModified' content='2018-05-22T09:30:08Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="Brett" data-post="3" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/brett/48/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>My example of:</p>
<p><code>head: head of s</code></p>
<p>...is also meant to point to the dual meanings of the word "head", each meaning valid for different contextual notions.</p>
<p><em>Mixing the same symbols from different contextual notions in the same expression is not something that has been cracked in Rebol yet, imo.  I'm still hanging out for the "relative expression" promise to be fulfilled.</em></p>
</blockquote>
</aside>
<p>You are right to say it is not "solved".  But pointing out that what we're asking for here is a "relative expression" effect certainly bolsters the argument that attacking the problem is well within the scope of the language mission.</p>
<p>I only had to use <code>head of</code> (or more frequently <code>length of</code>) for a short time before becoming sold.  One has to consider the consequences of <em>not</em> figuring out how to do this...because the verbification of LENGTH caused a lot of devils in the details:</p>
<pre><code>charset: function [
    "Makes a bitset of chars for the parse function."
    chars [string! block! binary! char! integer!]
    /length "Preallocate this many bits"
    len [integer!] "Must be &gt; 0"
][
    ;-- CHARSET function historically has a refinement called /LENGTH, that
    ;-- is used to preallocate bits.  Yet the LENGTH? function has been
    ;-- changed to use just the word LENGTH.  We could change this to
    ;-- /CAPACITY SIZE or something similar, but keep it working for now.
    ;--
    length_CHARSET: length      ; refinement passed in
    unset 'length               ; helps avoid overlooking the ambiguity

    either length_CHARSET [append make bitset! len chars] [make bitset! chars]
]
</code></pre>
<p>...and those devils are still there for reused verbs like /ALL and aren't going away.  But when LENGTH crossed the verbification line it seemed more drastic and hard to predict.</p>
<p>To try this vision, I twisted the code around <a href="https://github.com/metaeducation/ren-c/pull/660">and hacked it up for our common examples</a>.  It involved holding my nose a bit and digging in the bodies of code outside the evaluator.  Definitely a hack...but at least a hack that piggy-backs on existing unsolved problems, without really introducing any new ones.</p>
<p>While jumping in with this half-baked might be more akin to the kinds of half-thought-through behaviors I usually would ascribe to ... other developers ... <img src="../../images/emoji/twitter/stuck_out_tongue.png%3Fv=14" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:" loading="lazy" width="20" height="20">  I say we give it a chance.  People can still use specializations if they like (I point out they'd already been effectively doing this with things like WORDS-OF, so it's not that mind-blowing to have TYPE-OF be a reflector specialization).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-01-27T00:45:18Z' class='post-time'>
                    January 27, 2018, 12:45am
                  </time>
                  <meta itemprop='dateModified' content='2018-01-27T00:45:18Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>By and large, I think the infixed OF has been a big win.</p>
<p>There are some questions it brings up of how you get a list of reflectors for a type.  This isn't a particularly new problem, and it parallels questions like "if I pass TO an INTEGER! how do I know which types it can accept as input"...generic actions hide information.  This was one of the arguments for why TO-INTEGER was useful, because of exposure of the interface.  One might argue that LENGTH-OF might be a similar hack.</p>
<p>The question of how reflectors are extended is pretty much exactly like the question of what R3-Alpha called "actions" are extended.  One problem I just noticed is that since NEXT is implemented currently as a specialization of SKIP, there's a question of how that might get wedged in as <strong>next of series</strong>.  Further how might parameterizations work?  How would I say <strong>[skip 3] of series</strong>, for instance?  <em>Should</em> I want to say that?</p>
<p>But the elegance of <strong>length of series</strong> can't be denied, and I don't think the total count of "design puzzles to solve in Rebol" went up all that much.  Certainly balanced out on how much we hated <strong>length x</strong> or <strong>length? x</strong> or <strong>length-of x</strong>.  Just wanted to mention the specialization issue, because I was pondering if NEXT might someday become NEXT OF SERIES to free up the variable "next" for common use.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-03-17T06:38:23Z' class='post-time'>
                    March 17, 2025,  6:38am
                  </time>
                  <meta itemprop='dateModified' content='2025-03-18T14:50:15Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="Brett" data-post="3" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/brett/48/177_2.png" class="avatar"> Brett:</div>
<blockquote>
<p>Just being out of the box - perhaps the "-" is the "wart"?</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">frame: binding of $n
</code></pre>
<p>and</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">head: head of s
</code></pre>
<p>I admit that the "of" looks superfluous in the second example compared with prior experience, but not if one wants "head" as a variable.</p>
</blockquote>
</aside>
<p>So I was thinking about the definitions of MINIMIMUM / MAXIMUM and MIN / MAX, and realized that this was yet another case where you quite probably want variables called MIN and MAX.</p>
<p>For this reason, Ren-C had at one point renamed these to MINIMUM-OF/MIN-OF and MAXIMUM-OF/MAX-OF.</p>
<p>But this is another case where it would look better without the wart:</p>
<pre><code>max: max-of a b

max: max of a b
</code></pre>
<p>I've come to really see being able to read code which reuses a word like max in such a way and not freak out as being part of the <em>Relative-Expression</em> bit of <strong><code>[R]elative [E]xpression-[B]ased [O]bject [L]anguage</code></strong>  You're relative to the OF, on its left side...</p>
<p>We break the rules others won't, and get something in the bargain!</p>
<aside class="quote no-group" data-username="hostilefork" data-post="7" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>The question of how reflectors are extended is pretty much exactly like the question of what R3-Alpha called "actions" are extended. One problem I just noticed is that since NEXT is implemented currently as a specialization of SKIP, there's a question of how that might get wedged in as <strong>next of series</strong>.</p>
</blockquote>
</aside>
<p>Looking at this old question, I realized something...</p>
<h2><a name="p-8036-the-earth-has-moved-since-2017-globe_showing_asia_australia-virtual-binding-1" class="anchor" href="385.html#p-8036-the-earth-has-moved-since-2017-globe_showing_asia_australia-virtual-binding-1"></a>The Earth Has Moved Since 2017 <img src="../../images/emoji/twitter/globe_showing_asia_australia.png%3Fv=14" title=":globe_showing_asia_australia:" class="emoji" alt=":globe_showing_asia_australia:" loading="lazy" width="20" height="20"> Virtual Binding</h2>
<p>Functions like OF can actually receive a binding environment.</p>
<p>And... while this might sound a little bit loopy... <strong>OF can simply tack -OF onto the symbol you pass it, and look that up in the environment it runs in</strong>.</p>
<p>So basically, you extend the reflectors the same way you'd write any other function.  Just end the function name in <strong><code>-of</code></strong>.</p>
<pre><code>whatever-of: func [a b] [
    print ["WHATEVER!" mold a mold b]
]

&gt;&gt; whatever of [1 2 3] $10
WHATEVER! [1 2 3] $10
</code></pre>
<p>Then it becomes a personal choice.  You can use <strong>whatever-of</strong> or <strong>whatever of</strong> as you so choose.  And if you want help, you can ask it on <strong>whatever-of</strong> and know what its applicable types are...</p>
<p>Is it a little bit kludgey?  Sure, but what good is virtual binding if we don't use it!</p>
<p>I'm going to give it a shot.  There's probably some easy optimizations for linking symbols like WHATEVER to be able to navigate to the symbol for WHATEVER-OF rapidly so you don't have to do any hashing to find it... at least for builtin symbols (e.g. put them sequentially in the SymId table).</p>
<p><strong>UPDATE: It works! <a href="../flexible-symbol-reordering-for-optimization/2372.html">And the the sequential symbol optimization works too!</a></strong></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../de-verbification-noun-of-x-vs-noun-x/1368/4.html">De-Verbification: NOUN OF X vs. NOUN X ?</a>
                        <meta itemprop='position' content='2'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../de-verbification-noun-of-x-vs-noun-x/1368/6.html">De-Verbification: NOUN OF X vs. NOUN X ?</a>
                        <meta itemprop='position' content='3'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../what-to-do-about-horrible-grievous-unicode/2280/5.html">What To Do About Horrible, Grievous, Unicode</a>
                        <meta itemprop='position' content='4'>
                      </div>
                </div>
          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-03-18T16:10:55Z' class='post-time'>
                    March 18, 2025,  4:10pm
                  </time>
                  <meta itemprop='dateModified' content='2025-03-18T16:58:21Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="8" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">whatever-of: func [a b] [
    print ["WHATEVER!" mold a mold b]
]

&gt;&gt; whatever of [1 2 3] $10
WHATEVER! [1 2 3] $10
</code></pre>
<p>UPDATE: It works! <a href="../flexible-symbol-reordering-for-optimization/2372.html">And the the sequential symbol optimization works too!</a></p>
</blockquote>
</aside>
<p>So this really takes a load off my mind.  OF becomes extensible, and now we can apply it other places it makes sense.</p>
<p>I've fretted over historical Rebol putting question marks on things that didn't return logical true or false, just so they wouldn't conflict with variable names.  And just generally stealing name space.  Examples like HEAD above have other cases... like FIRST which makes a pretty good variable name frequently.</p>
<p>And then there's functions that aren't single arity trying to steal global names.  But this works now!  With MAX-OF defined, you can say:</p>
<pre><code>&gt;&gt; a: 300
&gt;&gt; b: 1000

&gt;&gt; max: max of (a + 4) (b + 20)
== 1020

&gt;&gt; max
== 1020
</code></pre>
<p>With the generic retriggering possible, we open up the floor to a lot more things.  How about our classic MAP-EACH problem?</p>
<p>What if EACH does the same thing... tacks -EACH onto whatever's on the left:</p>
<pre><code>&gt;&gt; map each 'x [1 2 3] [x * 10]
== [10 20 30]

&gt;&gt; for each 'x [1 2 3] [print ["X is" x], x * 10]
X is 1
X is 2
X is 3
== 30

&gt;&gt; for 'x [1 thru 3] [print x]
1
2
3
</code></pre>
<p><strong>So FOR EACH and MAP EACH can be completely disconnected from what FOR and EACH do in isolation!</strong>  You're simply using EACH to methodize to special FOR-EACH and MAP-EACH functions with their own definitions.</p>
<p>This avoids some of the pretzel twists I was doing where EACH was a generator that had to feed to the generic FOR.  That forced us to write:</p>
<pre><code>&gt;&gt; for 'x each [1 2 3] [print ["X is" x], x * 10]
X is 1
X is 2
X is 3
== 30
</code></pre>
<p>Not only is that a little bit awkward to read, it also means that EACH had to make a generator function... adding overhead that FOR-EACH can avoid making.</p>
<h2><a name="p-8043-other-creative-ideas-1" class="anchor" href="385.html#p-8043-other-creative-ideas-1"></a>Other Creative Ideas?</h2>
<p>I'm sure there's tons of nutty directions to go with this concept:</p>
<pre><code>if x is integer [  ; =&gt; integer? x
   print "How weird do you want to get?"
]

if y is even [  ; =&gt; even? x
   print "Pretty crazy!
]
</code></pre>
<p>That's not likely to be a good use of IS, because the way infix works you can't put complex expressions on the left without using parentheses.  So this is a poor direction to go for the core.  But hey, people might have ideas in their scripts for similar things.</p>
<p>Be on the lookout for ways to use this!  I'm going to look into this FOR-EACH and MAP-EACH thing, it might be worth sacrificing the EACH word for this, vs. the old idea:</p>
<pre><code>&gt;&gt; foo: each [1 2]

&gt;&gt; foo
== 1

&gt;&gt; foo
== 2

&gt;&gt; foo
** Error: End of enumeration reached

&gt;&gt; try foo
== ~null~
</code></pre>
<p>EACH was a kind of nice name for that generator, but having to pick another name in order to be able to write <strong>for each 'x</strong> and <strong>map each 'x</strong> while leaving the definitions of non-each FOR and MAP completely open is a tradeoff I'm willing to make.</p>
<p>It might actually read better as:</p>
<pre><code>foo: generates each [1 2]
</code></pre>
<p>Then define GENERATES-EACH... !  This way plain GENERATES could be a dialected interpretation instead of an itemwise one:</p>
<pre><code>bar: generates [1 to 100]
</code></pre>
<p>EACH could make arbitrary decisions beyond just tacking -EACH onto things.  Who knows what might be useful:</p>
<pre><code>&gt;&gt; [* 10] each [1 2]
== [10 20]
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-03-18T16:49:59Z' class='post-time'>
                    March 18, 2025,  4:49pm
                  </time>
                  <meta itemprop='dateModified' content='2025-03-18T17:08:30Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="8" data-topic="385">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">whatever-of: func [a b] [
    print ["WHATEVER!" mold a mold b]
]

&gt;&gt; whatever of [1 2 3] $10
WHATEVER! [1 2 3] $10
</code></pre>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">&gt;&gt; max: max of (a + 4) (b + 20)
== 1020
</code></pre>
</blockquote>
</aside>
<p>Something else to note here is that OF can be written to apply refinements to the function it is calling:</p>
<pre><code>whatever-of: func [a b :backwards] [
    if backwards [swap $a $b]
    print ["WHATEVER!" mold a mold b]
]

&gt;&gt; whatever of [1 2 3] $10
WHATEVER! [1 2 3] $10

&gt;&gt; whatever:backwards of [1 2 3] $10
WHATEVER! $10 [1 2 3]
</code></pre>
<p>This gives you a linguistic rearrangement.  Because it would otherwise be:</p>
<pre><code>&gt;&gt; whatever-of:backwards [1 2 3] $10
WHATEVER! $10 [1 2 3]
</code></pre>
<p>What sort of possibilities does that open up?  I don't know.  (I haven't figured out how to take advantage of refinements on infix either, but we can do that now too...)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
