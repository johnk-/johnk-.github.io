<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>R3 GUI in web browser - #12 by hostilefork - Web - AltRebol</title>
    <meta name="description" content="@gchiu (or anybody :slight_smile: ) I do web applications for my day job and was dreaming of the possibility of Ren-C running r3-gui apps in the browser... 
Do you have any thoughts about how close/distant this emscripte&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../860.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;R3 GUI in web browser&#39;" href="../860.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/r3-gui-in-web-browser/860/12" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/r3-gui-in-web-browser/860/12" />
<meta property="og:title" content="R3 GUI in web browser" />
<meta name="twitter:title" content="R3 GUI in web browser" />
<meta property="og:description" content="Some time has passed, and while emscripten hasn&#39;t been a laser focus it has remained glued on the year&#39;s priority list.  Just defining the API for C interoperability has been a lot of work, but JavaScript has been kept in mind so that it would one day be able to come out swinging.  We now have a proof-of-concept means of integrating JavaScript and Rebol in a natural way, through functions whose specs are blocks and whose bodies are strings of JavaScript code.  The JS-NATIVE offers conventional ..." />
<meta name="twitter:description" content="Some time has passed, and while emscripten hasn&#39;t been a laser focus it has remained glued on the year&#39;s priority list.  Just defining the API for C interoperability has been a lot of work, but JavaScript has been kept in mind so that it would one day be able to come out swinging.  We now have a proof-of-concept means of integrating JavaScript and Rebol in a natural way, through functions whose specs are blocks and whose bodies are strings of JavaScript code.  The JS-NATIVE offers conventional ..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Web" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="article:published_time" content="2018-10-15T22:02:10+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../860.html">R3 GUI in web browser</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/web/48" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/web/48" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Web</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='R3 GUI in web browser'>
      <link itemprop='url' href='../860.html'>
      <meta itemprop='datePublished' content='2017-07-02T19:24:04Z'>
        <meta itemprop='articleSection' content='Web'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='darrencruse'>
            <link itemprop='url' rel='nofollow' href='../../../u/darrencruse.html'>
          </span>
        <meta itemprop='text' content='@gchiu (or anybody :slight_smile: ) I do web applications for my day job and was dreaming of the possibility of Ren-C running r3-gui apps in the browser... 
Do you have any thoughts about how close/distant this emscripte&amp;hellip;'>

          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-10-15T22:02:10Z' class='post-time'>
                    October 15, 2018, 10:02pm
                  </time>
                  <meta itemprop='dateModified' content='2018-10-15T22:18:34Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-post-not-found" data-username="darrencruse" data-post="3" data-topic="16">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/darrencruse/48/234_2.png" class="avatar"><a href="../../about-the-web-category/16/3.html">About the Web category</a></div>
<blockquote>
<p>I do web applications for my day job and was dreaming of the possibility of Ren-C running r3-gui apps in the browser…</p>
</blockquote>
</aside>
<p>Some time has passed, and while emscripten hasn't been a laser focus it has remained glued on the year's priority list.  Just defining the API for C interoperability has been a lot of work, but JavaScript has been kept in mind so that it would one day be able to come out swinging.</p>
<p>We now have a proof-of-concept means of integrating JavaScript and Rebol in a natural way, through functions whose specs are blocks and whose bodies are strings of JavaScript code.  The <a href="https://github.com/hostilefork/replpad-js/blob/7c5478b8ad495b6d5a8e7526c916a3a23a2c2bfc/replpad.reb#L27">JS-NATIVE offers conventional run-and-return</a>--when the body of the code finishes, it considers the operation over.  The <a href="https://github.com/hostilefork/replpad-js/blob/7c5478b8ad495b6d5a8e7526c916a3a23a2c2bfc/replpad.reb#L145">JS-AWAITER sandboxes asynchronous operations to appear synchronous</a>, not returning when the body is finished but keeping the caller waiting until an implicit <code>resolve()</code> function is called.</p>
<blockquote>
<p>I assume the first step would be to get that little REPL console working.</p>
</blockquote>
<p>The links above are to the source for the current iteration of the REPL, which embraces this technique.  There is a very long way to go in terms of error handling, exceptions, and being truly easy-to-use for a casual scripter...really it was just a proof-of-concept to get the model out the door.</p>
<p>Here's a page with the REPL: <a href="http://hostilefork.com/media/shared/replpad-js/" class="inline-onebox">Ren Garden</a></p>
<p>It tries to attack the basic problems, while trying to throw in a couple of Ren-Garden-isms.  Do shift-enter for multi-line input, and you can try something that does a loop containing an INPUT and a PRINT.  Cancellation still needs work (the previous iteration of the demo handled it, but it hasn't been accomodated by this one yet).  There are some attempts at undo-ability across evaluations.</p>
<p><em>(Note: For anyone concerned about the current size of the download, there's a lot that can be done about it.  If we were willing to rely on browsers with SharedArrayBuffer and WebAssembly threading enabled, we could build directly to webassembly and avoid the bloat and performance hit of using the <a href="https://github.com/kripken/emscripten/wiki/Emterpreter">"emterpreter"</a>.  Not to mention how much stuff is built into the EXE that is not needed for JavaScript.  Anyone planning on using GOB!?  Not to mention all the support for file ports and other things that the HTTP model would not use in that form...)</em></p>
<aside class="quote no-group quote-post-not-found" data-username="darrencruse" data-post="3" data-topic="16">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/darrencruse/48/234_2.png" class="avatar"><a href="../../about-the-web-category/16/3.html">About the Web category</a></div>
<blockquote>
<p>But in terms of the Ren-C codebase otherwise do you think there’s a lot of underlying platform dependencies/<span class="hashtag-raw">#ifdefs</span> etc. that will require a lot of changes for the webassembly output to really be able to work in the browser?</p>
</blockquote>
</aside>
<p>The codebase tries to stay within the realms of defined behavior at the abstraction level of C, and so it has mechanically been able to compile with emscripten for some time.  But when it comes down to making it work in a way that is favorable, code tends not to design or write itself.</p>
<p>For some of the reasoning of why it works like it does, see <a href="../../on-giving-librebol-js-more-powers-than-javascript/849.html">"On giving libRebol JS more powers than JavaScript"</a>.  It should probably be easy enough to grok if you do JavaScript for a living, and hopefully you can critique or suggest improvements.  There's also a fair amount of design to consider in terms of the bridging, so feedback would be valuable on things like <a href="../../how-to-bridge-arguments-to-user-natives-js-natives/817.html">"How to bridge arguments to user natives / JS natives"</a></p>
<blockquote>
<p>(I did a lot of C years ago though more recently I do javascript exclusively so I do have some background to help me work on this if it’s not complete a waste of time… <img src="../../../images/emoji/twitter/slight_smile.png%3Fv=14" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"> )</p>
</blockquote>
<p>I think now is the time at which someone who doesn't practice C but has a lot of JavaScript knowledge can start making a real, interesting thing!  While being able to compile Rebol on bare metal remains an imperative, I think the web delivery vehicle is probably the best first chance at getting people exposed to the ideas.</p>
<p>And the language has not stood still.  Whether it's things like <a href="https://trello.com/c/Kg9A45b5/231-paths-can-be-dispatched-as-infix-and-provide-refinements-to-infix-operators-using-shove">being able to feed left hand sides into PATH!</a> or <a href="https://trello.com/c/dWQnsspG/171-comment-can-be-put-anywhere-and-not-affect-surrounding-evaluation">truly invisible COMMENTs</a> or pushing the evaluator <a href="https://trello.com/c/LR9PzUS3">with things like MATCH</a>, there are a <em>lot</em> of new ideas to show!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="http://forum.rebol.info/t/what-to-do-with-the-lone-character/218/9">What to do with the lone ? character</a>
                        <meta itemprop='position' content='11'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../860.html#post_12">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
