<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT - #6 by hostilefork - Internals - AltRebol</title>
    <meta name="description" content="2022 Note: The introduction of &amp;quot;invisibles&amp;quot;  was a watershed moment in the design of Ren-C.  This is the thread where I explained having tried it out, and finding it to have a surprising number of applications. 
As time&amp;hellip;">
    <meta name="generator" content="Discourse 3.1.0.beta4 - https://github.com/discourse/discourse version 25276f62f959eab4557049a655300a70835c5769">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="../405.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://forum.rebol.info/stylesheets/color_definitions_base__2_caa66e77e807fc270e5b21d201643962219b6a9a.css?__ws=forum.rebol.info" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="https://forum.rebol.info/stylesheets/desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="https://forum.rebol.info/stylesheets/chat_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-details_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-lazy-videos_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-local-dates_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-narrative-bot_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forum.rebol.info/stylesheets/discourse-presence_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forum.rebol.info/stylesheets/docker_manager_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="https://forum.rebol.info/stylesheets/poll_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forum.rebol.info/stylesheets/chat_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="chat_desktop"  />
  <link href="https://forum.rebol.info/stylesheets/poll_desktop_97f5da14b02e14a864d77b6d983a33a1b302f894.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forum.rebol.info/stylesheets/desktop_theme_2_5e18a6fac02b6ab11e33445179f4a2961aadbfd8.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT&#39;" href="../405.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/issues-with-invisibles-a-truly-disappearing-comment/405/6" />
<meta name="twitter:url" content="https://forum.rebol.info/t/issues-with-invisibles-a-truly-disappearing-comment/405/6" />
<meta property="og:title" content="Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT" />
<meta name="twitter:title" content="Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT" />
<meta property="og:description" content="A post was split to a new topic: Using Invisibles To Opt Out of Functions In a Chain" />
<meta name="twitter:description" content="A post was split to a new topic: Using Invisibles To Opt Out of Functions In a Chain" />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Internals" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:tag" content="historic" />
<meta property="article:published_time" content="2023-06-25T23:51:43+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://forum.rebol.info/">
    AltRebol
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../405.html">Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/internals/9" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Internals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../../tag/historic.html' class='discourse-tag' rel="tag">historic</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Issues with &quot;Invisibles&quot;: a truly disappearing COMMENT'>
        <meta itemprop='articleSection' content='Internals'>
      <meta itemprop='keywords' content='historic'>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-03T01:02:05Z' class='post-time'>
                    December 3, 2017,  1:02am
                  </time>
                  <meta itemprop='dateModified' content='2023-06-25T22:40:17Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='articleBody'>
              <blockquote>
<p><strong>2022 Note:</strong> The introduction of "invisibles"  was a watershed moment in the design of Ren-C.  This is the thread where I explained having tried it out, and finding it to have a surprising number of applications.</p>
<p>As time went on, the idea of allowing you to freely comment out <em>any</em> range of code turned out to require too many compromises and contortions to be worthwhile.  It also set up a precedent that would prove impossible to reproduce in mediums like PARSE.  You can see the seeds of those problems in the ponderings of this thread!</p>
<p>While this is a significant thread for historical reasons, a more useful summary is here:</p>
<p><strong><a href="../../invisibility-reviewed-through-modern-eyes/2034.html">Invisibility Reviewed Through Modern Eyes</a></strong></p>
</blockquote>
<hr>
<p>So <span class="mention">@MarkEye</span> brought back up an idea that has crossed my mind every few months, about what it would take to make something that was truly "less than null".  Some way of returning a complete-absence-of-information, <em>including even information about the absence of a value</em>.  :-/</p>
<p>The most "obvious" application most people would jump to <em>(which turns out--in fact--not to be so obvious at all)</em> would be COMMENT.  So imagine:</p>
<pre><code>9 = do [1 + comment "a" comment "b" 2 * 3]
9 = do [1 comment "a" + comment "b" 2 * 3]
9 = do [1 + comment "a" comment "b" + 2 * 3]
</code></pre>
<p>Despite the simple appearance, there's a lot of holistic concerns of such a thing showing up in the Rebol ecology.  Here's some:</p>
<p><strong>"I've made an acid that can eat through anything..."</strong></p>
<p>This can't come down to returning a new type of value (e.g. a COMMENT!).  Because what would happen in your function when you said <code>return make comment! ...</code>?  It would be skipped.</p>
<p>How would you test for them?  <code>if comment? c [print "it's a comment"]</code> would turn into <code>if comment? [print "it's a comment"]</code></p>
<p>Having it as a value type is not an option, so it would have to be some new character of the function definition itself.</p>
<p><strong>You can't "GROUP! them" and keep their semantics</strong></p>
<p>One might ask if there should be a difference between these two statements:</p>
<pre><code> 1 + comment "a" 2
 1 + (comment "a") 2
</code></pre>
<p>COMMENT isn't a very motivating scenario, it's single-arity and it quotes.  But what if you had a more complex operation in this class, with multiple arguments, including evaluated ones?</p>
<p>Rebol has used <code>()</code> as a "null generator" for a long time.  But might it be revisited so that GROUP!s that wound containing no content--or just comments--to vaporize?  That would mean all these were the same when running DO?</p>
<pre><code>1 + comment "a" 2
1 + (comment "a") 2
1 + () 2
1 + 2
</code></pre>
<p>The short answer is <strong>No</strong>.  The long answer is <strong>N: (o)</strong></p>
<blockquote>
<p><strong>UPDATE:</strong> Later it was decided the real answer is actually much longer--it rules out these particular cases, <a href="../../what-to-do-about-do-and/772.html">while allowing groups to vaporize in interstitial positions</a>.  Hence <strong>you can group them and keep their (absence of) content</strong>, but you can't put those invisibled groups in some spots you could have put them without the group.</p>
<p><strong>UPDATED UPDATE</strong>: In practice, having <strong>N: (...invisible...) 1</strong> be equivalent to <strong>N: 1</strong> does have meaningful applications.  This is due to the expanded scope of invisibles beyond commenting, they truly have turned out to be useful for non-invasive debug constructs.  The existence of <strong><code>do</code></strong> for always returning a value can help in scenarios where you are running generic code you don't understand and want to be sure it doesn't vaporize...such code is usually in a variable anyway!  So the use case of GROUP!s being more "ghostly" is actually something that makes their character unique.  <a href="../../permissive-group-invisibility/1153.html">See expanded reasoning.</a></p>
</blockquote>
<p><strong>1</strong> key reason for using groups in the first place is to show the structure in a stream of varying arity.  It provides an anchor to be able to say "that one GROUP! will turn into exactly one complete value, or it will error".  So if <strong>o</strong> vaporized in the <strong>(o)</strong> above, should <strong>N</strong> be 1 now?  <img src="../../../images/emoji/twitter/confused.png%3Fv=12" title=":confused:" class="emoji" alt=":confused:" loading="lazy" width="20" height="20"></p>
<p>Pulling the rug out from under that with "zero or one values" would have to be <em>very</em> worth it.  And it's very not.  If an expression wants to be invisible and look convenient, make it a dialect and let it take a block:</p>
<pre><code>1 i'm-invisible a &lt;b&gt; #c 'd + 2    ;-- don't define it like this
1 (i'm-invisible a &lt;b&gt; #c 'd) + 2  ;-- b/c this is void, not invisible

1 i'm-invisible [a &lt;b&gt; #c 'd] + 2 ;-- define it like this
</code></pre>
<p><strong>Interaction with DO/NEXT...<em>all invisible functions are effectively enfix</em></strong></p>
<p>This is the biggest issue.  Basically, a DO/NEXT cannot finish until it has consumed all these "invisible" expressions.  Consider:</p>
<pre><code>pos: _
do/next [1 + 2 comment "a" * 3] 'pos
</code></pre>
<p>For COMMENT to be truly "invisible", then that should act as <code>1 + 2 * 3</code>.  And the only way it can do so is if when it reaches the <code>comment "a"</code> that it eagerly continues processing, so it can find out if there's anything on the other side.</p>
<p>Furthermore, the only way to be actually "invisible" is not to damage the evaluator stack at all.  You don't want the presence of the comment above to suddenly turn <code>1 + 2 * 3</code> into the semantics of <code>1 + (2 * 3)</code>.  That means the comment needs to be dissolved right at the moment the 2 is evaluated, so it can be seen past.</p>
<p>Technically this is easy enough to do, but the results might surprise someone.  Let's imagine you think it would be cool to modify something like the variable DUMP function to be one of these "invisibles".   So you might write:</p>
<pre><code> x: 1 + 2 dump [x] * 3
</code></pre>
<p>That seems pretty cool, and intuitive in this case that when you dump X it hasn't been assigned yet--the expression isn't completed.  But would it be as intuitive if you saw:</p>
<pre><code>x: 1 + 2
dump [x]
</code></pre>
<p>One might expect 3.  But as the example above it shows, you can't get that invisible property that way.  If you did, then DO/NEXT would treat that as two expressions.</p>
<p><strong>Is it best to be honest and just call these enfix functions?</strong></p>
<p>Rather than getting into the complex details of defining a new category of functions that are "kind of exactly like enfix functions", should we just say that's what they are?  They're basically enfix functions which can pipe their left hand argument to the output in a transparent way.  Says <span class="mention">@MarkEye</span>:</p>
<blockquote>
<p>For the purposes of explication, can one consider COMMENT to be a tight infix operator that "returns" its left-hand side? (haha and its left-hand side is allowed to be empty!) Example: <code>do/next [comment "thrillsville"]</code> should behave exactly like <code>do/next []</code>, shouldn't it?</p>
</blockquote>
<p>There are a few technical challenges to implementing true transparency in this way, given that there is no END! datatype (yet behaviors can be distinguished internally to the evaluator between end and null).  It could be worked past with some kind of <code>return/proxy</code> function that you just point at the argument you want to telegraph, and the evaluator takes care of it.</p>
<p>We don't want to increase the number of parts in the box unnecessarily, so piggybacking on ENFIX may be okay.  And also, making it a generic enfix mechanism means someone could design such an abstraction with non-tight semantics as well (if they're okay with non-total-invisibility).</p>
<p>But it may be "weird", and surprise someone who types HELP COMMENT and wonders why it's not the "naive" form.  Or as <span class="mention">@MarkEye</span> says it "explicates" the situation.  Hiding the "latching" behavior on the previous result would only obscure the process.</p>
<p>Thoughts??</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../comment-to-end-of-line-with/920.html">Comment to end-of-line with * *</a>
                        <meta itemprop='position' content='4'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="http://forum.rebol.info/t/the-beta-one-comment-concession/1028">The Beta/One Comment Concession</a>
                        <meta itemprop='position' content='5'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="https://forum.rebol.info/t/deciding-on-an-alternative-comment-syntax/275">Deciding on an Alternative Comment Syntax</a>
                        <meta itemprop='position' content='6'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../enfixing-also-stylizing-it-after-then-and-else/402/5.html">Enfixing ALSO, stylizing it after THEN and ELSE</a>
                        <meta itemprop='position' content='7'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../quoted-arrives-formerly-known-as-lit-bit/995/2.html">QUOTED! arrives (formerly known as &quot;lit bit&quot;)</a>
                        <meta itemprop='position' content='8'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-03T03:11:03Z' class='post-time'>
                    December 3, 2017,  3:11am
                  </time>
                  <meta itemprop='dateModified' content='2017-12-12T19:04:22Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>So the reason I'm asking these questions is I actually wrote a first take on "invisible" functions.  You would depict them by putting in their function spec that they really returned <em>no</em> type at all.  (e.g. <strong>return: []</strong>).  This necessarily meant that they couldn't return any other types... (this is why that doesn't mean void, because sometimes you want to return a void as well as other types as a set, hence <code>&lt;opt&gt;</code>).</p>
<p>The code I wrote is nuanced differently than enfix, and optimized, with interesting aspects.  I'm a bit loathe to backpedal on those developments and surrender to the kind-of-<em>meh</em>-excuse of "let them use ENFIX".</p>
<h1>a hybrid option...</h1>
<hr>
<p><strong>Introduce a tricky enfix operator, maybe with a tricky name like <code>ELIDE</code></strong></p>
<p>COMMENT was long ago changed to disallow active parameters like GROUP!, because <code>comment (1 + 2)</code> looks confusing.  So does <code>comment print x</code> (was that what you actually wanted?).  It's was easy enough to put things in blocks--so seemed better to put it in a block that shows more clearly what you meant.</p>
<p>So hybrid plan step one: make an enfix operator in the spirit that <a class="mention" href="https://forum.rebol.info/u/markeye">@MarkEye</a> was mentioning, that's fancy and pipes left tight to output regardless of args.  For now I'll call it <strong><a href="https://en.wikipedia.org/wiki/Elision" rel="nofollow noopener">ELIDE</a></strong>.</p>
<p>Imagine if you give it a BLOCK! it won't evaluate the contents, but if you give it a GROUP! it will, etc.  (More or less, a version of EVAL that "elides" its result value).  This could provide invisible injections in the middle of any location in your evaluation stream:</p>
<pre><code>x: 10
y: 1 + elide (print x) 2
</code></pre>
<p><em>(Tech note: To make ELIDE with today's enfix, one has to effectively "see an end" on its "left"--which is actually "up" into into the argument acquisition.  It needs to have special behavior w.r.t. simulating 2 as the only thing there.  We could imagine such magic telegraphing powers being given to all enfix, er, somehow.)</em></p>
<p>ELIDE can also be the multi-line arbitrary endpoint COMMENT you always wanted but were afraid to ask for:</p>
<pre><code> x: 10
 y: 1 elide [+ 2
 z: 30] + 7
</code></pre>
<p><em>(Note you cannot do that by wrapping the code in a curly-brace string.)</em></p>
<p>If a user looks at the definition and implementation of ELIDE, and sees it's tricky with a grab and route of enfix left tight to output, they will feel they're getting what they pay for--and be impressed.  If they meet it someday in the debugger, they won't be shocked by what it does...because it has to do that.</p>
<p>But for the modest user who was just trying to use COMMENT...</p>
<hr>
<p><strong>Make plain-old COMMENT look plain-old, but back it with new tech</strong></p>
<p>The above ELIDE operation can be done roughly with existing ENFIX, tweaked slightly.  But let's say COMMENT's definition is:</p>
<pre><code>comment: func [
    return: []
    :value [block! any-string! binary! any-scalar!]
][
    ; nada
]
</code></pre>
<p>And let's say since it has <code>return: []</code> (or however we want to spec this) means <strong>COMMENT forces completion of the left hand side, or it will error</strong>.  Like an expression barrier would.</p>
<p>So <em>unlike ELIDE</em>, COMMENT disrupts order of an in-progress evaluation, to the point where it never acts enfix.  This isn't going to jolt anyone's world--because no one used COMMENT mid-stream in evaluations before (it would leave behind voids and corrupt the expression).</p>
<p>But <em>like ELIDE</em>, this new COMMENT would not disrupt the value dropping out.</p>
<pre><code>&gt;&gt; do [x: 10 + 20 comment "KOY4GOFF"]
== 30
</code></pre>
<p>So rather than acting "enfix", it acts more like today's expression barrier.  Not only does today's expression barrier force left expressions to finish, it optimizes itself out by flushing... if you say <strong>do/next [| | | 1 + 2]</strong> they all get processed in that same DO/NEXT operation.)</p>
<hr>
<p><strong>An even deeper motivation: -avoiding- a new parameter type</strong></p>
<p>I've tried to sell the above on its plausible-merits-to-the-layman, without talking about the "esoteric" case that actually made me come up with it.  But in the beginning when I was making the <strong><code>&lt;|</code></strong> and <strong><code>|&gt;</code></strong>, I wanted:</p>
<pre><code> &gt;&gt; x: 1 + 2 * 3 &lt;| print ["x is" x] blah blah blah
 x is 9
 == 9
</code></pre>
<p>I wanted an operator that could ask for the left hand side to be completed fully, and this was my motivating case.  I didn't like this being interpreted as:</p>
<pre><code> x: 1 + 2 * (3 &lt;| print ["x is" x] blah blah blah)
</code></pre>
<p>And as <a class="mention" href="https://forum.rebol.info/u/markeye">@MarkEye</a> will remember, I very much wanted a model of enfix that permitted it.  But really, this is the only operator in that class, <em>and it doesn't even care what the right hand side evaluates to</em>, <em>nor does it want to see the left hand result</em>.  It doesn't want to be parameterized by the left hand side, it wants to elide itself.</p>
<p>Left-completion could be a way to do it.  But ordinary evaluative enfix could not force completion of the left, because of:</p>
<pre><code> return if x &lt; 10 [20] else [304]
</code></pre>
<p>If more than one unit of expression got evaluated on the left--taken to its logical conclusion--you'd get return happening before ELSE had a chance:</p>
<pre><code> (return if x &lt; 10 [20]) else [304]
</code></pre>
<p>And the <span class="hashtag">#tight</span> parameter class was deemed necessary for other reasons.  So would we be needing <span class="mention">@full</span> parameters?</p>
<pre><code> &gt;&gt; foo: func [@x] [print x]
 &gt;&gt; foo "a" "b" "c"
 == "c" ;-- Variadics can do this, but, @x... seriously?
</code></pre>
<p>With this proposal, we dodge a new left enfix convention, and get a perfectly sensible definition for <strong><code>&lt;|</code></strong>:</p>
<pre><code>&lt;|: func [
    {Evaluate any # of expressions, but completely elide the results.}

    return: []
        {Returns nothing, not even void (like COMMENT)}
    expressions [&lt;opt&gt; any-value! &lt;...&gt;]
         {Any number of expressions.}
][
    do expressions ;-- yes, you can DO or DO/NEXT a VARARGS!
]
</code></pre>
<hr>
<p><strong><a href="https://www.youtube.com/watch?v=56dRczBgMiA" rel="nofollow noopener">...Any questions?...</a></strong></p>
<p>I think this looks like the best of both worlds.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="2" />
              </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-03T10:49:08Z' class='post-time'>
                    December 3, 2017, 10:49am
                  </time>
                  <meta itemprop='dateModified' content='2018-11-22T15:54:56Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I want to make a quick point:</p>
<pre><code>pos: _
do/next [1 + 2 comment "hi" 7 + 9] 'pos
</code></pre>
<p>You might think it's equally viable for POS to come back as <code>[comment "hi" 7 + 9]</code> and leave the comment for the next processing step, as it is for it to take care of the comment in the first step.  You can still have the first step evaluate to 3 and the second step evaluate to 16.</p>
<p>But that only works because there was something after it.  The stated goal is that <code>do [1 + 2 comment "hi"]</code> come back with 3.  So what if the <code>7 + 9</code> hadn't been there?  You'd wind up with POS as just <code>[comment "hi"]</code>, and that would become void...a DO/NEXT of that can't fabricate 3 out of thin air.  Hence running several DO/NEXTs on the block would have a different outcome from DO...<em>which is bad</em>.</p>
<p>It might seem a little weird to consider all COMMENTs as being part of an expression that precedes it.  But that's how the directional arrow of Rebol's evaluation dictates it.</p>
<blockquote>
<p><strong>UPDATE:</strong> This was overturned some months later with a <a href="../../re-imagining-do-next-now-called-evaluate/767.html">clever reimagination of DO/NEXT</a>...allowing to <em>not</em> glue invisible constructs with the evaluation on their left.  It's an important development that has made invisibles act as one expects in control flow, making their use much easier.</p>
</blockquote>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="http://forum.rebol.info/t/the-case-for-literal-or-soft-quoted-branches-in-case/590">The Case for Literal (or soft-quoted?) branches in CASE</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2017-12-03T16:22:34Z' class='post-time'>
                    December 3, 2017,  4:22pm
                  </time>
                  <meta itemprop='dateModified' content='2017-12-03T16:34:13Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Both ELIDE and COMMENT <a href="https://github.com/metaeducation/ren-c/commit/1f284aaf7a8dafc398d7c158eff2a105710070c9" rel="nofollow noopener">seem to be working</a>, though the comment style is not as strict as to only work in expression-barrier slots.  It forces the left to completion as far as it can, but accepts being in a parameter slot when it reaches the limit.  We can decide if this is too permissive, and it should raise an error if it can't complete <em>all</em> the parameters of a function.</p>
<p>Though it only has <a href="https://github.com/metaeducation/ren-c/blob/master/tests/functions/invisible.test.reb" rel="nofollow noopener">a few explicit tests</a> at the moment, it has survived boot and a bootstrap build.  And some other abstractions, some of which are committed.  So please add more tests, or propose "can it do...this?" cases.</p>
<p><strong>I'm curious what kinds of ideas people have for what to do with these mechanics...besides just debug output / breakpoints / comments...</strong></p>
<p>It seems like it could be useful in code-generating systems, where you want a side-effect to happen at certain moments but you don't want to break the emitter stream of the expression you're building.  I don't know.</p>
<p>Maybe it could be getting more competitive with Forth in the stack area, with the ability to invisibly PUSH expressions without having to worry about that being observed by your current expression pipe.<br>
But then a non-invisible POP could get the expressions back off?</p>
<p>Hopefully food for thought.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-01-29T07:06:19Z' class='post-time'>
                    January 29, 2018,  7:06am
                  </time>
                  <meta itemprop='dateModified' content='2018-11-22T15:57:23Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="2" data-topic="405">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>If a user looks at the definition and implementation of ELIDE, and sees it's tricky with a grab and route of enfix left tight to output, they will feel they're getting what they pay for--and be impressed.  If they meet it someday in the debugger, they won't be shocked by what it does...because it has to do that.</p>
<p>But for the modest user who was just trying to use COMMENT, make plain-old COMMENT look plain-old, but back it with new tech</p>
</blockquote>
</aside>
<p>I wound up swapping my stance on this, in terms of which-operator-should-get-which-technique.</p>
<p>ELIDE's unpredictability of moment-of-evaluation made it really only useful if it had no side-effects.  Which is to say, it was really only useful when it acted like a truly-invisible comment.</p>
<p>When ELIDE was changed to use the "simpler" (yet not truly invisible) mechanic, it became easy to use...and it could drop the requirement for its argument to be in a GROUP!.  This simple mechanic is applicable to those who wish to study it and make things like DUMP...all they have to do is make it <code>return []</code>.</p>
<p>Meanwhile, the number of COMMENT-like abstractions is likely to be very few...because COMMENT pretty much covers it.  It can have a somewhat more wily definition with the argument that it needs to, because it seeks the "true invisibility".</p>
<blockquote>
<p><strong>UPDATE:</strong> It seems I spoke too soon on COMMENT being the only comment-like thing you need.  It turns out even that had more directions to go with <a href="https://forum.rebol.info/t/comment-to-end-of-line-with/920">being variadic and detecting to end of line</a>.  Who knows how many more uses might come up?</p>
</blockquote>
<p>This opened up a number of doors, including to retake ALSO and kill AFTER, since a usable ELIDE is more flexible than either:</p>
<aside class="onebox githubcommit">
  <header class="source">
      <a href="https://github.com/metaeducation/ren-c/commit/bc2b9ff75eb0ecd3824282533011b3481ac234af" target="_blank" rel="noopener">github.com/metaeducation/ren-c</a>
  </header>
  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/metaeducation/ren-c/commit/bc2b9ff75eb0ecd3824282533011b3481ac234af" target="_blank" rel="noopener">Repurpose ALSO, kill after, add THEN, swap ELIDE/COMMENT behavior</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2018-01-28" data-time="09:39:11" data-timezone="UTC">09:39AM - 28 Jan 18 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/hostilefork" target="_blank" rel="noopener">
          <img alt="hostilefork" src="https://avatars1.githubusercontent.com/u/20440?v=4" class="onebox-avatar-inline" width="20" height="20">
          hostilefork
        </a>
        
      </div>

      <div class="lines" title="changed 17 files with 167 additions and 124 deletions">
        <a href="https://github.com/metaeducation/ren-c/commit/bc2b9ff75eb0ecd3824282533011b3481ac234af" target="_blank" rel="noopener">
          <span class="added">+167</span>
          <span class="removed">-124</span>
        </a>
      </div>
    </div>

  </div>
</div>


  <div class="github-row">
    <pre class="github-content" style="white-space: normal;">The ELIDE routine was originally designed as an attempt to create a
"truly invisible" comment. If given a BLOCK!, it would act...</pre>
  </div>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-06-25T23:51:43Z' class='post-time'>
                    June 25, 2023, 11:51pm
                  </time>
                  <meta itemprop='dateModified' content='2023-06-25T23:51:43Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A post was split to a new topic: <a href="../../using-invisibles-to-opt-out-of-functions-in-a-chain/2036.html">Using Invisibles To Opt Out of Functions In a Chain</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2018-08-03T21:55:48Z' class='post-time'>
                    August 3, 2018,  9:55pm
                  </time>
                  <meta itemprop='dateModified' content='2018-08-03T21:55:48Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-post="1" data-topic="405">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Rebol has used () as a “void generator” for a long time.  But might it be revisited so that GROUP!s that wound containing no content–or just comments–to vaporize?  That would mean all these were the same when running DO?</p>
<pre><code>1 + comment "a" 2
1 + (comment "a") 2
1 + () 2
1 + 2
</code></pre>
<p>The short answer is No.</p>
</blockquote>
</aside>
<p>So I do think these examples of GROUP!s vanishing without feedback are bad.  But the reason that they are bad is because they are in argument fulfillment positions.</p>
<p>When you are between expressions, it's not really an issue if something vaporizes or not.  And probably preferable if it does.</p>
<p>So what I've got going is this:</p>
<pre><code>&gt;&gt; 1 + comment "a" 2
== 3

&gt;&gt; 1 + (comment "a") 2
** Script Error: + is missing its value2 argument

&gt;&gt; 1 + () 2
** Script Error: + is missing its value2 argument

&gt;&gt; 1 + 2
== 3
</code></pre>
<p>But then, also, this...</p>
<pre><code>&gt;&gt; block: [1 + comment [2 * 3] 4 elide print "Outside" (comment "inside") | |]
== [1 + comment [2 * 3] 4 elide print "Outside" (comment "inside") | |]

&gt;&gt; do block
Outside
== 5

&gt;&gt; block: try evaluate/set block 'val
== [elide print "Outside" (comment "inside") | |]

&gt;&gt; val
== 5

&gt;&gt; block: try evaluate/set block 'val
Outside
== _

&gt;&gt; val
== 5
</code></pre>
<p>It may be the best of both worlds.  GROUP!s don't synthesize any values that aren't there and act like invisibles.  But if they're empty, they have the behavior of expression barriers.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Closed 
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-05-19T05:01:13Z' class='post-time'>
                    May 19, 2022,  5:01am
                  </time>
                  <meta itemprop='dateModified' content='2022-05-19T05:01:13Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-04-12T16:40:45Z' class='post-time'>
                    April 12, 2021,  4:40pm
                  </time>
                  <meta itemprop='dateModified' content='2023-06-26T00:09:26Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Early on, I wanted to avoid situations where an invisible could be in a position where it might look like it was an assignment:</p>
<pre><code>x: elide print "It's confusing when X gets [a]"
append [] 'a
</code></pre>
<p>Since the ELIDE vanished, the result of the APPEND is what X gets.  Confusing!</p>
<p>So at first, I figured it should be illegal to do that.  But I later backed off on ruling it out when I thought about a vanishing BREAKPOINT:</p>
<pre><code>x: breakpoint append [] 'a
</code></pre>
<p>Why shouldn't you be able to put a breakpoint wherever you want, I wondered?  So it became legal.</p>
<p>In the fever dream of making invisibles able to do anything, there were tests like this:</p>
<pre><code>unset 'x
unset 'y
unset 'z
x: 10
y: 1 comment [+ 2
    z: 30] + 7
did all [
    x = 10
    y = 8
    not set? 'z
]
</code></pre>
<p>But the same problems apply when a SET-WORD! is not present in the general case; the ability to bend the "shape" of the source so arbitraily has a big complexity cost in the interpreter.  It then has to be explained in terms of <a href="https://github.com/metaeducation/ren-c/blob/0b5b42003a4c181f38f3eb28e4378dc53d3a14f1/src/mezz/base-defs.r#L150">why COMMENT is ENFIX</a> and a litany of limitations where it doesn't work.  Documenting it is maddening...and it seems to have diminishing returns.</p>
<p><strong>Now I'm having serious second thoughts about the lenience.</strong>  I don't know this tradeoff is ultimately worth it; it becomes very slippery when you are dealing with constructs that you aren't necessarily noticing are invisible.</p>
<p>So I'm thinking that the error on invisibility for non-interstitials (e.g. assignment sources or argument slots) may make sense...to say that invisibility is something that can only happen in interstitial locations.</p>
<p>You can still get your breakpoint at odd positions, just introduce a GROUP! so it's not picked up:</p>
<pre><code>x: (breakpoint append [] 'a)
</code></pre>
<p>Of course, a group might interfere with something like a COMPOSE, so you might need to use DO or be otherwise creative:</p>
<pre><code>x: do [breakpoint append [] 'a]
</code></pre>
<p>We might lament the need to worry more about restructuring the code to accommodate the breakpoint in ways that could disrupt the code.  But with dialecting, the appearance of the word BREAKPOINT even just in itself could have caused a disruption.  It's the cost of doing business in this paradigm.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../opportunistic-invisibility/1362.html">Opportunistic Invisibility</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-04-13T01:36:53Z' class='post-time'>
                    April 13, 2021,  1:36am
                  </time>
                  <meta itemprop='dateModified' content='2023-06-26T00:11:16Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="9" data-topic="405">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Anyway, these situations are very much parallel. So I'm thinking that the error on invisibility for non-interstitials (e.g. assignment sources or argument slots) may make sense...to say that invisibility is something that can only happen in interstitial locations.</p>
</blockquote>
</aside>
<p>Well, this neglects at least one important case today:</p>
<pre><code>if let pos: find series item [...]
</code></pre>
<p>Currently, LET followed by a SET-WORD! or a SET-BLOCK! adds a binding and vanishes, leaving the existing code to run as it would.  This helps make sure it doesn't disrupt any special processing, e.g. looking backwards at the SET-WORD! (think <strong>x: me + 1</strong>, which we want to work the same as <strong>let x: me + 1</strong>, hence LET should be staying out of the assignment logic done by ME by quoting backwards).</p>
<p>If followed by a WORD!, LET does something different, it consumes the word and evalutes to that WORD!</p>
<pre><code>if let x [...]
</code></pre>
<p>That would act something like:</p>
<pre><code>if 'x [...]  ; the X is a new binding, with that binding visible to ensuing code
</code></pre>
<p>It's useful when you want to pass a new variable in as a parameter to something.  Not particularly useful in this case, but that's what it would be.</p>
<p>This demonstrates what I've called "opportunistic invisibility"... which offers a MACRO-like ability to expand to some content or no content.</p>
<p>So anyway... not so simple.  <strong>Maybe this suggests that the act of vanishing is distinct from the act of delegating/forwarding to another expression, e.g. a MACRO?</strong></p>
<p>e.g. maybe LET is legal in a condition argument slot because it's saying something different from "I vanish".  It's saying <em>"I am twisting the evaluation feed and supplying new content to take the place of the expression that belongs here"</em>.</p>
<p>Hence how LET with a SET-WORD! works is not invisibility...rather that it actually binds and evaluates one expression forward, and then puts in its place the result of quoting the result of that expression.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="1" />
              </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/IngoHohmann'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-04-13T07:23:55Z' class='post-time'>
                    April 13, 2021,  7:23am
                  </time>
                  <meta itemprop='dateModified' content='2021-04-13T07:23:55Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I could live with breakpoint being the only special invisible, that can be put everywhere, but I'm not sure whether it's worth the hassle.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
          <div id='post_13' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
                  Split this topic 
              </span>

              <link itemprop="mainEntityOfPage" href="../405.html">


              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-06-26T00:15:34Z' class='post-time'>
                    June 26, 2023, 12:15am
                  </time>
                  <meta itemprop='dateModified' content='2023-06-26T00:15:34Z'>
              <span itemprop='position'>13</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A post was split to a new topic: <a href="../../construct-for-updating-variable-with-value-if-its-not-null/2037.html">Construct For Updating Variable With Value (If It's Not Null)</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
                <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
                <meta itemprop="userInteractionCount" content="0" />
              </div>

          </div>
    </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
