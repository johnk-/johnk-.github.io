<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Is INTEGER! in PARSE Too Obfuscating? - Parsing - AltRebol</title>
    <meta name="description" content="There&amp;#39;s a bit of a problem in the combinator-based UPARSE with the historical convention of an INTEGER! rule, where if you have two integers in a row it indicates a range of how many things to accept. 
rebol2&amp;gt; parse &amp;quot;**&amp;quot;&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="1578.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Is INTEGER! in PARSE Too Obfuscating?&#39;" href="1578.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/is-integer-in-parse-too-obfuscating/1578" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/is-integer-in-parse-too-obfuscating/1578" />
<meta property="og:title" content="Is INTEGER! in PARSE Too Obfuscating?" />
<meta name="twitter:title" content="Is INTEGER! in PARSE Too Obfuscating?" />
<meta property="og:description" content="There&#39;s a bit of a problem in the combinator-based UPARSE with the historical convention of an INTEGER! rule, where if you have two integers in a row it indicates a range of how many things to accept.  rebol2&gt; parse &quot;**&quot; [1 2 &quot;*&quot;]  ; between 1 and 2 stars == true  rebol2&gt; parse &quot;**&quot; [3 4 &quot;*&quot;]  ; between 3 and 4 stars == false  It doesn&#39;t fit into the &quot;natural&quot; pattern of combinators, e.g. where 1 2 RULE is the same as 1 [2 RULE].  That doesn&#39;t mean it can&#39;t be done...it just means it would have ..." />
<meta name="twitter:description" content="There&#39;s a bit of a problem in the combinator-based UPARSE with the historical convention of an INTEGER! rule, where if you have two integers in a row it indicates a range of how many things to accept.  rebol2&gt; parse &quot;**&quot; [1 2 &quot;*&quot;]  ; between 1 and 2 stars == true  rebol2&gt; parse &quot;**&quot; [3 4 &quot;*&quot;]  ; between 3 and 4 stars == false  It doesn&#39;t fit into the &quot;natural&quot; pattern of combinators, e.g. where 1 2 RULE is the same as 1 [2 RULE].  That doesn&#39;t mean it can&#39;t be done...it just means it would have ..." />
<meta property="og:article:section" content="Domains" />
<meta property="og:article:section:color" content="F1592A" />
<meta property="og:article:section" content="Parsing" />
<meta property="og:article:section:color" content="F1592A" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="13 â¤" />
<meta property="article:published_time" content="2021-03-28T17:29:10+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1578.html">Is INTEGER! in PARSE Too Obfuscating?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/parsing/16" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/domains/parsing/16" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Parsing</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Is INTEGER! in PARSE Too Obfuscating?'>
      <link itemprop='url' href='1578.html'>
      <meta itemprop='datePublished' content='2021-03-28T17:29:10Z'>
        <meta itemprop='articleSection' content='Parsing'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="1578.html">


              <span class="crawler-post-infos">
                  <time  datetime='2021-03-28T17:29:10Z' class='post-time'>
                    March 28, 2021,  5:29pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-13T06:37:11Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>There's a bit of a problem in the combinator-based UPARSE with the historical convention of an INTEGER! rule, where if you have two integers in a row it indicates a range of how many things to accept.</p>
<pre><code>rebol2&gt; parse "**" [1 2 "*"]  ; between 1 and 2 stars
== true

rebol2&gt; parse "**" [3 4 "*"]  ; between 3 and 4 stars
== false
</code></pre>
<p>It doesn't fit into the "natural" pattern of combinators, e.g. where <strong>1 2 RULE</strong> is the same as <strong>1 [2 RULE]</strong>.</p>
<p>That doesn't mean it can't be done...it just means it would have to be part of the BLOCK! combinator specifically to notice integer sequences <em>(vs dispatching to some generic INTEGER! combinator)</em></p>
<blockquote>
<p>I've only used the range-of-times check fairly rarely, myself.  So I wonder how much worse it would be to use TALLY.  So instead of <strong>min max rule</strong> you could say:</p>
<pre><code>let n: tally rule, :(all [n &gt;= min, n &lt;= max])
</code></pre>
<p>This gives you more freedom in expressing the bounds, while not being optimized for the specific case.  It also means that if N is much greater than max, you'll waste time running rule you wouldn't have to.</p>
</blockquote>
<h2><a name="p-5009-but-the-bigger-question-1" class="anchor" href="1578.html#p-5009-but-the-bigger-question-1"></a>But, the Bigger Question...</h2>
<p><strong>How good an idea it is to have something that acts as a keyword be abstractable?</strong>  I've often been confused when I see something like:</p>
<pre><code> parse ... [... something rule ...]
</code></pre>
<p>And SOMETHING is actually an integer.  It isn't a rule in its own right, it's picking up the next rule...like a keyword.</p>
<p>As a reader, I feel like a keyword like REPEAT is missing here.  I don't know how much we want to stick to the rule that every word resolve to a parse rule...if we did, then you'd have to escape out of that with the likes of:</p>
<pre><code> parse ... [... repeat (2) rule ...]
 parse ... [... repeat (something + 1) rule ...]
</code></pre>
<p>But perhaps within PARSE, literal integers could be exempted...assumed to never match integers, but be passed as a parameter.</p>
<p>This doesn't answer what to do about ranges of integers (and BETWEEN is taken).  But just pointing out that I don't know that the current super-succinct integer syntax pays off all that well.  It might be better to be a little more verbose to make it clear that a repetition is happening.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../the-tally-parse-combinator-count-rule-matches/1581.html">The TALLY Parse Combinator: Count Rule Matches</a>
                        <meta itemprop='position' content='1'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../each-versus-for-each-and-for-all/678/5.html">Each versus for-each and for-all</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/IngoHohmann.html'><span itemprop='name'>IngoHohmann</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-04-20T14:10:24Z' class='post-time'>
                    April 20, 2021,  2:10pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-11T16:12:07Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I've often been confused when I see something like:</p>
<pre><code> parse ... [... something rule ...]
</code></pre>
<p>And SOMETHING is actually an integer.</p>
</blockquote>
</aside>
<p>I've never had a problem with plain number for repeat <em>in my own code</em> but when trying to understand someone else's code I find it a lot harder to understand, especially if words are used.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-04-22T10:43:40Z' class='post-time'>
                    April 22, 2021, 10:43am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-13T06:38:30Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="IngoHohmann" data-post="4" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/ingohohmann/48/195_2.png" class="avatar"> IngoHohmann:</div>
<blockquote>
<p>when trying to understand someone else's code I find it a lot harder to understand, especially if words are used.</p>
</blockquote>
</aside>
<p>There's a basic question of whether abstractions-via-WORD! should be legal or not.  Rebol2 allows you to abstract keywords themselves:</p>
<pre><code>rebol2&gt; keyword: 'some
== some

rebol2&gt; parse "aaa" [keyword "a"]
== true
</code></pre>
<p>R3-Alpha did not support this:</p>
<pre><code>r3-alpha&gt; keyword: 'some
== some

r3-alpha&gt; parse "aaa" [keyword "a"]
** Script error: PARSE - invalid rule or usage of rule: keyword
</code></pre>
<p>Nor does Red:</p>
<pre><code>red&gt; keyword: 'some
== some

red&gt; parse "aaa" [keyword "a"]
*** Script Error: PARSE - invalid rule or usage of rule: some
</code></pre>
<p><strong>I don't think it's a good idea to permit WORD!-abstraction of PARSE keywords.</strong>  There does need to be a mechanism by which you can adjust the set of combinators...which I think is better hooked other ways.  That's the angle being pursued with the Redbol compatibility initiative (UPARSE2).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-06-06T14:30:39Z' class='post-time'>
                    June 6, 2021,  2:30pm
                  </time>
                  <meta itemprop='dateModified' content='2021-06-06T16:17:43Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a href="https://github.com/metaeducation/ren-c/commit/3ad5499fda1d75fb28a1489669b7506d33a1f595"><strong>I have implemented the REPEAT combinator.</strong></a>  It's now in traditional native PARSE as well as UPARSE.</p>
<p>It's a bit "unfortunate" that you have to put integer variables in a GROUP!:</p>
<pre><code>&gt;&gt; var: 3
&gt;&gt; uparse? "aaa" [repeat (var) "a"]
== #[true]
</code></pre>
<p>We could consider if non-literal integers act as rules that do not advance the input and synthesize an integer <em>(in contrast with literal integers that indicate a repeat count)</em>.  That would make <strong>repeat var "a"</strong> different from <strong>repeat 3 "a"</strong> which creates irregularities.</p>
<p><strong>But on the plus side of the current behavior, you can write rules that get the repeat count from the input and apply it immediately.</strong>  The following example is contrived, but maybe not so much so that you couldn't see something like it ever happening:</p>
<pre><code>&gt;&gt; uparse? ["b" 3 "b" "b" "b"] [rule: &lt;any&gt;, repeat integer! rule]
== #[true]
</code></pre>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>This doesn't answer what to do about ranges of integers</p>
</blockquote>
</aside>
<p>I think ranges of integers is a sufficiently rare pattern to warrant a combinator specific to the purpose, rather than breaking the coherence of the model to where <strong>2 [3 rule]</strong> and <strong>2 3 rule</strong> have distinct behavior.</p>
<p>But I do notice that the pattern <strong>0 n rule</strong> is really just <strong>repeat (n) opt rule</strong>.</p>
<p>More generally <strong>repeat m n rule</strong> can be written as <strong>repeat (m) rule, repeat (n - m) opt rule</strong></p>
<p>So I'm going to be killing off ranged repetition in native PARSE.  We can discuss what the real answer should be, but that pattern can be used in the meantime.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../getting-hooks-into-events-during-parse/1640/5.html">Getting Hooks Into &quot;Events&quot; during PARSE</a>
                        <meta itemprop='position' content='2'>
                      </div>
                </div>
          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-08-14T00:17:47Z' class='post-time'>
                    August 14, 2021, 12:17am
                  </time>
                  <meta itemprop='dateModified' content='2021-08-14T00:17:47Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I think ranges of integers is a sufficiently rare pattern to warrant a combinator specific to the purpose, rather than breaking the coherence of the model to where <strong>2 [3 rule]</strong> and <strong>2 3 rule</strong> have distinct behavior.</p>
</blockquote>
</aside>
<p>Er...duh...why can't REPEAT just take a BLOCK! or somesuch?</p>
<pre><code>uparse "aaa" [repeat ([2 3]) "a"]
</code></pre>
<p>Got variables?  GET-BLOCK! is your friend for a lighter notation than REDUCE:</p>
<pre><code>uparse "..." [repeat (:[min max]) "a"]
</code></pre>
<p>Not entirely sure why this didn't occur to me sooner, but.  Now it did occur to me, so...we get it.  <img src="../../images/emoji/twitter/slight_smile.png%3Fv=14" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>
<p>But we've learned some things in the meantime.  The OPT rules I had put in as substitutes were what exposed things like the weaknesses above.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2021-10-15T19:07:29Z' class='post-time'>
                    October 15, 2021,  7:07pm
                  </time>
                  <meta itemprop='dateModified' content='2021-10-15T19:07:29Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>As a reader, I feel like a keyword like REPEAT is missing here. I don't know how much we want to stick to the rule that every word resolve to a parse rule...if we did, then you'd have to escape out of that with the likes of:</p>
<pre><code>parse ... [... repeat (2) rule ...]
parse ... [... repeat (something + 1) rule ...]
</code></pre>
<p>But perhaps within PARSE, literal integers could be exempted...assumed to never match integers, but be passed as a parameter.</p>
</blockquote>
</aside>
<p>It's easy to get bitten by using literal integers with REPEAT.  You mean to write <strong>repeat (2) rule</strong> but you write <strong>repeat 2 rule</strong>, which in the generic architecture assumes that you want to use the result of <code>[2 rule]</code> as the repeat count for whatever comes afterward.</p>
<p>Most of the time you'll get an error, but the error isn't easy to sort out.</p>
<p>If we had skippable arguments for combinators, it might have a hard literal INTEGER! argument...and if it found there was one there, it could give an error.  That might be better than nothing, though any error in the other arguments might pre-empt being able to react to it (since you could only raise an error on the argument once the combinator was running).</p>
<p>This leads me to believe that REPEAT might be a case where it needs to use a different parameter convention which would give a coherent error if you put a literal integer in that slot.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-11T17:11:34Z' class='post-time'>
                    July 11, 2022,  5:11pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-11T17:11:34Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>But perhaps within PARSE, literal integers could be exempted...assumed to never match integers, but be passed as a parameter.</p>
</blockquote>
</aside>
<p>Maybe it's just my use cases.  But I don't really find myself having literal numbers of times to run a rule very often.</p>
<p>I almost never use something like:</p>
<pre><code>parse data [... 5 rule ...]
</code></pre>
<p>The very few times such things come up, I think it would be clearer as:</p>
<pre><code>parse data [... repeat 5 rule ...]
</code></pre>
<p>If integers in PARSE were literal, that would make it easier to pass them to functions like, say, SKIP.</p>
<pre><code>parse data [... skip 3 ...]
parse data [... skip -1 ...]
</code></pre>
<p>Since I prefer NEXT as a variable name to an operation (and want people to use <a href="../de-verbification-noun-of-x-vs-noun-x/1368.html">NEXT OF instead of NEXT</a> on series), I'm probably not going to push for NEXT as an arity-0 parse keyword.  But <strong>skip 1</strong> is a bit smoother to type than <strong><code>&lt;any&gt;</code></strong> and is literate/generic, opening the doors to other skips.</p>
<p>(I like <strong><code>skip 3</code></strong> better than <strong><code>3 &lt;any&gt;</code></strong> for what is intended.)</p>
<h2><a name="p-6039-ive-demonstrated-you-can-define-integer-as-repeat-count-1" class="anchor" href="1578.html#p-6039-ive-demonstrated-you-can-define-integer-as-repeat-count-1"></a>I've Demonstrated You <em>can</em> Define INTEGER! As Repeat Count</h2>
<p>The existence of the INTEGER! combinator shows you can do it if you want to.  And Redbol PARSE wants to.</p>
<p>But is it really worth it...compared to keeping our beloved mathematical abstraction of the INTEGER! abstract, to be passed to any combinator to interpret?</p>
<p>PARSE is getting more power, with the ability to define off-the-cuff combinators and use them inline in a single parse call.  So that's quite a lot of combinators that could generically interpret integers.  REPEAT feels like a drop in the bucket of things you might want to do.</p>
<p>So I say make INTEGER! a combinator that doesn't move the parse position and just evaluates to the integer.  How about that?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../u/BlackATTR.html'><span itemprop='name'>BlackATTR</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-11T17:53:59Z' class='post-time'>
                    July 11, 2022,  5:53pm
                  </time>
                  <meta itemprop='dateModified' content='2022-07-11T17:53:59Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Amen. I think it would be clearer to write:</p>
<p><code>repeat 5 rule</code></p>
<p>Having those integers floating around in rules can be a speed-bump when reading, and they're probably a hurdle for newbies.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-07-11T23:40:19Z' class='post-time'>
                    July 11, 2022, 11:40pm
                  </time>
                  <meta itemprop='dateModified' content='2025-05-07T12:08:44Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="BlackATTR" data-post="10" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/blackattr/48/204_2.png" class="avatar"> BlackATTR:</div>
<blockquote>
<p>Having those integers floating around in rules can be a speed-bump when reading, and they're probably a hurdle for newbies.</p>
</blockquote>
</aside>
<p>With INTEGER! being a combinator that just evaluates to itself, it permits us to have a fairly literate SKIP combinator:</p>
<pre><code>&gt;&gt; parse [a b "Much more literate!"] [skip 2, text!]
== "Much more literate!"
</code></pre>
<p>Actually makes sense...as opposed the historical <strong>2 skip</strong>.  That required you absorbing that SKIP is an arity-0 function which you sometimes use to match ANY-VALUE! for SET rules... as well as that integers prefix a repeat count of the rule after it.  Much clearer to say SKIP is a combinator that takes how much to skip!</p>
<p>Furthermore, <a href="../killing-off-historical-skip-in-parse/1557/2.html">per a thought from @IngoHohmann</a>, it can have ELIDE-like behavior...which looks like a reasonable choice:</p>
<pre><code>&gt;&gt; parse ["SKIP can return GHOST" a b] [text!, skip 2]
== "SKIP can return GHOST"
</code></pre>
<p><img src="../../images/emoji/twitter/sunglasses.png%3Fv=14" title=":sunglasses:" class="emoji only-emoji" alt=":sunglasses:" loading="lazy" width="20" height="20"></p>
<aside class="quote no-group" data-username="hostilefork" data-post="9" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Maybe it's just my use cases. But I don't really find myself having literal numbers of times to run a rule very often.</p>
</blockquote>
</aside>
<p>So the exception I've found here is byte counts when parsing binary.  Things that know how many bytes they want literally put those byte counts down.</p>
<p>But where I once did <strong><code>copy 2 skip</code></strong> in these cases, that had become <strong><code>across 2 &lt;any&gt;</code></strong>.  But rather than robotically turn that into <strong><code>across repeat 2 &lt;any&gt;</code></strong> this just needs to go back to <strong><code>across skip 2</code></strong>.</p>
<p>Yet in truth...these cases all tend to suck...and what they actually want is something like <a class="mention" href="https://rebol.metaeducation.com/u/rgchris">@rgchris</a>'s <a href="../bincode/1863.html">BINCODE</a>, or ENBIN/DEBIN combinators.  So I wouldn't have worried about it anyway.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../dead-red-redemption-starting-uparse-on-the-right-foot/1649.html">Making Red Tests Useful: Starting UPARSE on the Right Foot</a>
                        <meta itemprop='position' content='3'>
                      </div>
                </div>
          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-13T06:42:43Z' class='post-time'>
                    September 13, 2024,  6:42am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-13T06:42:43Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="5" data-topic="1578">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p><strong>I don't think it's a good idea to permit WORD!-abstraction of PARSE keywords.</strong></p>
</blockquote>
</aside>
<p>The implicit behavior of INTEGER! as a rule is now gone, so these two things are synonyms:</p>
<pre><code>&gt;&gt; parse [] [1]
== 1

&gt;&gt; parse [] [(1)]
== 1
</code></pre>
<p>And contextually, the places you'd use an integer are now pretty clearly labeled:</p>
<pre><code>&gt;&gt; parse "aaa" [repeat 3 "a"]
== "a"
</code></pre>
<p>So if you have <strong><code>count: 3</code></strong>, should you have to say:</p>
<pre><code>&gt;&gt; parse "aaa" [repeat (count) "a"]
== "a"
</code></pre>
<p>...or could we allow the word fetch of an INTEGER! to evaluate to itself?</p>
<pre><code>&gt;&gt; parse "aaa" [repeat count "a"]
== "a"
</code></pre>
<p>I'm thinking that with integers not being combinators in and of themselves any longer--and having the context of the REPEAT or SKIP (or whatever), that abstracting integers through a WORD! (or TUPLE!) is probably fine.  I'll enable it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
