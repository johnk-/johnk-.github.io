<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Operator meaning &quot;complete fully&quot;...what is that? - Naming - AltRebol</title>
    <meta name="description" content="I&amp;#39;d like something to help notice when an operation did not consume all its input. 
Something along the lines of: 
&amp;gt;&amp;gt; (completely-consume add 1 2)
== 3

&amp;gt;&amp;gt; (completely-consume add 1 2 3)
** Error: ADD did not completely &amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="792.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Operator meaning &quot;complete fully&quot;...what is that?&#39;" href="792.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/operator-meaning-complete-fully-what-is-that/792" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/operator-meaning-complete-fully-what-is-that/792" />
<meta property="og:title" content="Operator meaning &quot;complete fully&quot;...what is that?" />
<meta name="twitter:title" content="Operator meaning &quot;complete fully&quot;...what is that?" />
<meta property="og:description" content="I&#39;d like something to help notice when an operation did not consume all its input.  Something along the lines of:  &gt;&gt; (completely-consume add 1 2) == 3  &gt;&gt; (completely-consume add 1 2 3) ** Error: ADD did not completely consume args, leftover is [3]  I&#39;ve wanted such a thing for a while, but it&#39;s especially pressing now.  The API is getting more solid, so it&#39;s tempting to use it for doing things like calling from C the &quot;System helpers written in Rebol&quot;... a.k.a. what&#39;s in SYS.  But the existing ..." />
<meta name="twitter:description" content="I&#39;d like something to help notice when an operation did not consume all its input.  Something along the lines of:  &gt;&gt; (completely-consume add 1 2) == 3  &gt;&gt; (completely-consume add 1 2 3) ** Error: ADD did not completely consume args, leftover is [3]  I&#39;ve wanted such a thing for a while, but it&#39;s especially pressing now.  The API is getting more solid, so it&#39;s tempting to use it for doing things like calling from C the &quot;System helpers written in Rebol&quot;... a.k.a. what&#39;s in SYS.  But the existing ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Naming" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2018-08-22T04:04:54+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="792.html">Operator meaning &quot;complete fully&quot;...what is that?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Operator meaning &quot;complete fully&quot;...what is that?'>
      <link itemprop='url' href='792.html'>
      <meta itemprop='datePublished' content='2018-08-22T04:04:54Z'>
        <meta itemprop='articleSection' content='Naming'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="792.html">


              <span class="crawler-post-infos">
                  <time  datetime='2018-08-22T04:04:54Z' class='post-time'>
                    August 22, 2018,  4:04am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-03T22:00:48Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I'd like something to help notice when an operation did not consume all its input.</p>
<p>Something along the lines of:</p>
<pre><code>&gt;&gt; (completely-consume add 1 2)
== 3

&gt;&gt; (completely-consume add 1 2 3)
** Error: ADD did not completely consume args, leftover is [3]
</code></pre>
<p>I've wanted such a thing for a while, but it's especially pressing now.  The API is getting more solid, so it's tempting to use it for doing things like calling from C the "System helpers written in Rebol"... a.k.a. what's in SYS.  But the existing mechanisms for doing that have a "no leftovers" flag, something like:</p>
<pre><code>DECLARE_LOCAL (result);
bool leftovers = false;
if (Apply_Throws(result, add_function, leftovers, arg1, arg2, arg3, rebEND))
    fail (Error_No_Catch_For_Throw(result));
</code></pre>
<p>I don't want such flags in the API.  It seems useful to have a generic operator.</p>
<p>In the past, I've tried "double-bar", because it would allow for a more forceful kind of separation than just a single bar.  Unfortunately, it has to be prefix...as there's no way at present in usermode to know the left hand side completed exactly one expression:</p>
<pre><code>&gt;&gt; (x: add 1 2 "foo" | print x)
3

&gt;&gt; (|| x: add 1 2 "foo" || print x)
** Error: extra stuff (["foo"])
</code></pre>
<p>I'm wondering if the idea of <code>||</code> is sound, but just needs a new piece of machinery.  Because this seems superior for the intent:</p>
<pre><code>&gt;&gt; (x: add 1 2 "foo" || print x)
** Error: extra stuff ["foo"]

&gt;&gt; (x: add 1 2 || "foo" print x)
** Error: extra stuff [print x]

&gt;&gt; (x: add 1 2 || print x "foo")
** Error: extra stuff ["foo"]

&gt;&gt; (x: add 1 2 || print x)
3
</code></pre>
<p>So what do people think?  Better ideas for the prefix operator?  Time for a new parameter marker, e.g. <code>&lt;solo&gt;</code>?</p>
<p>This <em>might</em> be something that could be a use for the debated "variadic left infix".  Maybe it could be possible to take a value from the left, and then tell you if you were at the "tail" or not...while not actually being able to give you more than one value?  They're lost to history, but it wouldn't be hard to keep just a bit's worth of memory for this purpose.</p>
<p>As an API client it would be up to you to put it at the beginning or the end (or both?)</p>
<pre><code>Value *v = rebValue("||", whatever, ..., ...);

Value *v = rebValue("whatever", ..., ..., "||");
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../revisiting-a-maybe-not-so-weird-old-idea-as-identity/2165/2.html">Revisiting a Maybe-Not-So-Weird Old Idea: &lt;- as IDENTITY</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-30T19:44:06Z' class='post-time'>
                    August 30, 2024,  7:44pm
                  </time>
                  <meta itemprop='dateModified' content='2024-08-30T23:40:06Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I'd like something to help notice when an operation did not consume all its input.</p>
<p>Something along the lines of:</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">&gt;&gt; (completely-consume add 1 2)
== 3

&gt;&gt; (completely-consume add 1 2 3)
** Error: ADD did not completely consume args, leftover is [3]
</code></pre>
</blockquote>
</aside>
<p>We have this thing now.  <strong><a href="../apply-ii-the-revenge/1834.html">It's called APPLY</a>.</strong></p>
<pre><code>&gt;&gt; apply :add [10 20 1020]
** Error: Too many values in APPLY argument block (see /RELAX)
</code></pre>
<p>You have to explicitly tell it to /RELAX if you want it to ignore extra parameters.</p>
<pre><code>&gt;&gt; apply/relax :add [10 20 1020]
== 30
</code></pre>
<p>With the infix quoting version, you can do this succinctly.</p>
<pre><code>&gt;&gt; add // [10 20 1020]
** Error: Too many values in APPLY argument block (see /RELAX)
</code></pre>
<p><img src="../../images/emoji/twitter/+1.png%3Fv=14" title=":+1:" class="emoji only-emoji" alt=":+1:" loading="lazy" width="20" height="20"></p>
<h2><a name="p-7476-stupid-idea-of-the-moment-1" class="anchor" href="792.html#p-7476-stupid-idea-of-the-moment-1"></a>Stupid (?) Idea of the Moment</h2>
<p>Make triple slash the relaxed form of APPLY</p>
<pre><code>&gt;&gt; add /// [10 20 1020]
== 30
</code></pre>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="792">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>As an API client it would be up to you to put it at the beginning or the end (or both?)</p>
<pre data-code-wrap="plaintext"><code class="lang-plaintext">Value *v = rebValue("||", whatever, ..., ...);

Value *v = rebValue("whatever", ..., ..., "||");
</code></pre>
</blockquote>
</aside>
<p>We don't technically need <strong><code>rebApply()</code></strong> and <strong><code>rebApplyRelax()</code></strong> (or <code>rebApplyRelaxed()</code>?) in the API, but it could save on constructing a block for the apply parameters and give a little bit more efficiency to not need to look up the APPLY operator.</p>
<pre><code> rebValue("apply", some_func, "[", arg1, arg2, arg3, "]");

 rebApply(some_func, arg1, arg2, arg3);
</code></pre>
<p>It's probably worth it--we'll be needing all the performance tricks we can get.</p>
<p>We could soft quote the first slot so you could use WORD! or TUPLE! or CHAIN! or PATH! there.</p>
<pre><code> rebApply("lib/append:dup", arg1, arg2, arg3);
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
