<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Why We Allow Isotope Assignments (e.g. variable: ~unset~) - Datatypes - AltRebol</title>
    <meta name="description" content="&amp;quot;UNSET!&amp;quot; values were extremely ornery in historical Rebol and Red.  You couldn&amp;#39;t assign them to variables: 
rebol2&amp;gt;&amp;gt; x: print &amp;quot;message&amp;quot;
message
** Script Error: x needs a value

red&amp;gt;&amp;gt; x: print &amp;quot;message&amp;quot;
message
*** Scrip&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="index.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_cdfbc200d3f5311dbee0f69ae668cfc42cfc8cb7.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why We Allow Isotope Assignments (e.g. variable: ~unset~)&#39;" href="../../why-we-allow-isotope-assignments-e-g-variable-unset/1206.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/why-we-allow-isotope-assignments-e-g-variable-unset/1206" />
<meta name="twitter:url" content="https://forum.rebol.info/t/why-we-allow-isotope-assignments-e-g-variable-unset/1206" />
<meta property="og:title" content="Why We Allow Isotope Assignments (e.g. variable: ~unset~)" />
<meta name="twitter:title" content="Why We Allow Isotope Assignments (e.g. variable: ~unset~)" />
<meta property="og:description" content="&quot;UNSET!&quot; values were extremely ornery in historical Rebol and Red.  You couldn&#39;t assign them to variables:  rebol2&gt;&gt; x: print &quot;message&quot; message ** Script Error: x needs a value  red&gt;&gt; x: print &quot;message&quot; message *** Script Error: x: needs a value  In Rebol2 and R3-Alpha you couldn&#39;t test them for conditional truth or falsehood, either:  rebol2&gt;&gt; if print &quot;message&quot; [1 + 2] message ** Script Error: if is missing its condition argument  But Red made the bizarre decision to say that &quot;UNSET!&quot; was trut..." />
<meta name="twitter:description" content="&quot;UNSET!&quot; values were extremely ornery in historical Rebol and Red.  You couldn&#39;t assign them to variables:  rebol2&gt;&gt; x: print &quot;message&quot; message ** Script Error: x needs a value  red&gt;&gt; x: print &quot;message&quot; message *** Script Error: x: needs a value  In Rebol2 and R3-Alpha you couldn&#39;t test them for conditional truth or falsehood, either:  rebol2&gt;&gt; if print &quot;message&quot; [1 + 2] message ** Script Error: if is missing its condition argument  But Red made the bizarre decision to say that &quot;UNSET!&quot; was trut..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />
<meta property="article:published_time" content="2019-09-14T23:06:47+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="index.html">Why We Allow Isotope Assignments (e.g. variable: ~unset~)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../../c/development/datatypes.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="index.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-09-14T23:06:47Z'>
              <time itemprop='dateModified' datetime='2022-05-18T08:14:11Z' class='post-time'>
                May 18, 2022,  8:14am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>"UNSET!" values were extremely ornery in historical Rebol and Red.  You couldn't assign them to variables:</p>
<pre><code>rebol2&gt;&gt; x: print "message"
message
** Script Error: x needs a value

red&gt;&gt; x: print "message"
message
*** Script Error: x: needs a value
</code></pre>
<p>In Rebol2 and R3-Alpha you couldn't test them for conditional truth or falsehood, either:</p>
<pre><code>rebol2&gt;&gt; if print "message" [1 + 2]
message
** Script Error: if is missing its condition argument
</code></pre>
<p>But Red made the bizarre decision to say that "UNSET!" was truthy:</p>
<pre><code>&gt;&gt; if print "message" [1 + 2]
message
== 3
</code></pre>
<p><strong>Isotopes in Ren-C are a far more sophisticated story than UNSET!, and triggering errors in conditional slots is their raison d'etre.</strong>  They guide you to finding mistakes in your reasoning:</p>
<pre><code>&gt;&gt; value: false

&gt;&gt; match [integer! logic!] value
== ~false~  ; isotope

&gt;&gt; if match [integer! logic!] value [print "You probably want this to print!"]
** Error: ~false~ isotope is not conditionally true or false, see DID and DIDN'T

&gt;&gt; did match [integer! logic!] value
== #[true]  ; DID is isotope tolerant, and checks against pure NULL only

&gt;&gt; if did match [integer! logic!] value [print "Isotopes saved the day!"]
Isotopes saved the day!
</code></pre>
<p>So keeping that "ornery" behavior is important.  <strong>But also important is <em>not</em> being ornery about assignment of isotopes via SET-WORD!.</strong></p>
<p>It has applications everywhere...<a href="../../generic-quoting-makes-headway-on-make-object/997.html">like in the round-tripping of OBJECT!s</a>.</p>
<pre><code>&gt;&gt; first [~unset~]
== ~unset~  ; ordinary BAD-WORD! (can appear in blocks, etc.)

&gt;&gt; ~unset~
== ~unset~  ; isotope  (plain BAD-WORD! under evaluation becomes isotope)

&gt;&gt; make object! [u: ~unset~, bw: first [~unset~]]
== make object! [
     u: ~unset~
     bw: '~unset~
] 
; ^-- running this MAKE OBJECT! gets you back the isotope and BAD-WORD! correctly
</code></pre>
<p>And as the MATCH example above shows, isotopes aren't really synonymous with errors.  The falsey isotopes decay under variable assignments, so you don't get ornery effects on fetching them later via WORD!.</p>
<pre><code>&gt;&gt; x: match [logic! integer!] false
== ~false~  ; isotope

&gt;&gt; x
== false
</code></pre>
<h2>FWIW: No One Spoke Up For Ornery UNSET! Assignments</h2>
<p>I put out the question about the experience of blocked UNSET! assignment in historical Rebol:</p>
<blockquote>
<p><strong>"How often has this <em>actually helped anyone</em> vs. just being a PITA?"</strong></p>
</blockquote>
<p>I wouldn't be surprised if it helped catch <em>some</em> mistake, <em>somewhere</em>.  But my memories of it doing so are few and far between, while my memories of having to use SET/ANY when I didn't want to are uncountably large.</p>
<p>What did come to light in the survey was that allowing UNSET! fetches via GET-WORD! had caused tremendous problems, because an innocent request for <strong>:varaiable</strong> to try and not invoke a function would quietly give back an UNSET! for the misspelled <code>variable</code>.</p>
<p>So Ren-C requires you to use GET/ANY for isotopes, and GET-WORD!s will error--this has been a beneficial change.</p>
<h2>Savvy Programming Can Give You Much Better Checks</h2>
<p>The supposed purpose of catching UNSET! assignments back in the day was to improve error locality.  It keeps you from saying <strong>x: print "message"</strong> and later down the line are surprised that X contains an ornery value, having to track down where it came from.</p>
<p>But conscientious programmers should be trying things like:</p>
<pre><code> &gt;&gt; x: ensure integer! add 1 2
 == 3
</code></pre>
<p>That's even stronger, and if you said <strong>x: ensure integer! print "Hello"</strong> you'd catch the problem if you were so concerned.</p>
        </div>

        <meta itemprop='headline' content='Why We Allow Isotope Assignments (e.g. variable: ~unset~)'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../../the-r3c-branch-chriss-rebol-or-rebol-3-conservative/1284.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/the-r3c-branch-chriss-rebol-or-rebol-3-conservative/1284'>
                      <span itemprop='name'>The R3C Branch (&quot;Chris&#39;s Rebol&quot; or &quot;Rebol 3 Conservative&quot;)</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="index.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-09-30T14:49:19Z'>
              <time itemprop='dateModified' datetime='2022-05-18T08:17:03Z' class='post-time'>
                May 18, 2022,  8:17am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1206">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>I'm sure it's probably helped catch some mistake somewhere.</p>
</blockquote>
</aside>
<p>In the interest of a competitive analysis with JavaScript, let's look at what they do:</p>
<pre><code>&gt; function nothing() { return; }

&gt; let x = nothing()
&lt;- undefined

&gt; if (x) { console.log("it doesn't error even on dereference"); }
&lt;- undefined

&gt; if (!x) { console.log("because it's falsey"); }
because it's falsey
&lt;- undefined
</code></pre>
<p>That's even more forgiving.</p>
<p>But these simple things are not remotely in the same league as Ren-C's isotope design.</p>
        </div>

        <meta itemprop='headline' content='Why We Allow Isotope Assignments (e.g. variable: ~unset~)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
              split this topic 
          </span>

          <link itemprop="mainEntityOfPage" href="index.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2022-05-18T07:12:04Z'>
              <time itemprop='dateModified' datetime='2022-05-18T07:12:04Z' class='post-time'>
                May 18, 2022,  7:12am
              </time>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>2 posts were split to a new topic: <a href="../../why-isnt-print-invisible/1824.html">Why Isn't PRINT Invisible?</a></p>
        </div>

        <meta itemprop='headline' content='Why We Allow Isotope Assignments (e.g. variable: ~unset~)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
