<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Removing ISSUE! from the ANY-WORD! category - #3 by hostilefork - Datatypes - AltRebol</title>
    <meta name="description" content="A controversial move in R3-Alpha was changing ISSUE! from being a versatile string type to a more strict WORD!. 


Not everyone was a fan.  And it created several porting hassles, plus raised questions about if #123 was &amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../1106.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Removing ISSUE! from the ANY-WORD! category&#39;" href="../1106.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/removing-issue-from-the-any-word-category/1106/3" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/removing-issue-from-the-any-word-category/1106/3" />
<meta property="og:title" content="Removing ISSUE! from the ANY-WORD! category" />
<meta name="twitter:title" content="Removing ISSUE! from the ANY-WORD! category" />
<meta property="og:description" content="As with many other things right now...a bunch of gears in my head calculated across all the things we&#39;ve seen and came up with a potential option that would split the difference and offer new and interesting possibilities...  Unify CHAR! and ISSUE! into non-series UTF-8 data type I don&#39;t know what the best name for this would be.  UTF-8!  ?   TOKEN!  ?  But whatever you called it...  This would mean that #a would fit into the bytes directly in a cell... as would short strings like #1234567.  (T..." />
<meta name="twitter:description" content="As with many other things right now...a bunch of gears in my head calculated across all the things we&#39;ve seen and came up with a potential option that would split the difference and offer new and interesting possibilities...  Unify CHAR! and ISSUE! into non-series UTF-8 data type I don&#39;t know what the best name for this would be.  UTF-8!  ?   TOKEN!  ?  But whatever you called it...  This would mean that #a would fit into the bytes directly in a cell... as would short strings like #1234567.  (T..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Datatypes" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2020-09-25T04:24:37+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../1106.html">Removing ISSUE! from the ANY-WORD! category</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/datatypes/45" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Removing ISSUE! from the ANY-WORD! category'>
      <link itemprop='url' href='../1106.html'>
      <meta itemprop='datePublished' content='2019-03-08T10:22:31Z'>
        <meta itemprop='articleSection' content='Datatypes'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='A controversial move in R3-Alpha was changing ISSUE! from being a versatile string type to a more strict WORD!. 


Not everyone was a fan.  And it created several porting hassles, plus raised questions about if #123 was &amp;hellip;'>

          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2020-09-25T04:24:37Z' class='post-time'>
                    September 25, 2020,  4:24am
                  </time>
                  <meta itemprop='dateModified' content='2020-09-27T06:16:03Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="1" data-topic="1106">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>A controversial move in R3-Alpha was changing ISSUE! from being a versatile string type to a more strict WORD!.<br>
...<br>
Not everyone was a fan. And it created several porting hassles, plus raised questions about if <span class="hashtag-raw">#123</span> was a legal ISSUE!, why wouldn't you be able to convert it to a WORD!?</p>
</blockquote>
</aside>
<p>As with many other things right now...a bunch of gears in my head calculated across all the things we've seen and came up with a potential option that would split the difference and offer new and interesting possibilities...</p>
<h2><a name="p-4041-unify-char-and-issue-into-non-series-utf-8-data-type-1" class="anchor" href="3.html#p-4041-unify-char-and-issue-into-non-series-utf-8-data-type-1"></a>Unify CHAR! and ISSUE! into <em>non-series</em> UTF-8 data type</h2>
<p>I don't know what the best name for this would be.  UTF-8!  ?   TOKEN!  ?  But whatever you called it...</p>
<p>This would mean that <strong><span class="hashtag-raw">#a</span></strong> would fit into the bytes directly in a cell... as would short strings like <span class="hashtag-raw">#1234567</span>.  (There's 8 bytes of payload for UTF-8 on 32-bit platforms, in addition to enough space for the unicode codepoint of the first character.)  You have 16 bytes on 64-bit platforms.  If you're outside the space restrictions, an immutable series node could be used.</p>
<p>When I say it's a non-series, that would mean that it is immutable and wouldn't break down into any further character components.  So like ANY-WORD!, if you wanted to know its length or pick characters out of it, you would have to alias it as a TEXT! first.  That provides the necessary atomicity, because you don't want this:</p>
<pre><code>&gt;&gt; ch: pick "abc" 2
== #b  ; the new idea

&gt;&gt; pick ch 1
== #b  ; !!! This would be bad!
</code></pre>
<p>It's not just about leading to infinite loops, there's a sort of cognitive trap (that <span class="mention">@earl</span> always warned against)...when you break a composite into single unit composites of itself...without acknowledging that "something changed".  It's the reason why you don't want <strong>first #{1020}</strong> to be <strong>#{10}</strong>.</p>
<h2><a name="p-4041-any-downsides-of-atomic-immutability-have-been-coped-with-2" class="anchor" href="3.html#p-4041-any-downsides-of-atomic-immutability-have-been-coped-with-2"></a>Any downsides of atomic immutability have been coped with</h2>
<p>With following Rebol2 usually a big drive for Red, it might surprise you that they went with the R3-Alpha change:</p>
<pre><code>red&gt;&gt; length? #123
** Script Error: length? does not allow issue for its series argument
</code></pre>
<p>I explain the reasons why having it be an ANY-WORD! is a timebomb, and that numbers are useful... like #(555)-207-6382 or <span class="hashtag-raw">#555</span>.251.8517 being phone numbers.  Or <span class="hashtag-raw">#0080FF</span> as a good representation for an RGB color (better than 0.128.255 for most purposes).</p>
<h2><a name="p-4041-this-allows-nicer-looking-characters-3" class="anchor" href="3.html#p-4041-this-allows-nicer-looking-characters-3"></a>This allows nicer-looking characters</h2>
<p>I've always thought <strong>#"a"</strong> was ugly, and endorsed the use of TEXT! in PARSE...even though it was slower.  Because the extra decoration was too noisy...</p>
<pre><code>&gt;&gt; parse "abc" [#"a" #"b" #"c"]   ; yuck!
== []

&gt;&gt; parse "abc" ["a" "b" "c"]  ; slower, but prettier
== []
</code></pre>
<p>But with most characters not requiring quotes to escape, it becomes much less of a problem to use the "right" way:</p>
<pre><code>&gt;&gt; parse "abc" [#a #b #c]   ; not bad...actually, maybe better than text!
== []
</code></pre>
<p>You'd be allowed to write it with the quotes or without, so it could be compatible.</p>
<h2><a name="p-4041-case-sensitivity-makes-sense-for-issue-like-token-4" class="anchor" href="3.html#p-4041-case-sensitivity-makes-sense-for-issue-like-token-4"></a>Case-sensitivity makes sense for "issue-like" TOKEN!</h2>
<p>With a CHAR! and ISSUE! unification, it would be fairly obvious to have the case-sensitive comparison apply to longer strings.  We could do that today, but it's more of a slam dunk if they're the same type:</p>
<pre><code>&gt;&gt; parse "aBc" [#aB #c]
== []

&gt;&gt; parse "aBc" [#Ab #c]
; null
</code></pre>
<h2><a name="p-4041-fixes-api-and-command-line-escaping-problems-5" class="anchor" href="3.html#p-4041-fixes-api-and-command-line-escaping-problems-5"></a>Fixes API and command line escaping problems</h2>
<p>I've faced situations where I'm passing strings in places where quotes are the only option...like C code or the bash shell.  And currently, CHAR! has no representation that works without the ugly backslashing:</p>
<pre><code>REBVAL *ch = rebValue("pick [#\"a\" #\"b\" #\"c"] 2");

r3 --do "pick [#\"a\" #\"b\" #\"c"] 2"
</code></pre>
<p><em>It's very annoying</em>, and it limits the appeal of the character type.  But this would tidy up:</p>
<pre><code>REBVAL *ch = rebValue("pick [#a #b #c] 2");

r3 --do "pick [#a #b #c] 2"
</code></pre>
<p>Additionally, I've proposed that BINARY! be moved to using &amp; so that it can come in <code>&amp;FFEE</code> and <code>&amp;{FFEE}</code> and <code>&amp;"FFEE"</code> forms.  If that were done, then you could use escaped issue-like TOKEN!s in such cases as well:</p>
<pre><code>REBVAL *token = rebValue("pick [#{ab cd} #{ef gh}] 2");
</code></pre>
<p>(You'll need to support spaces in this datatype, else you wouldn't be able to get the "CHAR!" for space covered... #" " ... so this would offer #{ } as an alternate form.)</p>
<h2><a name="p-4041-we-can-replace-two-not-great-names-6" class="anchor" href="3.html#p-4041-we-can-replace-two-not-great-names-6"></a>We can replace two not great names</h2>
<p>Although CHAR! said what it was, it breaks the desired "non-abbreviations"...and fixing it would require the too-long CHARACTER!.</p>
<p>ISSUE! wasn't very descriptive, it was just a kind of arbitrary string with a pound in front of it.  But if it's packed and immutable, then we might get some kind of meaning about fitness for purpose out of the name TOKEN!.  I duno.  Whatever it's called, it feels like something could beat CHAR! and ISSUE! and combine them...</p>
<h2><a name="p-4041-theres-precedent-for-not-having-the-atomic-type-range-limited-7" class="anchor" href="3.html#p-4041-theres-precedent-for-not-having-the-atomic-type-range-limited-7"></a>There's precedent for not having the atomic type range-limited</h2>
<p>There's no BYTE! datatype.  So when you ask for an item out of a BINARY! you get a value that is "indivisible" (e.g. not a single-element BINARY!).  But the type itself ranges over more states than it's picking from:</p>
<pre><code>r3-alpha&gt;&gt; bin: #{0304}
== #{0304}

r3-alpha&gt;&gt; pick bin 1
== 3

&gt;&gt; append bin 1020
** Script error: value out of range: 1020
</code></pre>
<p>The world didn't end because of the lack of a BYTE! type.  Really, since it's just a constraint on an existing type, it's not clear that it needs its own representation in the data format.</p>
<p>I think we can look at CHAR! the same way.  How many functions are there out there that want to do one thing with a CHAR! and a different thing with an ISSUE! ?</p>
<h2><a name="p-4041-changing-binary-to-would-still-load-historical-binary-8" class="anchor" href="3.html#p-4041-changing-binary-to-would-still-load-historical-binary-8"></a>Changing BINARY! to &amp; would still load historical BINARY!</h2>
<p>It's not technically necessary that #{...} become one of the three token representations (<span class="hashtag-raw">#x</span> #"x" #{x}).  But it is made especially coherent with this proposal, and the concept has been on my mind for some time.</p>
<p>I've pointed out that if the TOKEN! (issue) loading rules permitted multi-line data, then you could still LOAD any historical data...you'd just have to look for cases that matched BINARY! and convert appropriately.  All-hex issues would become BINARY! too, so you'd have to discern that by context.  Or the system would have to keep track of some kind of "loaded with {} syntax" bit.</p>
<p>Anyway, point being this is a less major change than what was thought about of using &amp; for characters.  I decided that never really looked good when the &amp; abutted characters...it's too squiggly, so you need at least <strong>&amp;"a"</strong> instead of <strong>&amp;a</strong>.  But # doesn't have that problem... <strong><span class="hashtag-raw">#a</span></strong> looks fairly nice.</p>
<p>My HTML character codes idea thus would probably just have to fold into the historical escaping, as <strong>#"^(AElig)"</strong>.  Because you would want <strong>append "text" <span class="hashtag-raw">#AElig</span></strong> to give <strong>"textAElig"</strong>, not interpret the characters directly.</p>
<h2><a name="p-4041-it-frees-another-internal-datatype-number-9" class="anchor" href="3.html#p-4041-it-frees-another-internal-datatype-number-9"></a>It frees another internal datatype number</h2>
<p>Cell bits are limited, and every superfluous usage of them that can be eliminated opens doors to new types, or optimizations that use cell state as a trick.</p>
<h2><a name="p-4041-im-feeling-pretty-stoked-about-this-10" class="anchor" href="3.html#p-4041-im-feeling-pretty-stoked-about-this-10"></a>I'm feeling pretty stoked about this!</h2>
<p>Of course, whenever I come up with something I type it up as a preface to writing it, to see if I can talk myself out of it before going and wrangling the whole codebase.  So I may hit some problem.  But I'm not seeing it yet....</p>
<p>Most code could probably get away with CHAR? being a test for single-character tokens, and ISSUE? for greater than 1.  Redbol module compatibility could be helped by that idea I mention of preserving whether there were quotes at load-time...if that stayed glued to the value, it might be enough.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../the-real-story-about-user-and-lib-contexts/764.html">The Real Story about User and Lib Contexts</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../1106.html#post_3">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
