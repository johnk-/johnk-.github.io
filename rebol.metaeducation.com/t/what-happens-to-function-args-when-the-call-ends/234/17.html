<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>What happens to function args when the call ends? - #17 by hostilefork - Binding - AltRebol</title>
    <meta name="description" content="R3-Alpha&amp;#39;s CLOSURE provided two things.  One was a unique identity for the words of a function&amp;#39;s arguments and locals for each recursion.  This is what I&amp;#39;ve called &amp;quot;specific binding&amp;quot; and now comes &amp;quot;for free&amp;quot; in all funct&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../../what-happens-to-function-arguments-and-locals-when-the-call-ends/234.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;What happens to function args when the call ends?&#39;" href="../234.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/what-happens-to-function-args-when-the-call-ends/234/17" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/what-happens-to-function-args-when-the-call-ends/234/17" />
<meta property="og:title" content="What happens to function args when the call ends?" />
<meta name="twitter:title" content="What happens to function args when the call ends?" />
<meta property="og:description" content="What happens to function args when the call ends?  For many years, it&#39;s been accepted that function arguments outlive the function.  I think that&#39;s right.  The bias should clearly be to let them live as long as references exist... and you have to ask for them to be thrown away, e.g. FUNCTION:LITE.  Perhaps those who are biased to efficiency might define FUNC as the LITE version.  Or maybe even that could be the default for FUNC?  So long as you got a good error accessing dead variables telling ..." />
<meta name="twitter:description" content="What happens to function args when the call ends?  For many years, it&#39;s been accepted that function arguments outlive the function.  I think that&#39;s right.  The bias should clearly be to let them live as long as references exist... and you have to ask for them to be thrown away, e.g. FUNCTION:LITE.  Perhaps those who are biased to efficiency might define FUNC as the LITE version.  Or maybe even that could be the default for FUNC?  So long as you got a good error accessing dead variables telling ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:section" content="Binding" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="article:published_time" content="2025-06-18T16:41:12+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../../what-happens-to-function-arguments-and-locals-when-the-call-ends/234.html">What happens to function args when the call ends?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/development/binding/49" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Binding</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='What happens to function args when the call ends?'>
      <link itemprop='url' href='../../what-happens-to-function-arguments-and-locals-when-the-call-ends/234.html'>
      <meta itemprop='datePublished' content='2017-07-31T21:38:40Z'>
        <meta itemprop='articleSection' content='Binding'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='hostilefork'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'>
          </span>
        <meta itemprop='text' content='R3-Alpha&amp;#39;s CLOSURE provided two things.  One was a unique identity for the words of a function&amp;#39;s arguments and locals for each recursion.  This is what I&amp;#39;ve called &amp;quot;specific binding&amp;quot; and now comes &amp;quot;for free&amp;quot; in all funct&amp;hellip;'>

          <div id='post_17' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-06-18T16:41:12Z' class='post-time'>
                    June 18, 2025,  4:41pm
                  </time>
                  <meta itemprop='dateModified' content='2025-06-18T16:49:31Z'>
              <span itemprop='position'>17</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<h3>What happens to function args when the call ends?</h3>
</blockquote>
<p>For many years, it's been accepted that function arguments outlive the function.</p>
<p>I think that's right.  The bias should clearly be to let them live as long as references exist... and you have to ask for them to be thrown away, e.g. <strong><code>FUNCTION:LITE</code></strong>.</p>
<p>Perhaps those who are biased to efficiency might define <strong><code>FUNC</code></strong> as the LITE version.  Or maybe even that could be the default for FUNC?  So long as you got a good error accessing dead variables telling you "hey this frame was destroyed because you used FUNC instead of FUNCTION" that might be a good tradeoff.</p>
<h3><a name="p-8442-needing-values-to-outlive-is-actually-kind-of-rare-1" class="anchor" href="17.html#p-8442-needing-values-to-outlive-is-actually-kind-of-rare-1"></a>Needing Values To Outlive Is Actually Kind of Rare</h3>
<p>I broke the feature accidentally, and didn't notice for a bit until I looked into why QUIT had stopped working.  It turns out that QUIT depended on it, because it wraps up a function you pass in that represents your local notion of QUIT (quit*).  That's a parameter to MAKE-QUIT, used by the produced quit function.</p>
<p><strong>But the interesting thing is that the system STILL mostly works without it.</strong>  So I do think we'd likely benefit by finding some way to prune the cases.</p>
<p>FUNC being a lesser-featured version of FUNCTION on this axis feels like it might be the right psychological hack.  It makes the language feel more solid, compared with needing CLOSURE to pick up the slack from a weak FUNCTION.</p>
<h2><a name="p-8442-noticing-when-things-outlive-stack-levels-is-gone-2" class="anchor" href="17.html#p-8442-noticing-when-things-outlive-stack-levels-is-gone-2"></a>"Noticing When Things Outlive Stack Levels" Is Gone</h2>
<aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="234">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/hostilefork/48/421_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Some new mechanics related to Move_Value() are creating possibilities for "automatic closure-i-fication", where stack cells are converted into a heap object at the moment it's noticed that a bound word is "escaping". If none escape, then everything stays on the stack.</p>
</blockquote>
</aside>
<p>These mechanics were wiped out a long time ago.  They were incompatible with generators and other ideas, and very tricky.</p>
<p>And things have gotten even harder to rein in.  Due to how modern binding works, if you write something like:</p>
<pre><code>                            v-- the FRAME! inherits this block's binding
foo: function [msg [text!]] [
   print ["Message is:" msg]
   return [1 2 3]
]
</code></pre>
<p>When that <code>[1 2 3]</code> block was "evaluated", it captured a binding... of the FRAME! and whatever that frame inherited from the body.  So you'd be returning a BLOCK! with a binding that rolls in all of that.</p>
<p>If you want to avoid this, you have to write:</p>
<pre><code>foo: function [msg [text!]] [
   print ["Message is:" msg]
   return '[1 2 3]  ; &lt;-- tick mark needed to dodge binding capture
]
</code></pre>
<p>It's seems a bit sad to have to say <em>"if you don't ugly up your code with tick marks, it won't be as good... so you should quote your data blocks when they're just data"</em>.</p>
<p>BUT on the other hand, I've definitely seen places where that's a helpful cue that your BLOCK! is in an evaluative context.  So it does have some benefits, and I'm warming up to it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                        <a itemprop='url' href="../../should-word-capture-the-whole-binding-environment/2494.html">Should $WORD Capture The Whole Binding Environment?</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../../what-happens-to-function-arguments-and-locals-when-the-call-ends/234.html#post_17">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
