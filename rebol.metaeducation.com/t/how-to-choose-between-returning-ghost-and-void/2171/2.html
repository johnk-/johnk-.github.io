<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How To Choose Between Returning GHOST and VOID? - #2 by hostilefork - Questions - AltRebol</title>
    <meta name="description" content="Ah-ha… I’d completely missed this use of void, as a return value. 
Though this does now raise the question of whether a function should return VOID or GHOST. Both seem to vaporise in lists, after all. I guess it depends&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.0.beta6-dev - https://github.com/discourse/discourse version 623cde985b21c2ed812b83d3ea94f69231613718">
<link rel="icon" type="image/png" href="../../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="../2171.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="AltRebol Search">

    <link href="https://rebol.metaeducation.com/stylesheets/color_definitions_base__2_ceb61c279a74dfa3cef6a62f7784988102abec82.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="https://rebol.metaeducation.com/stylesheets/common_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="https://rebol.metaeducation.com/stylesheets/desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="https://rebol.metaeducation.com/stylesheets/chat_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-details_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-lazy-videos_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-local-dates_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-narrative-bot_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="https://rebol.metaeducation.com/stylesheets/discourse-presence_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="https://rebol.metaeducation.com/stylesheets/docker_manager_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="https://rebol.metaeducation.com/stylesheets/footnote_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="https://rebol.metaeducation.com/stylesheets/spoiler-alert_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="spoiler-alert"  />
    <link href="https://rebol.metaeducation.com/stylesheets/chat_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="chat_desktop"  />
    <link href="https://rebol.metaeducation.com/stylesheets/poll_desktop_e0a75505da9bc96953dd62a4aad773a25cca0f8e.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://rebol.metaeducation.com/stylesheets/common_theme_2_57fe803ed5a41e9f7d94086afaf66a1aab57d9ae.css?__ws=rebol.metaeducation.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="default"/>
    

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;How To Choose Between Returning GHOST and VOID?&#39;" href="../2171.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://rebol.metaeducation.com/t/how-to-choose-between-returning-ghost-and-void/2171/2" />
<meta name="twitter:url" content="https://rebol.metaeducation.com/t/how-to-choose-between-returning-ghost-and-void/2171/2" />
<meta property="og:title" content="How To Choose Between Returning GHOST and VOID?" />
<meta name="twitter:title" content="How To Choose Between Returning GHOST and VOID?" />
<meta property="og:description" content="There&#39;s some touchy-feely choices made in the constructs regarding voids and ghosts.  I think it&#39;s important that they&#39;re not truthy or falsey.  &gt;&gt; if void [print &quot;This is important.&quot;] ** Script Error: IF doesn&#39;t accept VOID for its CONDITION argument  &gt;&gt; if ghost [print &quot;This too.&quot;] ** Script Error: IF is missing its CONDITION argument  However, ALL is kind of like a chain of IF statements testing for logic.  So given the existence of GHOST, should it demand GHOST for opting out... and error o..." />
<meta name="twitter:description" content="There&#39;s some touchy-feely choices made in the constructs regarding voids and ghosts.  I think it&#39;s important that they&#39;re not truthy or falsey.  &gt;&gt; if void [print &quot;This is important.&quot;] ** Script Error: IF doesn&#39;t accept VOID for its CONDITION argument  &gt;&gt; if ghost [print &quot;This too.&quot;] ** Script Error: IF is missing its CONDITION argument  However, ALL is kind of like a chain of IF statements testing for logic.  So given the existence of GHOST, should it demand GHOST for opting out... and error o..." />
<meta property="og:article:section" content="Usage" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="og:article:section" content="Questions" />
<meta property="og:article:section:color" content="3AB54A" />
<meta property="article:published_time" content="2024-03-09T09:41:57+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    
    <header>
  <a href="https://rebol.metaeducation.com/">AltRebol</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="../2171.html">How To Choose Between Returning GHOST and VOID?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Usage</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://rebol.metaeducation.com/c/usage/first-steps/10" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #3AB54A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Questions</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='How To Choose Between Returning GHOST and VOID?'>
      <link itemprop='url' href='../2171.html'>
      <meta itemprop='datePublished' content='2024-03-09T02:30:26Z'>
        <meta itemprop='articleSection' content='Questions'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
        <meta itemprop='name' content='AltRebol'>
          <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
            <meta itemprop='url' content='https://rebol.metaeducation.com/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
          </div>
      </div>

          <span itemprop='author' itemscope itemtype="http://schema.org/Person">
            <meta itemprop='name' content='bradrn'>
            <link itemprop='url' rel='nofollow' href='https://rebol.metaeducation.com/u/bradrn'>
          </span>
        <meta itemprop='text' content='Ah-ha… I’d completely missed this use of void, as a return value. 
Though this does now raise the question of whether a function should return VOID or GHOST. Both seem to vaporise in lists, after all. I guess it depends&amp;hellip;'>

          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='https://rebol.metaeducation.com/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-03-09T09:41:57Z' class='post-time'>
                    March 9, 2024,  9:41am
                  </time>
                  <meta itemprop='dateModified' content='2025-05-07T09:30:20Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2171">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Both seem to vaporise in lists, after all.</p>
</blockquote>
</aside>
<p>There's some touchy-feely choices made in the constructs regarding voids and ghosts.</p>
<p>I think it's important that they're not truthy or falsey.</p>
<pre><code>&gt;&gt; if void [print "This is important."]
** Script Error: IF doesn't accept VOID for its CONDITION argument

&gt;&gt; if ghost [print "This too."]
** Script Error: IF is missing its CONDITION argument
</code></pre>
<p>However, ALL is kind of like a chain of IF statements testing for logic.  So given the existence of GHOST, should it demand GHOST for opting out... and error on VOIDs?</p>
<pre><code>&gt;&gt; while [null] [&lt;b&gt;]
== ~[]~  ; anti  (void, never ran loop body)

&gt;&gt; all [if okay [&lt;a&gt;] while [null] [&lt;b&gt;] if okay [&lt;c&gt;]]
** Script Error: Invalid use of void
</code></pre>
<p>If it wasn't willing to erase voids, you'd need to use ELIDE-IF-VOID to erase the voids:</p>
<pre><code>&gt;&gt; all [if okay [&lt;a&gt;] elide-if-void while [null] [&lt;b&gt;] if okay [&lt;c&gt;]]
== &lt;c&gt;
</code></pre>
<p>But I feel like it works out better in practice if ANY and ALL consider void as no vote.  Also, if all the expressions opt out of voting, the ANY or ALL overall is void.</p>
<pre><code>&gt;&gt; any [void, while [null] [&lt;b&gt;], void]
== ~[]~  ; anti
</code></pre>
<p>But other constructs--like CASE--do not erase VOID...only GHOST.  They have a "structure" to them, and it's desirable to not disrupt that structure too easily.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2171">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../../user_avatar/rebol.metaeducation.com/bradrn/48/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Though this does now raise the question of whether a function should return VOID or GHOST.</p>
</blockquote>
</aside>
<p>I think it should be a very rare choice to make things return VOID unconditionally.</p>
<p>And I think it should be an even rarer choice to return GHOST (e.g. because of the damage it can do to things like CASE or SWITCH structure).  And when GHOST is returned it should almost always be unconditional.</p>
<p>GHOST is nice for debugging statements, because you can throw them in without disrupting the surrounding code</p>
<pre><code>&gt;&gt; y: 10 + do [x: 1 + 2, dump x]
x: 3
== 13
</code></pre>
<p>Because of this, there's been some pressure to say that PRINT return GHOST.  <a href="../../why-doesnt-print-return-void-or-vaporize-via-nihil/1466.html">So far, I've rejected that</a>.</p>
<pre><code>append [a b c] print "I think this should error"  ; rules out void
</code></pre>
<p>Also, though people reach for PRINT for debug output, I think it's poor for that.  The fact that it evaluates blocks means I don't like the idea of <strong>print x</strong> taking too many kinds of input, that could one day become a block and surprise you by evaluating.  So it's already a bad generic "debug dump".  And logging with the same thing you use for committed output makes it hard to search for debug code and remove or disable it.</p>
<p>I like there being relatively few GHOST-returning operations, and if you want to erase something use ELIDE.</p>
<p>But ASSERT returns GHOST and that's neat in things like CASE or SWITCH for asserting something as true when you've gotten to a certain point:</p>
<pre><code>case:all [  ; ALL -&gt; don't stop on first condition matched
    x &lt; 10 [y: &lt;lesser&gt;]
    x &gt; 10 [y: &lt;greater&gt;]
    assert [(x = 10) or (find [&lt;lesser&gt; &lt;greater&gt;] y)]
    x = 10 [print "You can imagine this kind of thing being useful"]
]
</code></pre>
<p><sub><em>I should go through and replace these with real useful examples someday, but my hope is people get the point abstractly.</em></sub></p>
<p>Anyway, I think it's nice to be able to do that particular thing without saying ELIDE ASSERT.  A few other constructs make the cut of justifying GHOST.</p>
<p>Hopefully it's clear why I don't think there are that many applications for functions that return GHOST conditionally.  ELIDE-IF-VOID is a very niche function that I don't think there are that many legitimate uses for.  If you're going to come up with a construct that does return GHOST conditionally, it should be discernible from the source-level syntax if it's a vanishing or non-vanishing invocation.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
          <span itemprop='name'>
            <a itemprop="url" href="../2171.html#post_2">show post in topic</a>
          </span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://rebol.metaeducation.com/guidelines' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://rebol.metaeducation.com/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
