<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Which antiforms are currently in use?</title>
    <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094</link>
    <description>Since [generalised isotopes](https://forum.rebol.info/t/a-justification-of-generalized-isotopes/1918), every type has an antiform which cannot be stored in blocks. But not every antiform type makes sense — for instance, what could one do with an antiform TIME!? So it seems that, out of necessity, practical uses for antiform values are decided on an ad-hoc basis.

So far, the ones I know about are these:

- Antiform GROUP!s are splices, which are pretty trivial to understand
- Antiform FRAME!s are actions, which run themselves when invoked (though in that case I don’t quite get what non-antiform FRAME!s would be)
- Antiform VOID! is an unset variable, I believe, though the naming seems to have changed so often that I’ve had a lot of trouble following the relevant forum posts
- Antiform COMMA! is… [something](https://forum.rebol.info/t/the-language-worlds-weirdest-comma-mechanic/1387/6)… which acts as an expression barrier somehow (though similarly to FRAME! I have trouble distinguishing this from the non-antiform COMMA!)
- Antiform WORD!s seem to be error states of some description, as well as booleans — except that makes no sense to me, since surely booleans should be storable in blocks‽
- I’ve seen a few references to an antiform NIHIL, but I don’t know what that does nor what a non-antiform NIHIL would be

So… clearly there’s a lot missing. Do we have any comprehensive list of which of the various antiforms are currently in use, and what they are used for? If not, it would be awfully convenient to have one…</description>
    
    <lastBuildDate>Sun, 25 Aug 2024 04:27:24 +0000</lastBuildDate>
    <category>Questions</category>
    <atom:link href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Since <a href="https://forum.rebol.info/t/a-justification-of-generalized-isotopes/1918">generalised isotopes </a>, every type has an antiform which cannot be stored in blocks. But not every antiform type makes sense — for instance, what could one do with an antiform TIME!? So it seems that, out of necessity, practical uses for antiform values are decided on an ad-hoc basis.</p>
</blockquote>
</aside>
<p>I should mention that I definitely do think that I need to put the kibosh on the undefined antiforms (and their corresponding quasiforms), and only allow them once I think there's a good reason to do so.</p>
<p><a href="https://forum.rebol.info/t/antiform-tag-as-triggers-an-error-on-access-type/2170">There's a pretty good argument for antiform TAG!</a>.</p>
<p>But I noticed some types have problems.  e.g. we like being able to put TRASH into paths:</p>
<pre><code>files: [~/something.r /var/www/hostilefork.com/index.html]
</code></pre>
<p>But what happens if you put trash in the first and last position?</p>
<pre><code>~/something/~
</code></pre>
<p>Is that a quasiform PATH!, or is it a path with trash in the first and last slot?</p>
<p>We could disallow trash in paths so as to pave the future for quasi/antiform paths, but, I... kind of think I'd rather have trash (and other quasiforms) legal in paths.</p>
<pre><code>~abc~/foo.~def~
</code></pre>
<p>There's more dialecting value to me with that than anything I can imagine antiform paths being useful for.</p>
<p>So I plan to dial it back so you can only make antiforms of things that have gotten the stamp of approval.  I already don't think that stamp is ever coming for anything that has a SIGIL!.  But I can't say that I'll never think of a use for antiform INTEGER!.  <img src="https://forum.rebol.info/images/emoji/twitter/man_shrugging.png?v=12" title=":man_shrugging:" class="emoji" alt=":man_shrugging:" loading="lazy" width="20" height="20"></p>
<p><em>(I can certainly think of uses for quasiform integer... and I lean to the thought that anything you can make a quasiform of you can make an antiform of.  <strong><code>~1~</code></strong> looks like a clean, useful part.  <strong><code>~@abc~</code></strong> I'm not so impressed by.  Anyway, being conservative allows for the decision to be revisited in the future before people have gone off and done something random with them just because they could.)</em></p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/17">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/17</link>
        <pubDate>Sun, 25 Aug 2024 04:21:51 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-17</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p><em>Note: I've updated this thread to use the term <a href="https://forum.rebol.info/t/quasiforms-stable-unstable-isotopes-simpler-terminology/2005/2">"antiform" instead of "isotope"</a>...and to account for <a href="https://forum.rebol.info/t/what-to-call-lone-tilde/2216/2">NOTHING about to be the antiform of BLANK.</a></em></p>
<aside class="quote no-group" data-username="bradrn" data-post="13" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>As an aid for myself, I made a summary table</p>
</blockquote>
</aside>
<p>Very useful.  Do note that <strong><a href="https://github.com/metaeducation/ren-c/blob/master/src/boot/types.r">the %types.r table</a></strong> encodes the type/antiform information, as well as an annotation to say whether it's unstable or not.  Such as for splice:</p>
<pre><code>group       "array that evaluates expressions as an isolated group"
~splice~    (CELL_FLAG_FIRST_IS_NODE)
            [any-series? any-branch? any-plain-value?]
            [array       *       *]
</code></pre>
<p>And for error:</p>
<pre><code>error       "error context with id, arguments, and stack origin"
~raised~    (CELL_FLAG_FIRST_IS_NODE | CELL_FLAG_SECOND_IS_NODE)
#unstable   [any-inert?]
            [context     +       +]
</code></pre>
<p>As much as possible, I like to use Rebol to do code generation for properties in the C (and also to put in the binary for HELP).  A string describing the antiform would be good to stick in here...</p>
<p>In any case, %types.r is a pretty good example of dialecting!</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/16">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/16</link>
        <pubDate>Sun, 25 Aug 2024 00:45:01 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-16</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <p>As an aid for myself, I made a summary table:</p>
<div class="md-table">
<table>
<thead>
<tr>
<th>Type</th>
<th>Antiform</th>
<th>Usage</th>
<th>Stable?</th>
</tr>
</thead>
<tbody>
<tr>
<td>GROUP!</td>
<td>splice</td>
<td>Multiple values without a surrounding block</td>
<td>✓</td>
</tr>
<tr>
<td>FRAME!</td>
<td>action</td>
<td>Trigger function execution</td>
<td>✓</td>
</tr>
<tr>
<td>WORD!</td>
<td>antiword</td>
<td>Various special constant values</td>
<td>✓</td>
</tr>
<tr>
<td>BLANK!</td>
<td>nothing</td>
<td>Unset variables</td>
<td>✓</td>
</tr>
<tr>
<td>BLOCK!</td>
<td>pack</td>
<td>Multi-returns from a function</td>
<td>✗</td>
</tr>
<tr>
<td>COMMA!</td>
<td>barrier</td>
<td>Discarded by evaluator</td>
<td>✗</td>
</tr>
<tr>
<td>ERROR!</td>
<td>raised</td>
<td>Errors raised from a function call</td>
<td>✗</td>
</tr>
<tr>
<td>OBJECT!</td>
<td>lazy</td>
<td>(to be confirmed)</td>
<td>✗</td>
</tr>
</tbody>
</table>
</div>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/13">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/13</link>
        <pubDate>Tue, 09 Jan 2024 00:31:31 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-13</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>I suppose.  But the more significant way in which they are similar (beyond one evaluating and one not) is just having the richness of choice of more parts that are already scanned and lined up for you.</p>
<p>It would always be possible to use something else to indicate which multi-return is the main return, like a TAG!</p>
<pre><code>&gt;&gt; [a &lt;return&gt; b]: pack [1 2]
== 2
</code></pre>
<p>Even if you were stuck with only words, it could be positional... you could say odd slots aren't variables, but keywords, like either SKIP or RETURN:</p>
<pre><code>&gt;&gt; [skip a return b]: pack [1 2]
== 2
</code></pre>
<p>But having more parts lets you be out-of-band while still carrying a binding, it's succinct.</p>
<pre><code>&gt;&gt; [a @b]: pack [1 2]
== 2
</code></pre>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/12">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/12</link>
        <pubDate>Sun, 07 Jan 2024 15:20:06 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-12</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="10" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>The @ types (THE-XXX!) cover something that isn't covered otherwise... non-evaluation of WORD!, PATH!, TUPLE!, GROUP!... and then there's BLOCK! as well.</p>
</blockquote>
</aside>
<p>Ah, interesting. So, referring back to <a href="https://forum.rebol.info/t/why-have-both-block-and-group/2092/10">our earlier discussion</a> about non-evaluation of BLOCK!… could we say that GROUP! is to BLOCK! like WORD! is to THE-WORD!?</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/11">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/11</link>
        <pubDate>Sun, 07 Jan 2024 14:35:37 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-11</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bradrn" data-post="9" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Ren-C seems to have a huge amount of syntax…</p>
</blockquote>
</aside>
<p>More parts, more dialect options.</p>
<p>The @ types (THE-XXX!)  cover something that isn't covered otherwise... non-evaluation of WORD!, PATH!, TUPLE!, GROUP!... and then there's BLOCK! as well.</p>
<pre><code>&gt;&gt; @word  ; a THE-WORD!
== @word

&gt;&gt; @(gr o up)  ; a THE-GROUP!
== @(gr o up)
</code></pre>
<p>And what they're used for varies.  For instance, in PARSE, it means "match fetched value literally".</p>
<pre><code>&gt;&gt; rule: [repeat 2 "a"]

&gt;&gt; parse ["a" "a" "a" "a"] [some [rule (print "match!")]]
match!
match!
== "a"

&gt;&gt; parse [[repeat 2 "a"] [repeat 2 "a"]] [some [@rule (print "match!")]]
match!
match!
== [repeat 2 "a"]
</code></pre>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/10">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/10</link>
        <pubDate>Sun, 07 Jan 2024 14:08:44 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-10</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="8" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Multi-returns can themselves be antiforms, so the values in the block are META'd by convention.</p>
</blockquote>
</aside>
<p>Ah, I see.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="8" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>The PACK function also accepts <code>@[...]</code> blocks and takes them literally.</p>
</blockquote>
</aside>
<p>Wait, what’s this new thing now? Ren-C seems to have a huge amount of syntax…</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/9">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/9</link>
        <pubDate>Sun, 07 Jan 2024 13:59:37 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-9</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bradrn" data-post="7" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Insofar as I can see, <code>find</code> should return ordinary unquoted values, so why do they need to be unquoted further?</p>
</blockquote>
</aside>
<p>Multi-returns can themselves be antiforms, so the values in the block are META'd by convention.</p>
<pre><code>&gt;&gt; pack [null 1 + 2]
; first in pack of length 2
== ~null~  ; anti

&gt;&gt; meta pack [null 1 + 2]
== ~[~null~ '3]~
</code></pre>
<p>The PACK function also accepts <code>@[...]</code> blocks and takes them literally.</p>
<pre><code>&gt;&gt; meta pack @[null 1 + 2]
== ~['null '1 '+ '2]~
</code></pre>
<p>So you can mix this up with control constructs, having different branches pack things up in different ways.</p>
<pre><code>[op1 op2]: case [
    ... [
        print "This branch uses values as-is"
        pack @[+ -]
    ]
    ... [
       print "This branch needs evaluation"
       pack [operators.1, pick [- /] op-num]
   ]
]
</code></pre>
<p>SET-BLOCK! itself has a few tricks up its sleeve.  "Circling" lets you pick which result is the overall result:</p>
<pre><code>&gt;&gt; [pos @end]: find "abcdefghi" "def"
== "ghi"

&gt;&gt; pos
== "defghi"

&gt;&gt; end
== "ghi"
</code></pre>
<p>You don't need to name variables if you don't want to:</p>
<pre><code>&gt;&gt; [_ @]: find "abcdefghi" "def"
== "ghi"
</code></pre>
<p>Optional values via refinement if you don't want to require them:</p>
<pre><code>&gt;&gt; [a b]: pack [1]
** Error: Not enough values for required multi-return

&gt;&gt; [a /b]: pack [1]
== 1

&gt;&gt; a
== 1

&gt;&gt; b
== ~null~  ; anti

&gt;&gt; [a /b]: 1
== 1

&gt;&gt; b
== ~null~  ; anti
</code></pre>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/8">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/8</link>
        <pubDate>Sun, 07 Jan 2024 13:19:12 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-8</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Ah, you mean SET-BLOCK!, such as <strong><code>[a b]:</code></strong></p>
</blockquote>
</aside>
<p>Gah, yes, I did mean SET-BLOCK!, sorry. (How that typo made it through two posts, I have no idea…)</p>
<aside class="quote no-group" data-username="hostilefork" data-post="6" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>SET-BLOCK! is not unique, in the sense you can write your own operations that use the ^META parameter convention.</p>
</blockquote>
</aside>
<p>OK, this is interesting. I didn’t realise you could do this. And I’m at a level where I can finally understand code like that, which is nice!</p>
<p>The one thing I don’t quite understand is the need for <code>unmeta</code> there. Insofar as I can see, <code>find</code> should return ordinary unquoted values, so why do they need to be unquoted further?</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/7">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/7</link>
        <pubDate>Sun, 07 Jan 2024 12:54:02 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-7</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bradrn" data-post="5" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Sure; what I meant was that an antiform BLOCK! doesn’t decay immediately if it’s to the right of a GET-BLOCK</p>
</blockquote>
</aside>
<p>Ah, you mean SET-BLOCK!, such as <strong><code>[a b]:</code></strong></p>
<p>SET-BLOCK! is not unique, in the sense you can write your own operations that use the ^META parameter convention.</p>
<pre><code>dump-multi: func [^multi [pack?]] [
    for-each item unquasi multi [
        probe unmeta item
    ]
    return nihil
]

&gt;&gt; dump-multi find "abcdefghi" "def"
"defghi"
"ghi"
</code></pre>
<p>But if you don't use ^META <em>and</em> pass a typecheck for packs it will decay to the first value.</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/6">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/6</link>
        <pubDate>Sun, 07 Jan 2024 11:30:50 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-6</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="hostilefork" data-post="4" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<aside class="quote no-group" data-username="bradrn" data-post="3" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Similarly, if <code>f</code> is evaluated and results in an antiform BLOCK!, then that immediately gets intercepted and decays to its first value (unless evaluation was triggered as the argument of a GET-BLOCK!).</p>
</blockquote>
</aside>
<p>Given that block antiforms are unstable, you'll only receive them as the result of a function call (or evaluation of a quasi-block). A GET-WORD! fetching a variable will never yield one in the evaluator.</p>
</blockquote>
</aside>
<p>Sure; what I meant was that an antiform BLOCK! doesn’t decay immediately if it’s to the right of a GET-BLOCK!, but rather ‘holds together’ long enough for its elements to be assigned to each of the constituent variables.</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/5">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/5</link>
        <pubDate>Sun, 07 Jan 2024 11:21:46 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-5</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <p>When antiforms were first conceived, they could not be stored in variables at all.</p>
<p>Hence if you passed an antiform to a function, that function would have to use a ^META parameter convention to receive it, and hold it in an argument as a quasiform.</p>
<p>This had to give way to the concept that some antiforms were "stable" and could be stored in variables (since null, true, and false became antiforms--so did unset variables, and antiform actions to signify the desire to execute through word reference.)  Only the "unstable" antiforms (currently: error, block, comma, object) would go through some decaying process and refuse to be stored as-is in a variable.</p>
<p>Pragmatically, splices became stable so that you don't have to use ^META parameter conventions to pass them to things like APPEND:</p>
<pre><code>&gt;&gt; f: make frame! :append

&gt;&gt; f.value: spread [1 2 3]  ; don't need to say `meta spread [1 2 3]`

&gt;&gt; run f [a b c]  ; variadic RUN, vs arity-1 DO that expects completed frame
== [a b c 1 2 3]
</code></pre>
<aside class="quote no-group" data-username="bradrn" data-post="3" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Similarly, if <code>f</code> is evaluated and results in an antiform BLOCK!, then that immediately gets intercepted and decays to its first value (unless evaluation was triggered as the argument of a GET-BLOCK!).</p>
</blockquote>
</aside>
<p>Given that block antiforms are unstable, you'll only receive them as the result of a function call (or evaluation of a quasi-block).  A GET-WORD! fetching a variable will never yield one in the evaluator.</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/4">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/4</link>
        <pubDate>Sun, 07 Jan 2024 10:37:59 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-4</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>At the moment, not all antiform states have meanings.</p>
</blockquote>
</aside>
<p>Indeed, which is why I asked this question, to know which are the meaningful ones so far!</p>
<aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>(If you find posts with outdated naming let me know--just leave a reply citing the problem and I will fix it up.)</p>
</blockquote>
</aside>
<p>OK, will do! But the issue is not so much outdated naming, as the variety of posts which explain why such-and-such a name is not used… except there are <em>many</em> such unused names by now, so it’s more confusing than anything else.</p>
<aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Non-antiform frames don't trigger execution via word reference, are easier to pass around and manipulate.</p>
</blockquote>
</aside>
<p>That makes sense, thanks! As it happens, I was wondering if it would be possible to include a FRAME! literally in a block, and this mechanism strikes me as an excellent way to incorporate that into the language.</p>
<p>(Also, I didn’t know ANTI existed… I was under the impression that there’s no general way to convert a value to its antiform.)</p>
<aside class="quote no-group" data-username="hostilefork" data-post="2" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Due to this design, enumerating blocks will not accidentally run functions, the way historical Rebol and Red will:</p>
<pre><code class="lang-plaintext">rebol2&gt;&gt; foreach item compose [(:append) (:insert) (:change)] [
             if action? item [print "it's an action"]
         ]
** Script Error: item is missing its value argument
</code></pre>
<p>...since only antiform actions run via word reference, and there are no antiforms allowed in blocks.</p>
</blockquote>
</aside>
<p>Ooh, that’s a <em>nasty</em> edge case… I can see why you’d want to prevent this!</p>
<hr>
<p>At this point, I’m getting the general impression that many antiforms are <strong>things which get intercepted as soon as they’re created</strong> — unlike regular values, which only ‘change state’ when the evaluator processes them.</p>
<p>For instance, if <code>f</code> is a FRAME!, then when <code>f</code> is evaluated, it simply results in the FRAME! value, and that’s it. But if Ren-C evaluates <code>f</code> and gets back an <em>antiform</em> FRAME!, then simply creating that value triggers further evaluation of its arguments and body. (Unless you’ve used a GET-WORD! like <code>:f</code>, which I presume has special handling to prevent that further evaluation.)</p>
<p>Similarly, if <code>f</code> is evaluated and results in an antiform BLOCK!, then that immediately gets intercepted and decays to its first value (unless evaluation was triggered as the argument of a GET-BLOCK!). Or if it’s evaluated and results in an antiform COMMA!, that immediately disappears on creation, whereas a regular COMMA! wouldn’t.</p>
<p>Is this a sensible way of thinking about it, or does this reasoning break down at some point?</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/3">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/3</link>
        <pubDate>Sun, 07 Jan 2024 09:55:22 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-3</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[hostilefork]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>So… clearly there’s a lot missing.</p>
</blockquote>
</aside>
<p>At the moment, not all antiform states have meanings.</p>
<p>It is likely the case that you should be disallowed from creating ones that don't have meanings, to reserve them for future use.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Antiform WORD!s seem to be error states of some description, as well as booleans — except that makes no sense to me, since surely booleans should be storable in blocks‽</p>
</blockquote>
</aside>
<p>(For lack of a better name these are called ANTIWORDs for now.)</p>
<p>I wrote about the boolean design <a href="https://forum.rebol.info/t/why-theres-no-boolean-type-storable-in-a-block/2095">in a separate post</a>.</p>
<p>It may be that these are narrowed to only a small set of choices reserved by the system like ~null~, ~true~, and ~false~... and if you want a generic error-trigger (like a labeled unset variable) that would be something else, like an antiform tag.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Antiform VOID! is an unset variable, I believe, though the naming seems to have changed so often that I’ve had a lot of trouble following the relevant forum posts</p>
</blockquote>
</aside>
<p>Sorry, yes, this has changed a lot.  <a href="https://forum.rebol.info/t/why-shouldnt-void-be-done-with-a-void-word-antiform/2160">Void is now an antiform WORD!</a>.</p>
<p>As of the current (and hopefully final) edit I have to make to this post about it: <a href="https://forum.rebol.info/t/why-nothing-is-the-name-for-the-unset-state/2078">NOTHING is the state of unset variables, and is an antiform blank</a></p>
<p>(If you find posts with outdated naming let me know--just leave a reply citing the problem and I will fix it up.)</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Antiform FRAME!s are actions, which run themselves when invoked (though in that case I don’t quite get what non-antiform FRAME!s would be)</p>
</blockquote>
</aside>
<p>Non-antiform frames don't trigger execution via word reference, are easier to pass around and manipulate.</p>
<pre><code>&gt;&gt; f: make frame! :append

&gt;&gt; f.value: 10

&gt;&gt; append10: anti f
== ~#[frame! ...]~

&gt;&gt; append10 [a b c]
== [a b c 10]
</code></pre>
<p>A non-antiform frame--by virtue of not being an antiform--can appear literally in a block and the evaluator will run it when encountered, without the need for a word reference to trigger it.</p>
<pre><code>&gt;&gt; do compose [(f) [a b c]]
== [a b c 10]
</code></pre>
<p>Due to this design, enumerating blocks will not accidentally run functions, the way historical Rebol and Red will:</p>
<pre><code>rebol2&gt;&gt; foreach item compose [(:append) (:insert) (:change)] [
             if action? item [print "it's an action"]
         ]
** Script Error: item is missing its value argument
</code></pre>
<p>...since only antiform actions run via word reference, and there are no antiforms allowed in blocks.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>I’ve seen a few references to an antiform NIHIL, but I don’t know what that does nor what a non-antiform NIHIL would be</p>
</blockquote>
</aside>
<p>NIHIL is the name for the special case of antiform BLOCK!, which is a parameter "PACK".  It's simply an antiform block with no values in it.</p>
<p>I've mentioned previously that packs are the basis of multi-return values, but if a situation is not sensitive to multi-returns then they will decay to their first element.</p>
<pre><code>&gt;&gt; x: ~['1 '2]~  ; packs hold meta values
== 1

&gt;&gt; [x y]: ~['1 '2]~
== 1

&gt;&gt; x
== 1

&gt;&gt; y
== 2

&gt;&gt; append [a b c] ~['1 '2]~
== [a b c 1]
</code></pre>
<p>As an example of the usage of multi-return values, consider FIND.</p>
<pre><code>&gt;&gt; find "abcdefghi" "def"
; first in pack of length 2
== "defghi"

&gt;&gt; pos: find "abcdefghi" "def"
== "defghi"

&gt;&gt; [pos end]: find "abcdefghi" "def"
== "defghi"

&gt;&gt; end
== "ghi"
</code></pre>
<p>NIHIL being zero values long cannot be used in an assignment, but if it's between expressions it will vanish.</p>
<pre><code>&gt;&gt; 1 + 2 ~[]~
== 3
</code></pre>
<p>This is used as the return value for things like COMMENT and ELIDE.</p>
<aside class="quote no-group" data-username="bradrn" data-post="1" data-topic="2094">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/bradrn/40/365_2.png" class="avatar"> bradrn:</div>
<blockquote>
<p>Antiform COMMA! is… <a href="https://forum.rebol.info/t/the-language-worlds-weirdest-comma-mechanic/1387/6">something</a>… which acts as an expression barrier somehow (though similarly to FRAME! I have trouble distinguishing this from the non-antiform COMMA!)</p>
</blockquote>
</aside>
<p>Antiform commas (like antiform frames) cannot appear in blocks, so certainly different in that respect.</p>
<p>A non-antiform comma evaluates to an antiform comma, which the evaluator discards... leaving the previous result:</p>
<pre><code>&gt;&gt; meta ,
== ~,~

&gt;&gt; length of [10 + 20,]
== 4

&gt;&gt; 10 + 20,
== 30
</code></pre>
<p>It's similar to NIHIL in this respect.  At one point COMMA! just evaluated to NIHIL but some problems were encountered with that, which I explain in the post you linked.</p>
<h2>
<a name="antiform-error-is-a-raised-error-1" class="anchor" href="https://forum.rebol.info#antiform-error-is-a-raised-error-1"></a>Antiform ERROR! is a "Raised" Error</h2>
<p>If you look at exception handling in Rebol and Red, it is extremely brittle.  Their constructs will basically intercept any failure that occurs at any level in the enclosed code... including typos:</p>
<p>As a very simple example:</p>
<pre><code>red&gt;&gt; attempt [data: read http://example.com]
== {&lt;!doctype html&gt;^/&lt;html&gt;^/&lt;head&gt;^/    &lt;title&gt;Example Domain&lt;/title&gt;^/^/ ...

red&gt;&gt; attempt [data: read http://xaasdfaefafa.com]
== none

red&gt;&gt; attempt [data: readd http://example.com]
== none
</code></pre>
<p>So there's no real way to narrow intercepting errors that are a result of a specific call.  Ren-C uses error antiforms to do this... where you can't store error antiforms or pass them most places, but special constructs like TRY and EXCEPT can handle them.</p>
<p>e.g. TAKE returns an error antiform when you try to take from an empty block.  By default this will be "promoted to failure":</p>
<pre><code>&gt;&gt; take []
** Script Error: Can't TAKE, no value available (consider TRY TAKE)
</code></pre>
<p>But before that promotion to failure (which can only be intercepted by SYS.UTIL.RESCUE), you can meta a raised error at the moment it is returned from a specific call:</p>
<pre><code>&gt;&gt; meta/except take []
== ~make error! [
    type: 'Script
    id: 'nothing-to-take
    message: "Can't TAKE, no value available (consider TRY TAKE)"
    near: [meta take [] **]
    where: [take console]
    file: ~null~
    line: 1
]~
</code></pre>
<p>As it suggests, TRY will convert raised errors to null:</p>
<pre><code>&gt;&gt; try take []
== ~null~  ; anti
</code></pre>
<p>Original writeup here:</p>
<p><a href="https://forum.rebol.info/t/fail-vs-return-raise-the-new-age-of-definitional-failures/1852" class="inline-onebox">FAIL vs. RETURN RAISE: The New Age of Definitional Errors!</a></p>
<h2>
<a name="antiform-object-is-the-very-experimental-lazy-2" class="anchor" href="https://forum.rebol.info#antiform-object-is-the-very-experimental-lazy-2"></a>Antiform OBJECT! is the very experimental "LAZY"</h2>
<p>This has turned out to be more of a rabbit hole than I first thought.  I'm not sure if this is going to make it, but some experiments have been done with it:</p>
<p><a href="https://forum.rebol.info/t/applications-of-antiform-objects/1959" class="inline-onebox">Applications of Isotopic Objects</a></p>
<h2>
<a name="thats-all-the-antiforms-so-far-3" class="anchor" href="https://forum.rebol.info#thats-all-the-antiforms-so-far-3"></a>That's all the antiforms so far...</h2>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/2">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/2</link>
        <pubDate>Sun, 07 Jan 2024 09:16:26 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-2</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
      <item>
        <title>Which antiforms are currently in use?</title>
        <dc:creator><![CDATA[bradrn]]></dc:creator>
        <description><![CDATA[
            <p>Since <a href="https://forum.rebol.info/t/a-justification-of-generalized-isotopes/1918">generalised isotopes</a>, every type has an antiform which cannot be stored in blocks. But not every antiform type makes sense — for instance, what could one do with an antiform TIME!? So it seems that, out of necessity, practical uses for antiform values are decided on an ad-hoc basis.</p>
<p>So far, the ones I know about are these:</p>
<ul>
<li>Antiform GROUP!s are splices, which are pretty trivial to understand</li>
<li>Antiform FRAME!s are actions, which run themselves when invoked (though in that case I don’t quite get what non-antiform FRAME!s would be)</li>
<li>Antiform VOID! is an unset variable, I believe, though the naming seems to have changed so often that I’ve had a lot of trouble following the relevant forum posts</li>
<li>Antiform COMMA! is… <a href="https://forum.rebol.info/t/the-language-worlds-weirdest-comma-mechanic/1387/6">something</a>… which acts as an expression barrier somehow (though similarly to FRAME! I have trouble distinguishing this from the non-antiform COMMA!)</li>
<li>Antiform WORD!s seem to be error states of some description, as well as booleans — except that makes no sense to me, since surely booleans should be storable in blocks‽</li>
<li>I’ve seen a few references to an antiform NIHIL, but I don’t know what that does nor what a non-antiform NIHIL would be</li>
</ul>
<p>So… clearly there’s a lot missing. Do we have any comprehensive list of which of the various antiforms are currently in use, and what they are used for? If not, it would be awfully convenient to have one…</p>
          <p><a href="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/1">Read full topic</a></p>
        ]]></description>
        <link>https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094/1</link>
        <pubDate>Sun, 07 Jan 2024 05:00:51 +0000</pubDate>
        <guid isPermaLink="false">forum.rebol.info-post-2094-1</guid>
        <source url="https://forum.rebol.info/t/which-antiforms-are-currently-in-use/2094.rss">Which antiforms are currently in use?</source>
      </item>
  </channel>
</rss>
